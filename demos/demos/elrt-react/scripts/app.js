!function(e){function r(e,r,o){return 4===arguments.length?t.apply(this,arguments):void n(e,{declarative:!0,deps:r,declare:o})}function t(e,r,t,o){n(e,{declarative:!1,deps:r,executingRequire:t,execute:o})}function n(e,r){r.name=e,e in v||(v[e]=r),r.normalizedDeps=r.deps}function o(e,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==g.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var t=0,n=e.normalizedDeps.length;n>t;t++){var a=e.normalizedDeps[t],u=v[a];if(u&&!u.evaluated){var d=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<d){if(void 0!==u.groupIndex&&(r[u.groupIndex].splice(g.call(r[u.groupIndex],u),1),0==r[u.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");u.groupIndex=d}o(u,r)}}}}function a(e){var r=v[e];r.groupIndex=0;var t=[];o(r,t);for(var n=!!r.declarative==t.length%2,a=t.length-1;a>=0;a--){for(var u=t[a],i=0;i<u.length;i++){var s=u[i];n?d(s):l(s)}n=!n}}function u(e){return y[e]||(y[e]={name:e,dependencies:[],exports:{},importers:[]})}function d(r){if(!r.module){var t=r.module=u(r.name),n=r.module.exports,o=r.declare.call(e,function(e,r){if(t.locked=!0,"object"==typeof e)for(var o in e)n[o]=e[o];else n[e]=r;for(var a=0,u=t.importers.length;u>a;a++){var d=t.importers[a];if(!d.locked)for(var i=0;i<d.dependencies.length;++i)d.dependencies[i]===t&&d.setters[i](n)}return t.locked=!1,r},{id:r.name});t.setters=o.setters,t.execute=o.execute;for(var a=0,i=r.normalizedDeps.length;i>a;a++){var l,s=r.normalizedDeps[a],c=v[s],f=y[s];f?l=f.exports:c&&!c.declarative?l=c.esModule:c?(d(c),f=c.module,l=f.exports):l=p(s),f&&f.importers?(f.importers.push(t),t.dependencies.push(f)):t.dependencies.push(null),t.setters[a]&&t.setters[a](l)}}}function i(e){var r,t=v[e];if(t)t.declarative?f(e,[]):t.evaluated||l(t),r=t.module.exports;else if(r=p(e),!r)throw new Error("Unable to load dependency "+e+".");return(!t||t.declarative)&&r&&r.__useDefault?r.default:r}function l(r){if(!r.module){var t={},n=r.module={exports:t,id:r.name};if(!r.executingRequire)for(var o=0,a=r.normalizedDeps.length;a>o;o++){var u=r.normalizedDeps[o],d=v[u];d&&l(d)}r.evaluated=!0;var c=r.execute.call(e,function(e){for(var t=0,n=r.deps.length;n>t;t++)if(r.deps[t]==e)return i(r.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},t,n);c&&(n.exports=c),t=n.exports,t&&t.__esModule?r.esModule=t:r.esModule=s(t)}}function s(r){var t={};if(("object"==typeof r||"function"==typeof r)&&r!==e)if(m)for(var n in r)"default"!==n&&c(t,r,n);else{var o=r&&r.hasOwnProperty;for(var n in r)"default"===n||o&&!r.hasOwnProperty(n)||(t[n]=r[n])}return t.default=r,x(t,"__useDefault",{value:!0}),t}function c(e,r,t){try{var n;(n=Object.getOwnPropertyDescriptor(r,t))&&x(e,t,n)}catch(o){return e[t]=r[t],!1}}function f(r,t){var n=v[r];if(n&&!n.evaluated&&n.declarative){t.push(r);for(var o=0,a=n.normalizedDeps.length;a>o;o++){var u=n.normalizedDeps[o];-1==g.call(t,u)&&(v[u]?f(u,t):p(u))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function p(e){if(I[e])return I[e];if("@node/"==e.substr(0,6))return I[e]=s(D(e.substr(6)));var r=v[e];if(!r)throw"Module "+e+" not present.";return a(e),f(e,[]),v[e]=void 0,r.declarative&&x(r.module.exports,"__esModule",{value:!0}),I[e]=r.declarative?r.module.exports:r.esModule}var v={},g=Array.prototype.indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(this[r]===e)return r;return-1},m=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(h){m=!1}var x;!function(){try{Object.defineProperty({},"a",{})&&(x=Object.defineProperty)}catch(e){x=function(e,r,t){try{e[r]=t.value||t.get.call(e)}catch(n){}}}}();var y={},D="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,I={"@empty":{}};return function(e,n,o,a){return function(u){u(function(u){for(var d={_nodeRequire:D,register:r,registerDynamic:t,get:p,set:function(e,r){I[e]=r},newModule:function(e){return e}},i=0;i<n.length;i++)(function(e,r){r&&r.__esModule?I[e]=r:I[e]=s(r)})(n[i],arguments[i]);a(d);var l=p(e[0]);if(e.length>1)for(var i=1;i<e.length;i++)p(e[i]);return o?l.default:l})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function($__System){var require=this.require,exports=this.exports,module=this.module;!function(e){function r(e,r){for(var n=e.split(".");n.length;)r=r[n.shift()];return r}function n(n){if("string"==typeof n)return r(n,e);if(!(n instanceof Array))throw new Error("Global exports must be a string or array.");for(var t={},o=!0,f=0;f<n.length;f++){var i=r(n[f],e);o&&(t.default=i,o=!1),t[n[f].split(".").pop()]=i}return t}function t(r){if(Object.keys)Object.keys(e).forEach(r);else for(var n in e)a.call(e,n)&&r(n)}function o(r){t(function(n){if(-1==l.call(s,n)){try{var t=e[n]}catch(o){s.push(n)}r(n,t)}})}var f,i=$__System,a=Object.prototype.hasOwnProperty,l=Array.prototype.indexOf||function(e){for(var r=0,n=this.length;n>r;r++)if(this[r]===e)return r;return-1},s=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];i.set("@@global-helpers",i.newModule({prepareGlobal:function(r,t,i){var a=e.define;e.define=void 0;var l;if(i){l={};for(var s in i)l[s]=e[s],e[s]=i[s]}return t||(f={},o(function(e,r){f[e]=r})),function(){var r;if(t)r=n(t);else{r={};var i,s;o(function(e,n){f[e]!==n&&"undefined"!=typeof n&&(r[e]=n,"undefined"!=typeof i?s||i===n||(s=!0):i=n)}),r=s?r:i}if(l)for(var u in l)e[u]=l[u];return e.define=a,r}}}))}("undefined"!=typeof self?self:global),$__System.registerDynamic("2",["6","3","4","5"],!0,function($__require,exports,module){"use strict";function FallbackCompositionState(root){this._root=root,this._startText=this.getText(),this._fallbackText=null}var _assign=($__require("5"),this||self,$__require("6")),PooledClass=$__require("3"),getTextContentAccessor=$__require("4");return _assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText)return this._fallbackText;var start,end,startValue=this._startText,startLength=startValue.length,endValue=this.getText(),endLength=endValue.length;for(start=0;start<startLength&&startValue[start]===endValue[start];start++);var minEnd=startLength-start;for(end=1;end<=minEnd&&startValue[startLength-end]===endValue[endLength-end];end++);var sliceTail=end>1?1-end:void 0;return this._fallbackText=endValue.slice(start,sliceTail),this._fallbackText}}),PooledClass.addPoolingTo(FallbackCompositionState),module.exports=FallbackCompositionState,module.exports}),$__System.registerDynamic("7",["8","5"],!0,function($__require,exports,module){"use strict";function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=($__require("5"),this||self,$__require("8")),CompositionEventInterface={data:null};return SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface),module.exports=SyntheticCompositionEvent,module.exports}),$__System.registerDynamic("9",["8","5"],!0,function($__require,exports,module){"use strict";function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=($__require("5"),this||self,$__require("8")),InputEventInterface={data:null};return SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface),module.exports=SyntheticInputEvent,module.exports}),$__System.registerDynamic("a",["b","c","d","2","7","9","e","5"],!0,function($__require,exports,module){"use strict";function isPresto(){var opera=window.opera;return"object"==typeof opera&&"function"==typeof opera.version&&parseInt(opera.version(),10)<=12}function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey)}function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return!0;default:return!1}}function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;return"object"==typeof detail&&"data"in detail?detail.data:null}function extractCompositionEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget){var eventType,fallbackData;if(canUseCompositionEvent?eventType=getCompositionEventType(topLevelType):currentComposition?isFallbackCompositionEnd(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionEnd):isFallbackCompositionStart(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionStart),!eventType)return null;useFallbackCompositionData&&(currentComposition||eventType!==eventTypes.compositionStart?eventType===eventTypes.compositionEnd&&currentComposition&&(fallbackData=currentComposition.getData()):currentComposition=FallbackCompositionState.getPooled(nativeEventTarget));var event=SyntheticCompositionEvent.getPooled(eventType,targetInst,nativeEvent,nativeEventTarget);if(fallbackData)event.data=fallbackData;else{var customData=getDataFromCustomEvent(nativeEvent);null!==customData&&(event.data=customData)}return EventPropagators.accumulateTwoPhaseDispatches(event),event}function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;return which!==SPACEBAR_CODE?null:(hasSpaceKeypress=!0,SPACEBAR_CHAR);case topLevelTypes.topTextInput:var chars=nativeEvent.data;return chars===SPACEBAR_CHAR&&hasSpaceKeypress?null:chars;default:return null}}function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();return FallbackCompositionState.release(currentComposition),currentComposition=null,chars}return null}switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:return nativeEvent.which&&!isKeypressCommand(nativeEvent)?String.fromCharCode(nativeEvent.which):null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null}}function extractBeforeInputEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget){var chars;if(chars=canUseTextInputEvent?getNativeBeforeInputChars(topLevelType,nativeEvent):getFallbackBeforeInputChars(topLevelType,nativeEvent),!chars)return null;var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,targetInst,nativeEvent,nativeEventTarget);return event.data=chars,EventPropagators.accumulateTwoPhaseDispatches(event),event}var EventConstants=($__require("5"),this||self,$__require("b")),EventPropagators=$__require("c"),ExecutionEnvironment=$__require("d"),FallbackCompositionState=$__require("2"),SyntheticCompositionEvent=$__require("7"),SyntheticInputEvent=$__require("9"),keyOf=$__require("e"),END_KEYCODES=[9,13,27,32],START_KEYCODE=229,canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window,documentMode=null;ExecutionEnvironment.canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto(),useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&documentMode<=11),SPACEBAR_CODE=32,SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE),topLevelTypes=EventConstants.topLevelTypes,eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}},hasSpaceKeypress=!1,currentComposition=null,BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,targetInst,nativeEvent,nativeEventTarget)]}};return module.exports=BeforeInputEventPlugin,module.exports}),$__System.registerDynamic("f",["b","10","c","d","11","12","8","13","14","15","e","5"],!0,function($__require,exports,module){"use strict";function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return"select"===nodeName||"input"===nodeName&&"file"===elem.type}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementInst,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event),ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event),EventPluginHub.processEventQueue(!1)}function startWatchingForChangeEventIE8(target,targetInst){activeElement=target,activeElementInst=targetInst,activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){activeElement&&(activeElement.detachEvent("onchange",manualDispatchChangeEvent),activeElement=null,activeElementInst=null)}function getTargetInstForChangeEvent(topLevelType,targetInst){if(topLevelType===topLevelTypes.topChange)return targetInst}function handleEventsForChangeEventIE8(topLevelType,target,targetInst){topLevelType===topLevelTypes.topFocus?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(target,targetInst)):topLevelType===topLevelTypes.topBlur&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(target,targetInst){activeElement=target,activeElementInst=targetInst,activeElementValue=target.value,activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value"),Object.defineProperty(activeElement,"value",newValueProp),activeElement.attachEvent?activeElement.attachEvent("onpropertychange",handlePropertyChange):activeElement.addEventListener("propertychange",handlePropertyChange,!1)}function stopWatchingForValueChange(){activeElement&&(delete activeElement.value,activeElement.detachEvent?activeElement.detachEvent("onpropertychange",handlePropertyChange):activeElement.removeEventListener("propertychange",handlePropertyChange,!1),activeElement=null,activeElementInst=null,activeElementValue=null,activeElementValueProp=null)}function handlePropertyChange(nativeEvent){if("value"===nativeEvent.propertyName){var value=nativeEvent.srcElement.value;value!==activeElementValue&&(activeElementValue=value,manualDispatchChangeEvent(nativeEvent))}}function getTargetInstForInputEvent(topLevelType,targetInst){if(topLevelType===topLevelTypes.topInput)return targetInst}function handleEventsForInputEventIE(topLevelType,target,targetInst){topLevelType===topLevelTypes.topFocus?(stopWatchingForValueChange(),startWatchingForValueChange(target,targetInst)):topLevelType===topLevelTypes.topBlur&&stopWatchingForValueChange()}function getTargetInstForInputEventIE(topLevelType,targetInst){if((topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown)&&activeElement&&activeElement.value!==activeElementValue)return activeElementValue=activeElement.value,activeElementInst}function shouldUseClickEvent(elem){return elem.nodeName&&"input"===elem.nodeName.toLowerCase()&&("checkbox"===elem.type||"radio"===elem.type)}function getTargetInstForClickEvent(topLevelType,targetInst){if(topLevelType===topLevelTypes.topClick)return targetInst}var EventConstants=($__require("5"),this||self,$__require("b")),EventPluginHub=$__require("10"),EventPropagators=$__require("c"),ExecutionEnvironment=$__require("d"),ReactDOMComponentTree=$__require("11"),ReactUpdates=$__require("12"),SyntheticEvent=$__require("8"),getEventTarget=$__require("13"),isEventSupported=$__require("14"),isTextInputElement=$__require("15"),keyOf=$__require("e"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementInst=null,activeElementValue=null,activeElementValueProp=null,doesChangeEventBubble=!1;ExecutionEnvironment.canUseDOM&&(doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8));var isInputEventSupported=!1;ExecutionEnvironment.canUseDOM&&(isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>11));var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val,activeElementValueProp.set.call(this,val)}},ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){var getTargetInstFunc,handleEventFunc,targetNode=targetInst?ReactDOMComponentTree.getNodeFromInstance(targetInst):window;if(shouldUseChangeEvent(targetNode)?doesChangeEventBubble?getTargetInstFunc=getTargetInstForChangeEvent:handleEventFunc=handleEventsForChangeEventIE8:isTextInputElement(targetNode)?isInputEventSupported?getTargetInstFunc=getTargetInstForInputEvent:(getTargetInstFunc=getTargetInstForInputEventIE,handleEventFunc=handleEventsForInputEventIE):shouldUseClickEvent(targetNode)&&(getTargetInstFunc=getTargetInstForClickEvent),getTargetInstFunc){var inst=getTargetInstFunc(topLevelType,targetInst);if(inst){var event=SyntheticEvent.getPooled(eventTypes.change,inst,nativeEvent,nativeEventTarget);return event.type="change",EventPropagators.accumulateTwoPhaseDispatches(event),event}}handleEventFunc&&handleEventFunc(topLevelType,targetNode,targetInst)}};return module.exports=ChangeEventPlugin,module.exports}),$__System.registerDynamic("16",["e","5"],!0,function($__require,exports,module){"use strict";var keyOf=($__require("5"),this||self,$__require("e")),DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];return module.exports=DefaultEventPluginOrder,module.exports}),$__System.registerDynamic("17",["b","c","11","18","e","5"],!0,function($__require,exports,module){"use strict";var EventConstants=($__require("5"),this||self,$__require("b")),EventPropagators=$__require("c"),ReactDOMComponentTree=$__require("11"),SyntheticMouseEvent=$__require("18"),keyOf=$__require("e"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}},EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement))return null;if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver)return null;var win;if(nativeEventTarget.window===nativeEventTarget)win=nativeEventTarget;else{var doc=nativeEventTarget.ownerDocument;win=doc?doc.defaultView||doc.parentWindow:window}var from,to;if(topLevelType===topLevelTypes.topMouseOut){from=targetInst;var related=nativeEvent.relatedTarget||nativeEvent.toElement;to=related?ReactDOMComponentTree.getClosestInstanceFromNode(related):null}else from=null,to=targetInst;if(from===to)return null;var fromNode=null==from?win:ReactDOMComponentTree.getNodeFromInstance(from),toNode=null==to?win:ReactDOMComponentTree.getNodeFromInstance(to),leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,from,nativeEvent,nativeEventTarget);leave.type="mouseleave",leave.target=fromNode,leave.relatedTarget=toNode;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,to,nativeEvent,nativeEventTarget);return enter.type="mouseenter",enter.target=toNode,enter.relatedTarget=fromNode,EventPropagators.accumulateEnterLeaveDispatches(leave,enter,from,to),[leave,enter]}};return module.exports=EnterLeaveEventPlugin,module.exports}),$__System.registerDynamic("19",["1a","5"],!0,function($__require,exports,module){"use strict";var DOMProperty=($__require("5"),this||self,$__require("1a")),MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY,HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE,HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE,HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE,HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE,HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+DOMProperty.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:HAS_BOOLEAN_VALUE,allowTransparency:0,alt:0,async:HAS_BOOLEAN_VALUE,autoComplete:0,autoPlay:HAS_BOOLEAN_VALUE,capture:HAS_BOOLEAN_VALUE,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,cite:0,classID:0,className:0,cols:HAS_POSITIVE_NUMERIC_VALUE,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:HAS_BOOLEAN_VALUE,coords:0,crossOrigin:0,data:0,dateTime:0,default:HAS_BOOLEAN_VALUE,defer:HAS_BOOLEAN_VALUE,dir:0,disabled:HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:0,frameBorder:0,headers:0,height:0,hidden:HAS_BOOLEAN_VALUE,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:HAS_BOOLEAN_VALUE,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:0,nonce:0,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:HAS_BOOLEAN_VALUE,referrerPolicy:0,rel:0,required:HAS_BOOLEAN_VALUE,reversed:HAS_BOOLEAN_VALUE,role:0,rows:HAS_POSITIVE_NUMERIC_VALUE,rowSpan:HAS_NUMERIC_VALUE,sandbox:0,scope:0,scoped:HAS_BOOLEAN_VALUE,scrolling:0,seamless:HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:0,size:HAS_POSITIVE_NUMERIC_VALUE,sizes:0,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:HAS_NUMERIC_VALUE,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:HAS_BOOLEAN_VALUE,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};return module.exports=HTMLDOMPropertyConfig,module.exports}),$__System.registerDynamic("1b",["1c","11","5"],!0,function($__require,exports,module){"use strict";var DOMChildrenOperations=($__require("5"),this||self,$__require("1c")),ReactDOMComponentTree=$__require("11"),ReactDOMIDOperations={dangerouslyProcessChildrenUpdates:function(parentInst,updates){var node=ReactDOMComponentTree.getNodeFromInstance(parentInst);DOMChildrenOperations.processUpdates(node,updates)}};return module.exports=ReactDOMIDOperations,module.exports}),$__System.registerDynamic("1d",["1c","1b","5"],!0,function($__require,exports,module){"use strict";var DOMChildrenOperations=($__require("5"),this||self,$__require("1c")),ReactDOMIDOperations=$__require("1b"),ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup};return module.exports=ReactComponentBrowserEnvironment,module.exports}),$__System.registerDynamic("1e",["11","1f","5"],!0,function($__require,exports,module){"use strict";var ReactDOMComponentTree=($__require("5"),this||self,$__require("11")),focusNode=$__require("1f"),AutoFocusUtils={focusDOMComponent:function(){focusNode(ReactDOMComponentTree.getNodeFromInstance(this))}};return module.exports=AutoFocusUtils,module.exports}),$__System.registerDynamic("20",["5"],!0,function($__require,exports,module){"use strict";function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}var _hyphenPattern=($__require("5"),this||self,/-(.)/g);return module.exports=camelize,module.exports}),$__System.registerDynamic("21",["20","5"],!0,function($__require,exports,module){"use strict";function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}var camelize=($__require("5"),this||self,$__require("20")),msPattern=/^-ms-/;return module.exports=camelizeStyleName,module.exports}),$__System.registerDynamic("22",["5"],!0,function($__require,exports,module){"use strict";function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var isUnitlessNumber=($__require("5"),this||self,{animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0}),prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};return module.exports=CSSProperty,module.exports}),$__System.registerDynamic("23",["22","24","5"],!0,function($__require,exports,module){"use strict";function dangerousStyleValue(name,value,component){var isEmpty=null==value||"boolean"==typeof value||""===value;if(isEmpty)return"";var isNonNumeric=isNaN(value);if(isNonNumeric||0===value||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name])return""+value;if("string"==typeof value){value=value.trim()}return value+"px"}var CSSProperty=($__require("5"),this||self,$__require("22")),isUnitlessNumber=($__require("24"),CSSProperty.isUnitlessNumber);return module.exports=dangerousStyleValue,module.exports}),$__System.registerDynamic("25",["5"],!0,function($__require,exports,module){"use strict";function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}var _uppercasePattern=($__require("5"),this||self,/([A-Z])/g);return module.exports=hyphenate,module.exports}),$__System.registerDynamic("26",["25","5"],!0,function($__require,exports,module){"use strict";function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}var hyphenate=($__require("5"),this||self,$__require("25")),msPattern=/^ms-/;return module.exports=hyphenateStyleName,module.exports}),$__System.registerDynamic("27",["5"],!0,function($__require,exports,module){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){return cache.hasOwnProperty(string)||(cache[string]=callback.call(this,string)),cache[string]}}$__require("5"),this||self;return module.exports=memoizeStringOnly,module.exports}),$__System.registerDynamic("28",["22","d","29","21","23","26","27","24","5"],!0,function($__require,exports,module){"use strict";var CSSProperty=($__require("5"),this||self,$__require("22")),ExecutionEnvironment=$__require("d"),dangerousStyleValue=($__require("29"),$__require("21"),$__require("23")),hyphenateStyleName=$__require("26"),memoizeStringOnly=$__require("27"),processStyleName=($__require("24"),memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)})),hasShorthandPropertyBug=!1,styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement("div").style;try{tempStyle.font=""}catch(e){hasShorthandPropertyBug=!0}void 0===document.documentElement.style.cssFloat&&(styleFloatAccessor="styleFloat")}var CSSPropertyOperations={createMarkupForStyles:function(styles,component){var serialized="";for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=styles[styleName];null!=styleValue&&(serialized+=processStyleName(styleName)+":",serialized+=dangerousStyleValue(styleName,styleValue,component)+";")}return serialized||null},setValueForStyles:function(node,styles,component){var style=node.style;for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=dangerousStyleValue(styleName,styles[styleName],component);if("float"!==styleName&&"cssFloat"!==styleName||(styleName=styleFloatAccessor),styleValue)style[styleName]=styleValue;else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion)for(var individualStyleName in expansion)style[individualStyleName]="";else style[styleName]="";
}}}};return module.exports=CSSPropertyOperations,module.exports}),$__System.registerDynamic("2a",["2b","5"],!0,function($__require,exports,module){"use strict";var DisabledInputUtils=($__require("5"),this||self,$__require("2b")),ReactDOMButton={getHostProps:DisabledInputUtils.getHostProps};return module.exports=ReactDOMButton,module.exports}),$__System.registerDynamic("2c",["2d","5"],!0,function($__require,exports,module){"use strict";function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"'}var escapeTextContentForBrowser=($__require("5"),this||self,$__require("2d"));return module.exports=quoteAttributeValueForBrowser,module.exports}),$__System.registerDynamic("2e",["1a","11","29","2c","24","5"],!0,function($__require,exports,module){"use strict";function isAttributeNameSafe(attributeName){return!!validatedAttributeNameCache.hasOwnProperty(attributeName)||!illegalAttributeNameCache.hasOwnProperty(attributeName)&&(VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)?(validatedAttributeNameCache[attributeName]=!0,!0):(illegalAttributeNameCache[attributeName]=!0,!1))}function shouldIgnoreValue(propertyInfo,value){return null==value||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&value<1||propertyInfo.hasOverloadedBooleanValue&&value===!1}var DOMProperty=($__require("5"),this||self,$__require("1a")),quoteAttributeValueForBrowser=($__require("11"),$__require("29"),$__require("2c")),VALID_ATTRIBUTE_NAME_REGEX=($__require("24"),new RegExp("^["+DOMProperty.ATTRIBUTE_NAME_START_CHAR+"]["+DOMProperty.ATTRIBUTE_NAME_CHAR+"]*$")),illegalAttributeNameCache={},validatedAttributeNameCache={},DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(id)},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id)},createMarkupForRoot:function(){return DOMProperty.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(node){node.setAttribute(DOMProperty.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value))return"";var attributeName=propertyInfo.attributeName;return propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?attributeName+'=""':attributeName+"="+quoteAttributeValueForBrowser(value)}return DOMProperty.isCustomAttribute(name)?null==value?"":name+"="+quoteAttributeValueForBrowser(value):null},createMarkupForCustomAttribute:function(name,value){return isAttributeNameSafe(name)&&null!=value?name+"="+quoteAttributeValueForBrowser(value):""},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,value);else{if(shouldIgnoreValue(propertyInfo,value))return void this.deleteValueForProperty(node,name);if(propertyInfo.mustUseProperty)node[propertyInfo.propertyName]=value;else{var attributeName=propertyInfo.attributeName,namespace=propertyInfo.attributeNamespace;namespace?node.setAttributeNS(namespace,attributeName,""+value):propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?node.setAttribute(attributeName,""):node.setAttribute(attributeName,""+value)}}}else if(DOMProperty.isCustomAttribute(name))return void DOMPropertyOperations.setValueForAttribute(node,name,value)},setValueForAttribute:function(node,name,value){if(isAttributeNameSafe(name)){null==value?node.removeAttribute(name):node.setAttribute(name,""+value)}},deleteValueForAttribute:function(node,name){node.removeAttribute(name)},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,void 0);else if(propertyInfo.mustUseProperty){var propName=propertyInfo.propertyName;propertyInfo.hasBooleanValue?node[propName]=!1:node[propName]=""}else node.removeAttribute(propertyInfo.attributeName)}else DOMProperty.isCustomAttribute(name)&&node.removeAttribute(name)}};return module.exports=DOMPropertyOperations,module.exports}),$__System.registerDynamic("2f",["30","6","2b","2e","31","11","12","32","24","5"],!0,function($__require,exports,module){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMInput.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if("radio"===props.type&&null!=name){for(var rootNode=ReactDOMComponentTree.getNodeFromInstance(this),queryRoot=rootNode;queryRoot.parentNode;)queryRoot=queryRoot.parentNode;for(var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]'),i=0;i<group.length;i++){var otherNode=group[i];if(otherNode!==rootNode&&otherNode.form===rootNode.form){var otherInstance=ReactDOMComponentTree.getInstanceFromNode(otherNode);otherInstance?void 0:_prodInvariant("90"),ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}}return returnValue}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),DisabledInputUtils=$__require("2b"),DOMPropertyOperations=$__require("2e"),LinkedValueUtils=$__require("31"),ReactDOMComponentTree=$__require("11"),ReactUpdates=$__require("12"),ReactDOMInput=($__require("32"),$__require("24"),{getHostProps:function(inst,props){var value=LinkedValueUtils.getValue(props),checked=LinkedValueUtils.getChecked(props),hostProps=_assign({type:void 0,step:void 0,min:void 0,max:void 0},DisabledInputUtils.getHostProps(inst,props),{defaultChecked:void 0,defaultValue:void 0,value:null!=value?value:inst._wrapperState.initialValue,checked:null!=checked?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return hostProps},mountWrapper:function(inst,props){var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:null!=props.checked?props.checked:props.defaultChecked,initialValue:null!=props.value?props.value:defaultValue,listeners:null,onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props,checked=props.checked;null!=checked&&DOMPropertyOperations.setValueForProperty(ReactDOMComponentTree.getNodeFromInstance(inst),"checked",checked||!1);var node=ReactDOMComponentTree.getNodeFromInstance(inst),value=LinkedValueUtils.getValue(props);if(null!=value){var newValue=""+value;newValue!==node.value&&(node.value=newValue)}else null==props.value&&null!=props.defaultValue&&(node.defaultValue=""+props.defaultValue),null==props.checked&&null!=props.defaultChecked&&(node.defaultChecked=!!props.defaultChecked)},postMountWrapper:function(inst){var props=inst._currentElement.props,node=ReactDOMComponentTree.getNodeFromInstance(inst);switch(props.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":node.value="",node.value=node.defaultValue;break;default:node.value=node.value}var name=node.name;""!==name&&(node.name=""),node.defaultChecked=!node.defaultChecked,node.defaultChecked=!node.defaultChecked,""!==name&&(node.name=name)}});return module.exports=ReactDOMInput,module.exports}),$__System.registerDynamic("33",["6","34","11","35","24","5"],!0,function($__require,exports,module){"use strict";function flattenChildren(children){var content="";return ReactChildren.forEach(children,function(child){null!=child&&("string"==typeof child||"number"==typeof child?content+=child:didWarnInvalidOptionChildren||(didWarnInvalidOptionChildren=!0))}),content}var _assign=($__require("5"),this||self,$__require("6")),ReactChildren=$__require("34"),ReactDOMComponentTree=$__require("11"),ReactDOMSelect=$__require("35"),didWarnInvalidOptionChildren=($__require("24"),!1),ReactDOMOption={mountWrapper:function(inst,props,hostParent){var selectValue=null;if(null!=hostParent){var selectParent=hostParent;"optgroup"===selectParent._tag&&(selectParent=selectParent._hostParent),null!=selectParent&&"select"===selectParent._tag&&(selectValue=ReactDOMSelect.getSelectValueContext(selectParent))}var selected=null;if(null!=selectValue){var value;if(value=null!=props.value?props.value+"":flattenChildren(props.children),selected=!1,Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++)if(""+selectValue[i]===value){selected=!0;break}}else selected=""+selectValue===value}inst._wrapperState={selected:selected}},postMountWrapper:function(inst){var props=inst._currentElement.props;if(null!=props.value){var node=ReactDOMComponentTree.getNodeFromInstance(inst);node.setAttribute("value",props.value)}},getHostProps:function(inst,props){var hostProps=_assign({selected:void 0,children:void 0},props);null!=inst._wrapperState.selected&&(hostProps.selected=inst._wrapperState.selected);var content=flattenChildren(props.children);return content&&(hostProps.children=content),hostProps}};return module.exports=ReactDOMOption,module.exports}),$__System.registerDynamic("35",["6","2b","31","11","12","24","5"],!0,function($__require,exports,module){"use strict";function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var props=this._currentElement.props,value=LinkedValueUtils.getValue(props);null!=value&&updateOptions(this,Boolean(props.multiple),value)}}function updateOptions(inst,multiple,propValue){var selectedValue,i,options=ReactDOMComponentTree.getNodeFromInstance(inst).options;if(multiple){for(selectedValue={},i=0;i<propValue.length;i++)selectedValue[""+propValue[i]]=!0;for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);options[i].selected!==selected&&(options[i].selected=selected)}}else{for(selectedValue=""+propValue,i=0;i<options.length;i++)if(options[i].value===selectedValue)return void(options[i].selected=!0);options.length&&(options[0].selected=!0)}}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this),returnValue}var _assign=($__require("5"),this||self,$__require("6")),DisabledInputUtils=$__require("2b"),LinkedValueUtils=$__require("31"),ReactDOMComponentTree=$__require("11"),ReactUpdates=$__require("12"),didWarnValueDefaultValue=($__require("24"),!1),ReactDOMSelect={getHostProps:function(inst,props){return _assign({},DisabledInputUtils.getHostProps(inst,props),{onChange:inst._wrapperState.onChange,value:void 0})},mountWrapper:function(inst,props){var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:!1,initialValue:null!=value?value:props.defaultValue,listeners:null,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)},void 0===props.value||void 0===props.defaultValue||didWarnValueDefaultValue||(didWarnValueDefaultValue=!0)},getSelectValueContext:function(inst){return inst._wrapperState.initialValue},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=void 0;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);null!=value?(inst._wrapperState.pendingUpdate=!1,updateOptions(inst,Boolean(props.multiple),value)):wasMultiple!==Boolean(props.multiple)&&(null!=props.defaultValue?updateOptions(inst,Boolean(props.multiple),props.defaultValue):updateOptions(inst,Boolean(props.multiple),props.multiple?[]:""))}};return module.exports=ReactDOMSelect,module.exports}),$__System.registerDynamic("2b",["5"],!0,function($__require,exports,module){"use strict";var disableableMouseListenerNames=($__require("5"),this||self,{onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),DisabledInputUtils={getHostProps:function(inst,props){if(!props.disabled)return props;var hostProps={};for(var key in props)!disableableMouseListenerNames[key]&&props.hasOwnProperty(key)&&(hostProps[key]=props[key]);return hostProps}};return module.exports=DisabledInputUtils,module.exports}),$__System.registerDynamic("31",["30","36","37","38","32","24","5"],!0,function($__require,exports,module){"use strict";function _assertSingleLink(inputProps){null!=inputProps.checkedLink&&null!=inputProps.valueLink?_prodInvariant("87"):void 0}function _assertValueLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.value||null!=inputProps.onChange?_prodInvariant("88"):void 0}function _assertCheckedLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.checked||null!=inputProps.onChange?_prodInvariant("89"):void 0}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactPropTypes=$__require("36"),ReactPropTypeLocations=$__require("37"),ReactPropTypesSecret=$__require("38"),hasReadOnlyValue=($__require("32"),$__require("24"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),propTypes={value:function(props,propName,componentName){return!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(props,propName,componentName){return!props[propName]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func},loggedTypeFailures={},LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName))var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop,null,ReactPropTypesSecret);if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;getDeclarationErrorAddendum(owner)}}},getValue:function(inputProps){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.value):inputProps.value},getChecked:function(inputProps){return inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.value):inputProps.checked},executeOnChange:function(inputProps,event){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.requestChange(event.target.value)):inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.requestChange(event.target.checked)):inputProps.onChange?inputProps.onChange.call(void 0,event):void 0}};return module.exports=LinkedValueUtils,module.exports}),$__System.registerDynamic("39",["30","6","2b","31","11","12","32","24","5"],!0,function($__require,exports,module){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMTextarea.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return ReactUpdates.asap(forceUpdateIfMounted,this),returnValue}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),DisabledInputUtils=$__require("2b"),LinkedValueUtils=$__require("31"),ReactDOMComponentTree=$__require("11"),ReactUpdates=$__require("12"),ReactDOMTextarea=($__require("32"),$__require("24"),{getHostProps:function(inst,props){null!=props.dangerouslySetInnerHTML?_prodInvariant("91"):void 0;var hostProps=_assign({},DisabledInputUtils.getHostProps(inst,props),{value:void 0,defaultValue:void 0,children:""+inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return hostProps},mountWrapper:function(inst,props){var value=LinkedValueUtils.getValue(props),initialValue=value;if(null==value){var defaultValue=props.defaultValue,children=props.children;null!=children&&(null!=defaultValue?_prodInvariant("92"):void 0,Array.isArray(children)&&(children.length<=1?void 0:_prodInvariant("93"),children=children[0]),defaultValue=""+children),null==defaultValue&&(defaultValue=""),initialValue=defaultValue}inst._wrapperState={initialValue:""+initialValue,listeners:null,onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props,node=ReactDOMComponentTree.getNodeFromInstance(inst),value=LinkedValueUtils.getValue(props);if(null!=value){var newValue=""+value;newValue!==node.value&&(node.value=newValue),null==props.defaultValue&&(node.defaultValue=newValue)}null!=props.defaultValue&&(node.defaultValue=props.defaultValue)},postMountWrapper:function(inst){var node=ReactDOMComponentTree.getNodeFromInstance(inst);node.value=node.textContent}});return module.exports=ReactDOMTextarea,module.exports}),$__System.registerDynamic("3a",["3b","3c","3d","3e","3f","24","40","5"],!0,function($__require,exports,module){"use strict";function instantiateChild(childInstances,child,name,selfDebugID){var keyUnique=void 0===childInstances[name];null!=child&&keyUnique&&(childInstances[name]=instantiateReactComponent(child,!0))}var process=$__require("5"),ReactReconciler=(this||self,$__require("3b")),instantiateReactComponent=$__require("3c"),shouldUpdateReactComponent=($__require("3d"),$__require("3e")),traverseAllChildren=$__require("3f");$__require("24");"undefined"!=typeof process&&process.env,1;var ReactChildReconciler={instantiateChildren:function(nestedChildNodes,transaction,context,selfDebugID){if(null==nestedChildNodes)return null;var childInstances={};return traverseAllChildren(nestedChildNodes,instantiateChild,childInstances),childInstances},updateChildren:function(prevChildren,nextChildren,mountImages,removedNodes,transaction,hostParent,hostContainerInfo,context,selfDebugID){if(nextChildren||prevChildren){var name,prevChild;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){prevChild=prevChildren&&prevChildren[name];var prevElement=prevChild&&prevChild._currentElement,nextElement=nextChildren[name];if(null!=prevChild&&shouldUpdateReactComponent(prevElement,nextElement))ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context),nextChildren[name]=prevChild;else{prevChild&&(removedNodes[name]=ReactReconciler.getHostNode(prevChild),ReactReconciler.unmountComponent(prevChild,!1));var nextChildInstance=instantiateReactComponent(nextElement,!0);nextChildren[name]=nextChildInstance;var nextChildMountImage=ReactReconciler.mountComponent(nextChildInstance,transaction,hostParent,hostContainerInfo,context,selfDebugID);mountImages.push(nextChildMountImage)}}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren.hasOwnProperty(name)||(prevChild=prevChildren[name],removedNodes[name]=ReactReconciler.getHostNode(prevChild),ReactReconciler.unmountComponent(prevChild,!1))}},unmountChildren:function(renderedChildren,safely){for(var name in renderedChildren)if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild,safely)}}};return module.exports=ReactChildReconciler,module.exports}),$__System.registerDynamic("41",["3d","3f","24","40","5"],!0,function($__require,exports,module){"use strict";function flattenSingleChildIntoContext(traverseContext,child,name,selfDebugID){if(traverseContext&&"object"==typeof traverseContext){var result=traverseContext,keyUnique=void 0===result[name];keyUnique&&null!=child&&(result[name]=child)}}function flattenChildren(children,selfDebugID){if(null==children)return children;var result={};return traverseAllChildren(children,flattenSingleChildIntoContext,result),result}var process=$__require("5"),traverseAllChildren=(this||self,$__require("3d"),$__require("3f"));$__require("24");return"undefined"!=typeof process&&process.env,1,module.exports=flattenChildren,module.exports}),$__System.registerDynamic("42",["30","43","44","29","45","46","3b","3a","47","41","32","5"],!0,function($__require,exports,module){"use strict";function makeInsertMarkup(markup,afterNode,toIndex){return{type:ReactMultiChildUpdateTypes.INSERT_MARKUP,content:markup,fromIndex:null,fromNode:null,toIndex:toIndex,afterNode:afterNode}}function makeMove(child,afterNode,toIndex){return{type:ReactMultiChildUpdateTypes.MOVE_EXISTING,content:null,fromIndex:child._mountIndex,fromNode:ReactReconciler.getHostNode(child),toIndex:toIndex,afterNode:afterNode}}function makeRemove(child,node){return{type:ReactMultiChildUpdateTypes.REMOVE_NODE,content:null,fromIndex:child._mountIndex,fromNode:node,toIndex:null,afterNode:null}}function makeSetMarkup(markup){return{type:ReactMultiChildUpdateTypes.SET_MARKUP,content:markup,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function makeTextContent(textContent){return{type:ReactMultiChildUpdateTypes.TEXT_CONTENT,content:textContent,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function enqueue(queue,update){return update&&(queue=queue||[],queue.push(update)),queue}function processQueue(inst,updateQueue){ReactComponentEnvironment.processChildrenUpdates(inst,updateQueue)}var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactComponentEnvironment=$__require("43"),ReactMultiChildUpdateTypes=($__require("44"),$__require("29"),$__require("45")),ReactReconciler=($__require("46"),$__require("3b")),ReactChildReconciler=$__require("3a"),flattenChildren=($__require("47"),$__require("41")),ReactMultiChild=($__require("32"),{Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,mountImages,removedNodes,transaction,context){var nextChildren,selfDebugID=0;return nextChildren=flattenChildren(nextNestedChildrenElements,selfDebugID),ReactChildReconciler.updateChildren(prevChildren,nextChildren,mountImages,removedNodes,transaction,this,this._hostContainerInfo,context,selfDebugID),nextChildren},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[],index=0;for(var name in children)if(children.hasOwnProperty(name)){var child=children[name],selfDebugID=0,mountImage=ReactReconciler.mountComponent(child,transaction,this,this._hostContainerInfo,context,selfDebugID);child._mountIndex=index++,mountImages.push(mountImage)}return mountImages},updateTextContent:function(nextContent){var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren,!1);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&_prodInvariant("118");var updates=[makeTextContent(nextContent)];processQueue(this,updates)},updateMarkup:function(nextMarkup){var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren,!1);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&_prodInvariant("118");var updates=[makeSetMarkup(nextMarkup)];processQueue(this,updates)},updateChildren:function(nextNestedChildrenElements,transaction,context){this._updateChildren(nextNestedChildrenElements,transaction,context)},_updateChildren:function(nextNestedChildrenElements,transaction,context){var prevChildren=this._renderedChildren,removedNodes={},mountImages=[],nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,mountImages,removedNodes,transaction,context);if(nextChildren||prevChildren){var name,updates=null,nextIndex=0,lastIndex=0,nextMountIndex=0,lastPlacedNode=null;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],nextChild=nextChildren[name];prevChild===nextChild?(updates=enqueue(updates,this.moveChild(prevChild,lastPlacedNode,nextIndex,lastIndex)),lastIndex=Math.max(prevChild._mountIndex,lastIndex),prevChild._mountIndex=nextIndex):(prevChild&&(lastIndex=Math.max(prevChild._mountIndex,lastIndex)),updates=enqueue(updates,this._mountChildAtIndex(nextChild,mountImages[nextMountIndex],lastPlacedNode,nextIndex,transaction,context)),nextMountIndex++),nextIndex++,lastPlacedNode=ReactReconciler.getHostNode(nextChild)}for(name in removedNodes)removedNodes.hasOwnProperty(name)&&(updates=enqueue(updates,this._unmountChild(prevChildren[name],removedNodes[name])));updates&&processQueue(this,updates),this._renderedChildren=nextChildren}},unmountChildren:function(safely){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren,safely),this._renderedChildren=null},moveChild:function(child,afterNode,toIndex,lastIndex){if(child._mountIndex<lastIndex)return makeMove(child,afterNode,toIndex)},createChild:function(child,afterNode,mountImage){return makeInsertMarkup(mountImage,afterNode,child._mountIndex)},removeChild:function(child,node){return makeRemove(child,node)},_mountChildAtIndex:function(child,mountImage,afterNode,index,transaction,context){return child._mountIndex=index,this.createChild(child,afterNode,mountImage)},_unmountChild:function(child,node){var update=this.removeChild(child,node);return child._mountIndex=null,update}}});return module.exports=ReactMultiChild,module.exports}),$__System.registerDynamic("48",["49","4a","24","5"],!0,function($__require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function warnNoop(publicInstance,callerName){}var ReactUpdateQueue=($__require("5"),this||self,$__require("49")),ReactServerUpdateQueue=($__require("4a"),$__require("24"),function(){function ReactServerUpdateQueue(transaction){_classCallCheck(this,ReactServerUpdateQueue),this.transaction=transaction}return ReactServerUpdateQueue.prototype.isMounted=function(publicInstance){return!1},ReactServerUpdateQueue.prototype.enqueueCallback=function(publicInstance,callback,callerName){this.transaction.isInTransaction()&&ReactUpdateQueue.enqueueCallback(publicInstance,callback,callerName)},ReactServerUpdateQueue.prototype.enqueueForceUpdate=function(publicInstance){this.transaction.isInTransaction()?ReactUpdateQueue.enqueueForceUpdate(publicInstance):warnNoop(publicInstance,"forceUpdate")},ReactServerUpdateQueue.prototype.enqueueReplaceState=function(publicInstance,completeState){this.transaction.isInTransaction()?ReactUpdateQueue.enqueueReplaceState(publicInstance,completeState):warnNoop(publicInstance,"replaceState")},ReactServerUpdateQueue.prototype.enqueueSetState=function(publicInstance,partialState){this.transaction.isInTransaction()?ReactUpdateQueue.enqueueSetState(publicInstance,partialState):warnNoop(publicInstance,"setState")},ReactServerUpdateQueue}());return module.exports=ReactServerUpdateQueue,module.exports}),$__System.registerDynamic("4b",["6","3","4a","29","48","5"],!0,function($__require,exports,module){"use strict";function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction(),this.renderToStaticMarkup=renderToStaticMarkup,this.useCreateElement=!1,this.updateQueue=new ReactServerUpdateQueue(this)}var _assign=($__require("5"),this||self,$__require("6")),PooledClass=$__require("3"),Transaction=$__require("4a"),ReactServerUpdateQueue=($__require("29"),$__require("48")),TRANSACTION_WRAPPERS=[],noopCallbackQueue={enqueue:function(){}},Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return noopCallbackQueue},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};return _assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactServerRenderingTransaction),module.exports=ReactServerRenderingTransaction,module.exports}),$__System.registerDynamic("4c",["30","6","1e","28","4d","4e","1a","2e","b","10","4f","50","2a","51","11","2f","33","35","39","29","42","4b","47","2d","32","14","e","53","52","24","5"],!0,function($__require,exports,module){"use strict";function getDeclarationErrorAddendum(internalInstance){if(internalInstance){var owner=internalInstance._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" This DOM node was rendered by `"+name+"`."}}return""}function assertValidProps(component,props){props&&(voidElementTags[component._tag]&&(null!=props.children||null!=props.dangerouslySetInnerHTML?_prodInvariant("137",component._tag,component._currentElement._owner?" Check the render method of "+component._currentElement._owner.getName()+".":""):void 0),null!=props.dangerouslySetInnerHTML&&(null!=props.children?_prodInvariant("60"):void 0,"object"==typeof props.dangerouslySetInnerHTML&&HTML in props.dangerouslySetInnerHTML?void 0:_prodInvariant("61")),null!=props.style&&"object"!=typeof props.style?_prodInvariant("62",getDeclarationErrorAddendum(component)):void 0)}function enqueuePutListener(inst,registrationName,listener,transaction){if(!(transaction instanceof ReactServerRenderingTransaction)){var containerInfo=inst._hostContainerInfo,isDocumentFragment=containerInfo._node&&containerInfo._node.nodeType===DOC_FRAGMENT_TYPE,doc=isDocumentFragment?containerInfo._node:containerInfo._ownerDocument;listenTo(registrationName,doc),transaction.getReactMountReady().enqueue(putListener,{inst:inst,registrationName:registrationName,listener:listener})}}function putListener(){var listenerToPut=this;EventPluginHub.putListener(listenerToPut.inst,listenerToPut.registrationName,listenerToPut.listener)}function inputPostMount(){var inst=this;ReactDOMInput.postMountWrapper(inst)}function textareaPostMount(){var inst=this;ReactDOMTextarea.postMountWrapper(inst)}function optionPostMount(){var inst=this;ReactDOMOption.postMountWrapper(inst)}function trapBubbledEventsLocal(){var inst=this;inst._rootNodeID?void 0:_prodInvariant("63");var node=getNode(inst);switch(node?void 0:_prodInvariant("64"),inst._tag){case"iframe":case"object":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"video":case"audio":inst._wrapperState.listeners=[];for(var event in mediaEvents)mediaEvents.hasOwnProperty(event)&&inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node));break;case"source":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node)];break;case"img":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"form":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)];break;case"input":case"select":case"textarea":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topInvalid,"invalid",node)]}}function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this)}function validateDangerousTag(tag){hasOwnProperty.call(validatedTagCache,tag)||(VALID_TAG_REGEX.test(tag)?void 0:_prodInvariant("65",tag),
validatedTagCache[tag]=!0)}function isCustomComponent(tagName,props){return tagName.indexOf("-")>=0||null!=props.is}function ReactDOMComponent(element){var tag=element.type;validateDangerousTag(tag),this._currentElement=element,this._tag=tag.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),AutoFocusUtils=$__require("1e"),CSSPropertyOperations=$__require("28"),DOMLazyTree=$__require("4d"),DOMNamespaces=$__require("4e"),DOMProperty=$__require("1a"),DOMPropertyOperations=$__require("2e"),EventConstants=$__require("b"),EventPluginHub=$__require("10"),EventPluginRegistry=$__require("4f"),ReactBrowserEventEmitter=$__require("50"),ReactDOMButton=$__require("2a"),ReactDOMComponentFlags=$__require("51"),ReactDOMComponentTree=$__require("11"),ReactDOMInput=$__require("2f"),ReactDOMOption=$__require("33"),ReactDOMSelect=$__require("35"),ReactDOMTextarea=$__require("39"),ReactMultiChild=($__require("29"),$__require("42")),ReactServerRenderingTransaction=$__require("4b"),escapeTextContentForBrowser=($__require("47"),$__require("2d")),keyOf=($__require("32"),$__require("14"),$__require("e")),Flags=($__require("53"),$__require("52"),$__require("24"),ReactDOMComponentFlags),deleteListener=EventPluginHub.deleteListener,getNode=ReactDOMComponentTree.getNodeFromInstance,listenTo=ReactBrowserEventEmitter.listenTo,registrationNameModules=EventPluginRegistry.registrationNameModules,CONTENT_TYPES={string:!0,number:!0},STYLE=keyOf({style:null}),HTML=keyOf({__html:null}),RESERVED_PROPS={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},DOC_FRAGMENT_TYPE=11,mediaEvents={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},omittedCloseTags={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},newlineEatingTags={listing:!0,pre:!0,textarea:!0},voidElementTags=_assign({menuitem:!0},omittedCloseTags),VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,validatedTagCache={},hasOwnProperty={}.hasOwnProperty,globalIdCounter=1;return ReactDOMComponent.displayName="ReactDOMComponent",ReactDOMComponent.Mixin={mountComponent:function(transaction,hostParent,hostContainerInfo,context){this._rootNodeID=globalIdCounter++,this._domID=hostContainerInfo._idCounter++,this._hostParent=hostParent,this._hostContainerInfo=hostContainerInfo;var props=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"button":props=ReactDOMButton.getHostProps(this,props,hostParent);break;case"input":ReactDOMInput.mountWrapper(this,props,hostParent),props=ReactDOMInput.getHostProps(this,props),transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"option":ReactDOMOption.mountWrapper(this,props,hostParent),props=ReactDOMOption.getHostProps(this,props);break;case"select":ReactDOMSelect.mountWrapper(this,props,hostParent),props=ReactDOMSelect.getHostProps(this,props),transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"textarea":ReactDOMTextarea.mountWrapper(this,props,hostParent),props=ReactDOMTextarea.getHostProps(this,props),transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this)}assertValidProps(this,props);var namespaceURI,parentTag;null!=hostParent?(namespaceURI=hostParent._namespaceURI,parentTag=hostParent._tag):hostContainerInfo._tag&&(namespaceURI=hostContainerInfo._namespaceURI,parentTag=hostContainerInfo._tag),(null==namespaceURI||namespaceURI===DOMNamespaces.svg&&"foreignobject"===parentTag)&&(namespaceURI=DOMNamespaces.html),namespaceURI===DOMNamespaces.html&&("svg"===this._tag?namespaceURI=DOMNamespaces.svg:"math"===this._tag&&(namespaceURI=DOMNamespaces.mathml)),this._namespaceURI=namespaceURI;var mountImage;if(transaction.useCreateElement){var el,ownerDocument=hostContainerInfo._ownerDocument;if(namespaceURI===DOMNamespaces.html)if("script"===this._tag){var div=ownerDocument.createElement("div"),type=this._currentElement.type;div.innerHTML="<"+type+"></"+type+">",el=div.removeChild(div.firstChild)}else el=props.is?ownerDocument.createElement(this._currentElement.type,props.is):ownerDocument.createElement(this._currentElement.type);else el=ownerDocument.createElementNS(namespaceURI,this._currentElement.type);ReactDOMComponentTree.precacheNode(this,el),this._flags|=Flags.hasCachedChildNodes,this._hostParent||DOMPropertyOperations.setAttributeForRoot(el),this._updateDOMProperties(null,props,transaction);var lazyTree=DOMLazyTree(el);this._createInitialChildren(transaction,props,context,lazyTree),mountImage=lazyTree}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props),tagContent=this._createContentMarkup(transaction,props,context);mountImage=!tagContent&&omittedCloseTags[this._tag]?tagOpen+"/>":tagOpen+">"+tagContent+"</"+this._currentElement.type+">"}switch(this._tag){case"input":transaction.getReactMountReady().enqueue(inputPostMount,this),props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this);break;case"textarea":transaction.getReactMountReady().enqueue(textareaPostMount,this),props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this);break;case"select":props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this);break;case"button":props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this);break;case"option":transaction.getReactMountReady().enqueue(optionPostMount,this)}return mountImage},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret="<"+this._currentElement.type;for(var propKey in props)if(props.hasOwnProperty(propKey)){var propValue=props[propKey];if(null!=propValue)if(registrationNameModules.hasOwnProperty(propKey))propValue&&enqueuePutListener(this,propKey,propValue,transaction);else{propKey===STYLE&&(propValue&&(propValue=this._previousStyleCopy=_assign({},props.style)),propValue=CSSPropertyOperations.createMarkupForStyles(propValue,this));var markup=null;null!=this._tag&&isCustomComponent(this._tag,props)?RESERVED_PROPS.hasOwnProperty(propKey)||(markup=DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue)):markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue),markup&&(ret+=" "+markup)}}return transaction.renderToStaticMarkup?ret:(this._hostParent||(ret+=" "+DOMPropertyOperations.createMarkupForRoot()),ret+=" "+DOMPropertyOperations.createMarkupForID(this._domID))},_createContentMarkup:function(transaction,props,context){var ret="",innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&(ret=innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)ret=escapeTextContentForBrowser(contentToUse);else if(null!=childrenToUse){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join("")}}return newlineEatingTags[this._tag]&&"\n"===ret.charAt(0)?"\n"+ret:ret},_createInitialChildren:function(transaction,props,context,lazyTree){var innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&DOMLazyTree.queueHTML(lazyTree,innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)DOMLazyTree.queueText(lazyTree,contentToUse);else if(null!=childrenToUse)for(var mountImages=this.mountChildren(childrenToUse,transaction,context),i=0;i<mountImages.length;i++)DOMLazyTree.queueChild(lazyTree,mountImages[i])}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement,this.updateComponent(transaction,prevElement,nextElement,context)},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props,nextProps=this._currentElement.props;switch(this._tag){case"button":lastProps=ReactDOMButton.getHostProps(this,lastProps),nextProps=ReactDOMButton.getHostProps(this,nextProps);break;case"input":lastProps=ReactDOMInput.getHostProps(this,lastProps),nextProps=ReactDOMInput.getHostProps(this,nextProps);break;case"option":lastProps=ReactDOMOption.getHostProps(this,lastProps),nextProps=ReactDOMOption.getHostProps(this,nextProps);break;case"select":lastProps=ReactDOMSelect.getHostProps(this,lastProps),nextProps=ReactDOMSelect.getHostProps(this,nextProps);break;case"textarea":lastProps=ReactDOMTextarea.getHostProps(this,lastProps),nextProps=ReactDOMTextarea.getHostProps(this,nextProps)}switch(assertValidProps(this,nextProps),this._updateDOMProperties(lastProps,nextProps,transaction),this._updateDOMChildren(lastProps,nextProps,transaction,context),this._tag){case"input":ReactDOMInput.updateWrapper(this);break;case"textarea":ReactDOMTextarea.updateWrapper(this);break;case"select":transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this)}},_updateDOMProperties:function(lastProps,nextProps,transaction){var propKey,styleName,styleUpdates;for(propKey in lastProps)if(!nextProps.hasOwnProperty(propKey)&&lastProps.hasOwnProperty(propKey)&&null!=lastProps[propKey])if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle)lastStyle.hasOwnProperty(styleName)&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");this._previousStyleCopy=null}else registrationNameModules.hasOwnProperty(propKey)?lastProps[propKey]&&deleteListener(this,propKey):isCustomComponent(this._tag,lastProps)?RESERVED_PROPS.hasOwnProperty(propKey)||DOMPropertyOperations.deleteValueForAttribute(getNode(this),propKey):(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))&&DOMPropertyOperations.deleteValueForProperty(getNode(this),propKey);for(propKey in nextProps){var nextProp=nextProps[propKey],lastProp=propKey===STYLE?this._previousStyleCopy:null!=lastProps?lastProps[propKey]:void 0;if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp&&(null!=nextProp||null!=lastProp))if(propKey===STYLE)if(nextProp?nextProp=this._previousStyleCopy=_assign({},nextProp):this._previousStyleCopy=null,lastProp){for(styleName in lastProp)!lastProp.hasOwnProperty(styleName)||nextProp&&nextProp.hasOwnProperty(styleName)||(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");for(styleName in nextProp)nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]=nextProp[styleName])}else styleUpdates=nextProp;else if(registrationNameModules.hasOwnProperty(propKey))nextProp?enqueuePutListener(this,propKey,nextProp,transaction):lastProp&&deleteListener(this,propKey);else if(isCustomComponent(this._tag,nextProps))RESERVED_PROPS.hasOwnProperty(propKey)||DOMPropertyOperations.setValueForAttribute(getNode(this),propKey,nextProp);else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey)){var node=getNode(this);null!=nextProp?DOMPropertyOperations.setValueForProperty(node,propKey,nextProp):DOMPropertyOperations.deleteValueForProperty(node,propKey)}}styleUpdates&&CSSPropertyOperations.setValueForStyles(getNode(this),styleUpdates,this)},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null,nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null,lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html,nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html,lastChildren=null!=lastContent?null:lastProps.children,nextChildren=null!=nextContent?null:nextProps.children,lastHasContentOrHtml=null!=lastContent||null!=lastHtml,nextHasContentOrHtml=null!=nextContent||null!=nextHtml;null!=lastChildren&&null==nextChildren?this.updateChildren(null,transaction,context):lastHasContentOrHtml&&!nextHasContentOrHtml&&this.updateTextContent(""),null!=nextContent?lastContent!==nextContent&&this.updateTextContent(""+nextContent):null!=nextHtml?lastHtml!==nextHtml&&this.updateMarkup(""+nextHtml):null!=nextChildren&&this.updateChildren(nextChildren,transaction,context)},getHostNode:function(){return getNode(this)},unmountComponent:function(safely){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var listeners=this._wrapperState.listeners;if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].remove();break;case"html":case"head":case"body":_prodInvariant("66",this._tag)}this.unmountChildren(safely),ReactDOMComponentTree.uncacheNode(this),EventPluginHub.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return getNode(this)}},_assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin),module.exports=ReactDOMComponent,module.exports}),$__System.registerDynamic("54",["6","4d","11","5"],!0,function($__require,exports,module){"use strict";var _assign=($__require("5"),this||self,$__require("6")),DOMLazyTree=$__require("4d"),ReactDOMComponentTree=$__require("11"),ReactDOMEmptyComponent=function(instantiate){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};return _assign(ReactDOMEmptyComponent.prototype,{mountComponent:function(transaction,hostParent,hostContainerInfo,context){var domID=hostContainerInfo._idCounter++;this._domID=domID,this._hostParent=hostParent,this._hostContainerInfo=hostContainerInfo;var nodeValue=" react-empty: "+this._domID+" ";if(transaction.useCreateElement){var ownerDocument=hostContainerInfo._ownerDocument,node=ownerDocument.createComment(nodeValue);return ReactDOMComponentTree.precacheNode(this,node),DOMLazyTree(node)}return transaction.renderToStaticMarkup?"":"<!--"+nodeValue+"-->"},receiveComponent:function(){},getHostNode:function(){return ReactDOMComponentTree.getNodeFromInstance(this)},unmountComponent:function(){ReactDOMComponentTree.uncacheNode(this)}}),module.exports=ReactDOMEmptyComponent,module.exports}),$__System.registerDynamic("55",["30","32","5"],!0,function($__require,exports,module){"use strict";function getLowestCommonAncestor(instA,instB){"_hostNode"in instA?void 0:_prodInvariant("33"),"_hostNode"in instB?void 0:_prodInvariant("33");for(var depthA=0,tempA=instA;tempA;tempA=tempA._hostParent)depthA++;for(var depthB=0,tempB=instB;tempB;tempB=tempB._hostParent)depthB++;for(;depthA-depthB>0;)instA=instA._hostParent,depthA--;for(;depthB-depthA>0;)instB=instB._hostParent,depthB--;for(var depth=depthA;depth--;){if(instA===instB)return instA;instA=instA._hostParent,instB=instB._hostParent}return null}function isAncestor(instA,instB){"_hostNode"in instA?void 0:_prodInvariant("35"),"_hostNode"in instB?void 0:_prodInvariant("35");for(;instB;){if(instB===instA)return!0;instB=instB._hostParent}return!1}function getParentInstance(inst){return"_hostNode"in inst?void 0:_prodInvariant("36"),inst._hostParent}function traverseTwoPhase(inst,fn,arg){for(var path=[];inst;)path.push(inst),inst=inst._hostParent;var i;for(i=path.length;i-- >0;)fn(path[i],!1,arg);for(i=0;i<path.length;i++)fn(path[i],!0,arg)}function traverseEnterLeave(from,to,fn,argFrom,argTo){for(var common=from&&to?getLowestCommonAncestor(from,to):null,pathFrom=[];from&&from!==common;)pathFrom.push(from),from=from._hostParent;for(var pathTo=[];to&&to!==common;)pathTo.push(to),to=to._hostParent;var i;for(i=0;i<pathFrom.length;i++)fn(pathFrom[i],!0,argFrom);for(i=pathTo.length;i-- >0;)fn(pathTo[i],!1,argTo)}var _prodInvariant=($__require("5"),this||self,$__require("30"));$__require("32");return module.exports={isAncestor:isAncestor,getLowestCommonAncestor:getLowestCommonAncestor,getParentInstance:getParentInstance,traverseTwoPhase:traverseTwoPhase,traverseEnterLeave:traverseEnterLeave},module.exports}),$__System.registerDynamic("56",["32","5"],!0,function($__require,exports,module){"use strict";function toArray(obj){var length=obj.length;if(Array.isArray(obj)||"object"!=typeof obj&&"function"!=typeof obj?invariant(!1):void 0,"number"!=typeof length?invariant(!1):void 0,0===length||length-1 in obj?void 0:invariant(!1),"function"==typeof obj.callee?invariant(!1):void 0,obj.hasOwnProperty)try{return Array.prototype.slice.call(obj)}catch(e){}for(var ret=Array(length),ii=0;ii<length;ii++)ret[ii]=obj[ii];return ret}function hasArrayNature(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"length"in obj&&!("setInterval"in obj)&&"number"!=typeof obj.nodeType&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFromMixed(obj){return hasArrayNature(obj)?Array.isArray(obj)?obj.slice():toArray(obj):[obj]}var invariant=($__require("5"),this||self,$__require("32"));return module.exports=createArrayFromMixed,module.exports}),$__System.registerDynamic("57",["d","32","5"],!0,function($__require,exports,module){"use strict";function getMarkupWrap(nodeName){return dummyNode?void 0:invariant(!1),markupWrap.hasOwnProperty(nodeName)||(nodeName="*"),shouldWrap.hasOwnProperty(nodeName)||("*"===nodeName?dummyNode.innerHTML="<link />":dummyNode.innerHTML="<"+nodeName+"></"+nodeName+">",shouldWrap[nodeName]=!dummyNode.firstChild),shouldWrap[nodeName]?markupWrap[nodeName]:null}var ExecutionEnvironment=($__require("5"),this||self,$__require("d")),invariant=$__require("32"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,shouldWrap={},selectWrap=[1,'<select multiple="true">',"</select>"],tableWrap=[1,"<table>","</table>"],trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"],svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap},svgElements=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];return svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap,shouldWrap[nodeName]=!0}),module.exports=getMarkupWrap,module.exports}),$__System.registerDynamic("58",["d","56","57","32","5"],!0,function($__require,exports,module){"use strict";function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;dummyNode?void 0:invariant(!1);var nodeName=getNodeName(markup),wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];for(var wrapDepth=wrap[0];wrapDepth--;)node=node.lastChild}else node.innerHTML=markup;var scripts=node.getElementsByTagName("script");scripts.length&&(handleScript?void 0:invariant(!1),createArrayFromMixed(scripts).forEach(handleScript));for(var nodes=Array.from(node.childNodes);node.lastChild;)node.removeChild(node.lastChild);return nodes}var ExecutionEnvironment=($__require("5"),this||self,$__require("d")),createArrayFromMixed=$__require("56"),getMarkupWrap=$__require("57"),invariant=$__require("32"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,nodeNamePattern=/^\s*<(\w+)/;return module.exports=createNodesFromMarkup,module.exports}),$__System.registerDynamic("59",["30","4d","d","58","47","32","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),DOMLazyTree=$__require("4d"),ExecutionEnvironment=$__require("d"),createNodesFromMarkup=$__require("58"),emptyFunction=$__require("47"),Danger=($__require("32"),{dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){if(ExecutionEnvironment.canUseDOM?void 0:_prodInvariant("56"),markup?void 0:_prodInvariant("57"),"HTML"===oldChild.nodeName?_prodInvariant("58"):void 0,"string"==typeof markup){var newChild=createNodesFromMarkup(markup,emptyFunction)[0];oldChild.parentNode.replaceChild(newChild,oldChild)}else DOMLazyTree.replaceChildWithTree(oldChild,markup)}});return module.exports=Danger,module.exports}),$__System.registerDynamic("45",["5a","5"],!0,function($__require,exports,module){"use strict";var keyMirror=($__require("5"),this||self,$__require("5a")),ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});return module.exports=ReactMultiChildUpdateTypes,module.exports}),$__System.registerDynamic("1c",["4d","59","45","11","29","5b","5c","5d","5"],!0,function($__require,exports,module){"use strict";function getNodeAfter(parentNode,node){return Array.isArray(node)&&(node=node[1]),node?node.nextSibling:parentNode.firstChild}function insertLazyTreeChildAt(parentNode,childTree,referenceNode){DOMLazyTree.insertTreeBefore(parentNode,childTree,referenceNode)}function moveChild(parentNode,childNode,referenceNode){Array.isArray(childNode)?moveDelimitedText(parentNode,childNode[0],childNode[1],referenceNode):insertChildAt(parentNode,childNode,referenceNode)}function removeChild(parentNode,childNode){if(Array.isArray(childNode)){var closingComment=childNode[1];childNode=childNode[0],removeDelimitedText(parentNode,childNode,closingComment),parentNode.removeChild(closingComment)}parentNode.removeChild(childNode)}function moveDelimitedText(parentNode,openingComment,closingComment,referenceNode){for(var node=openingComment;;){var nextNode=node.nextSibling;if(insertChildAt(parentNode,node,referenceNode),node===closingComment)break;node=nextNode}}function removeDelimitedText(parentNode,startNode,closingComment){for(;;){var node=startNode.nextSibling;if(node===closingComment)break;parentNode.removeChild(node)}}function replaceDelimitedText(openingComment,closingComment,stringText){var parentNode=openingComment.parentNode,nodeAfterComment=openingComment.nextSibling;nodeAfterComment===closingComment?stringText&&insertChildAt(parentNode,document.createTextNode(stringText),nodeAfterComment):stringText?(setTextContent(nodeAfterComment,stringText),removeDelimitedText(parentNode,nodeAfterComment,closingComment)):removeDelimitedText(parentNode,openingComment,closingComment)}var DOMLazyTree=($__require("5"),this||self,$__require("4d")),Danger=$__require("59"),ReactMultiChildUpdateTypes=$__require("45"),createMicrosoftUnsafeLocalFunction=($__require("11"),$__require("29"),$__require("5b")),setInnerHTML=$__require("5c"),setTextContent=$__require("5d"),insertChildAt=createMicrosoftUnsafeLocalFunction(function(parentNode,childNode,referenceNode){parentNode.insertBefore(childNode,referenceNode)}),dangerouslyReplaceNodeWithMarkup=Danger.dangerouslyReplaceNodeWithMarkup,DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:replaceDelimitedText,processUpdates:function(parentNode,updates){for(var k=0;k<updates.length;k++){var update=updates[k];switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertLazyTreeChildAt(parentNode,update.content,getNodeAfter(parentNode,update.afterNode));break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:moveChild(parentNode,update.fromNode,getNodeAfter(parentNode,update.afterNode));break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(parentNode,update.content);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(parentNode,update.content);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:removeChild(parentNode,update.fromNode)}}}};return module.exports=DOMChildrenOperations,module.exports}),$__System.registerDynamic("5e",["30","6","1c","4d","11","2d","32","52","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),DOMChildrenOperations=$__require("1c"),DOMLazyTree=$__require("4d"),ReactDOMComponentTree=$__require("11"),escapeTextContentForBrowser=$__require("2d"),ReactDOMTextComponent=($__require("32"),$__require("52"),function(text){this._currentElement=text,this._stringText=""+text,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});return _assign(ReactDOMTextComponent.prototype,{mountComponent:function(transaction,hostParent,hostContainerInfo,context){var domID=hostContainerInfo._idCounter++,openingValue=" react-text: "+domID+" ",closingValue=" /react-text ";if(this._domID=domID,this._hostParent=hostParent,transaction.useCreateElement){var ownerDocument=hostContainerInfo._ownerDocument,openingComment=ownerDocument.createComment(openingValue),closingComment=ownerDocument.createComment(closingValue),lazyTree=DOMLazyTree(ownerDocument.createDocumentFragment());return DOMLazyTree.queueChild(lazyTree,DOMLazyTree(openingComment)),this._stringText&&DOMLazyTree.queueChild(lazyTree,DOMLazyTree(ownerDocument.createTextNode(this._stringText))),DOMLazyTree.queueChild(lazyTree,DOMLazyTree(closingComment)),ReactDOMComponentTree.precacheNode(this,openingComment),this._closingComment=closingComment,lazyTree}var escapedText=escapeTextContentForBrowser(this._stringText);return transaction.renderToStaticMarkup?escapedText:"<!--"+openingValue+"-->"+escapedText+"<!--"+closingValue+"-->"},receiveComponent:function(nextText,transaction){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=""+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var commentNodes=this.getHostNode();DOMChildrenOperations.replaceDelimitedText(commentNodes[0],commentNodes[1],nextStringText)}}},getHostNode:function(){var hostNode=this._commentNodes;if(hostNode)return hostNode;if(!this._closingComment)for(var openingComment=ReactDOMComponentTree.getNodeFromInstance(this),node=openingComment.nextSibling;;){if(null==node?_prodInvariant("67",this._domID):void 0,8===node.nodeType&&" /react-text "===node.nodeValue){this._closingComment=node;break}node=node.nextSibling}return hostNode=[this._hostNode,this._closingComment],this._commentNodes=hostNode,hostNode},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,ReactDOMComponentTree.uncacheNode(this)}}),module.exports=ReactDOMTextComponent,module.exports}),$__System.registerDynamic("5f",["6","12","4a","47","5"],!0,function($__require,exports,module){"use strict";function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var _assign=($__require("5"),this||self,$__require("6")),ReactUpdates=$__require("12"),Transaction=$__require("4a"),emptyFunction=$__require("47"),RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=!1}},FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)},TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];_assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction,ReactDefaultBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=!0,alreadyBatchingUpdates?callback(a,b,c,d,e):transaction.perform(callback,null,a,b,c,d,e)}};return module.exports=ReactDefaultBatchingStrategy,module.exports}),$__System.registerDynamic("60",["5"],!0,function($__require,exports,module){"use strict";function getUnboundedScrollPosition(scrollable){return scrollable===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:scrollable.scrollLeft,y:scrollable.scrollTop}}$__require("5"),this||self;return module.exports=getUnboundedScrollPosition,module.exports}),$__System.registerDynamic("61",["6","62","d","3","11","12","13","60","5"],!0,function($__require,exports,module){"use strict";function findParent(inst){for(;inst._hostParent;)inst=inst._hostParent;var rootNode=ReactDOMComponentTree.getNodeFromInstance(inst),container=rootNode.parentNode;return ReactDOMComponentTree.getClosestInstanceFromNode(container)}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType,this.nativeEvent=nativeEvent,this.ancestors=[]}function handleTopLevelImpl(bookKeeping){var nativeEventTarget=getEventTarget(bookKeeping.nativeEvent),targetInst=ReactDOMComponentTree.getClosestInstanceFromNode(nativeEventTarget),ancestor=targetInst;do bookKeeping.ancestors.push(ancestor),ancestor=ancestor&&findParent(ancestor);while(ancestor);for(var i=0;i<bookKeeping.ancestors.length;i++)targetInst=bookKeeping.ancestors[i],ReactEventListener._handleTopLevel(bookKeeping.topLevelType,targetInst,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var _assign=($__require("5"),this||self,$__require("6")),EventListener=$__require("62"),ExecutionEnvironment=$__require("d"),PooledClass=$__require("3"),ReactDOMComponentTree=$__require("11"),ReactUpdates=$__require("12"),getEventTarget=$__require("13"),getUnboundedScrollPosition=$__require("60");_assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);var ReactEventListener={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(ReactEventListener._enabled){var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}}};return module.exports=ReactEventListener,module.exports}),$__System.registerDynamic("63",["1a","10","64","43","65","66","50","67","12","5"],!0,function($__require,exports,module){
"use strict";var DOMProperty=($__require("5"),this||self,$__require("1a")),EventPluginHub=$__require("10"),EventPluginUtils=$__require("64"),ReactComponentEnvironment=$__require("43"),ReactClass=$__require("65"),ReactEmptyComponent=$__require("66"),ReactBrowserEventEmitter=$__require("50"),ReactHostComponent=$__require("67"),ReactUpdates=$__require("12"),ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventPluginUtils:EventPluginUtils.injection,EventEmitter:ReactBrowserEventEmitter.injection,HostComponent:ReactHostComponent.injection,Updates:ReactUpdates.injection};return module.exports=ReactInjection,module.exports}),$__System.registerDynamic("68",["6","69","3","50","6a","29","4a","49","5"],!0,function($__require,exports,module){"use strict";function ReactReconcileTransaction(useCreateElement){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=useCreateElement}var _assign=($__require("5"),this||self,$__require("6")),CallbackQueue=$__require("69"),PooledClass=$__require("3"),ReactBrowserEventEmitter=$__require("50"),ReactInputSelection=$__require("6a"),Transaction=($__require("29"),$__require("4a")),ReactUpdateQueue=$__require("49"),SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection},EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();return ReactBrowserEventEmitter.setEnabled(!1),currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}},ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return ReactUpdateQueue},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(checkpoint){this.reactMountReady.rollback(checkpoint)},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};return _assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactReconcileTransaction),module.exports=ReactReconcileTransaction,module.exports}),$__System.registerDynamic("6b",["5"],!0,function($__require,exports,module){"use strict";var NS=($__require("5"),this||self,{xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"}),ATTRS={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},SVGDOMPropertyConfig={Properties:{},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{}};return Object.keys(ATTRS).forEach(function(key){SVGDOMPropertyConfig.Properties[key]=0,ATTRS[key]&&(SVGDOMPropertyConfig.DOMAttributeNames[key]=ATTRS[key])}),module.exports=SVGDOMPropertyConfig,module.exports}),$__System.registerDynamic("6c",["5"],!0,function($__require,exports,module){"use strict";function getLeafNode(node){for(;node&&node.firstChild;)node=node.firstChild;return node}function getSiblingNode(node){for(;node;){if(node.nextSibling)return node.nextSibling;node=node.parentNode}}function getNodeForCharacterOffset(root,offset){for(var node=getLeafNode(root),nodeStart=0,nodeEnd=0;node;){if(3===node.nodeType){if(nodeEnd=nodeStart+node.textContent.length,nodeStart<=offset&&nodeEnd>=offset)return{node:node,offset:offset-nodeStart};nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}$__require("5"),this||self;return module.exports=getNodeForCharacterOffset,module.exports}),$__System.registerDynamic("4",["d","5"],!0,function($__require,exports,module){"use strict";function getTextContentAccessor(){return!contentKey&&ExecutionEnvironment.canUseDOM&&(contentKey="textContent"in document.documentElement?"textContent":"innerText"),contentKey}var ExecutionEnvironment=($__require("5"),this||self,$__require("d")),contentKey=null;return module.exports=getTextContentAccessor,module.exports}),$__System.registerDynamic("6d",["d","6c","4","5"],!0,function($__require,exports,module){"use strict";function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection,selectedRange=selection.createRange(),selectedLength=selectedRange.text.length,fromStart=selectedRange.duplicate();fromStart.moveToElementText(node),fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length,endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||0===selection.rangeCount)return null;var anchorNode=selection.anchorNode,anchorOffset=selection.anchorOffset,focusNode=selection.focusNode,focusOffset=selection.focusOffset,currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType,currentRange.endContainer.nodeType}catch(e){return null}var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset),rangeLength=isSelectionCollapsed?0:currentRange.toString().length,tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node),tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset),start=isTempRangeCollapsed?0:tempRange.toString().length,end=start+rangeLength,detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset),detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var start,end,range=document.selection.createRange().duplicate();void 0===offsets.end?(start=offsets.start,end=start):offsets.start>offsets.end?(start=offsets.end,end=offsets.start):(start=offsets.start,end=offsets.end),range.moveToElementText(node),range.moveStart("character",start),range.setEndPoint("EndToStart",range),range.moveEnd("character",end-start),range.select()}function setModernOffsets(node,offsets){if(window.getSelection){var selection=window.getSelection(),length=node[getTextContentAccessor()].length,start=Math.min(offsets.start,length),end=void 0===offsets.end?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start,start=temp}var startMarker=getNodeForCharacterOffset(node,start),endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset),selection.removeAllRanges(),start>end?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range))}}}var ExecutionEnvironment=($__require("5"),this||self,$__require("d")),getNodeForCharacterOffset=$__require("6c"),getTextContentAccessor=$__require("4"),useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window),ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};return module.exports=ReactDOMSelection,module.exports}),$__System.registerDynamic("6e",["5"],!0,function($__require,exports,module){"use strict";function isNode(object){return!(!object||!("function"==typeof Node?object instanceof Node:"object"==typeof object&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName))}$__require("5"),this||self;return module.exports=isNode,module.exports}),$__System.registerDynamic("6f",["6e","5"],!0,function($__require,exports,module){"use strict";function isTextNode(object){return isNode(object)&&3==object.nodeType}var isNode=($__require("5"),this||self,$__require("6e"));return module.exports=isTextNode,module.exports}),$__System.registerDynamic("70",["6f","5"],!0,function($__require,exports,module){"use strict";function containsNode(outerNode,innerNode){return!(!outerNode||!innerNode)&&(outerNode===innerNode||!isTextNode(outerNode)&&(isTextNode(innerNode)?containsNode(outerNode,innerNode.parentNode):"contains"in outerNode?outerNode.contains(innerNode):!!outerNode.compareDocumentPosition&&!!(16&outerNode.compareDocumentPosition(innerNode))))}var isTextNode=($__require("5"),this||self,$__require("6f"));return module.exports=containsNode,module.exports}),$__System.registerDynamic("1f",["5"],!0,function($__require,exports,module){"use strict";function focusNode(node){try{node.focus()}catch(e){}}$__require("5"),this||self;return module.exports=focusNode,module.exports}),$__System.registerDynamic("6a",["6d","70","1f","71","5"],!0,function($__require,exports,module){"use strict";function isInDocument(node){return containsNode(document.documentElement,node)}var ReactDOMSelection=($__require("5"),this||self,$__require("6d")),containsNode=$__require("70"),focusNode=$__require("1f"),getActiveElement=$__require("71"),ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&"text"===elem.type||"textarea"===nodeName||"true"===elem.contentEditable)},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement(),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)&&(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)&&ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange),focusNode(priorFocusedElem))},getSelection:function(input){var selection;if("selectionStart"in input)selection={start:input.selectionStart,end:input.selectionEnd};else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=document.selection.createRange();range.parentElement()===input&&(selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)})}else selection=ReactDOMSelection.getOffsets(input);return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start,end=offsets.end;if(void 0===end&&(end=start),"selectionStart"in input)input.selectionStart=start,input.selectionEnd=Math.min(end,input.value.length);else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=input.createTextRange();range.collapse(!0),range.moveStart("character",start),range.moveEnd("character",end-start),range.select()}else ReactDOMSelection.setOffsets(input,offsets)}};return module.exports=ReactInputSelection,module.exports}),$__System.registerDynamic("71",["5"],!0,function($__require,exports,module){"use strict";function getActiveElement(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}$__require("5"),this||self;return module.exports=getActiveElement,module.exports}),$__System.registerDynamic("15",["5"],!0,function($__require,exports,module){"use strict";function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return"input"===nodeName?!!supportedInputTypes[elem.type]:"textarea"===nodeName}var supportedInputTypes=($__require("5"),this||self,{color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0});return module.exports=isTextInputElement,module.exports}),$__System.registerDynamic("72",["b","c","d","11","6a","8","71","15","e","53","5"],!0,function($__require,exports,module){"use strict";function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node))return{start:node.selectionStart,end:node.selectionEnd};if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||null==activeElement||activeElement!==getActiveElement())return null;var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementInst,nativeEvent,nativeEventTarget);return syntheticEvent.type="select",syntheticEvent.target=activeElement,EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent),syntheticEvent}return null}var EventConstants=($__require("5"),this||self,$__require("b")),EventPropagators=$__require("c"),ExecutionEnvironment=$__require("d"),ReactDOMComponentTree=$__require("11"),ReactInputSelection=$__require("6a"),SyntheticEvent=$__require("8"),getActiveElement=$__require("71"),isTextInputElement=$__require("15"),keyOf=$__require("e"),shallowEqual=$__require("53"),topLevelTypes=EventConstants.topLevelTypes,skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&"documentMode"in document&&document.documentMode<=11,eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementInst=null,lastSelection=null,mouseDown=!1,hasListener=!1,ON_SELECT_KEY=keyOf({onSelect:null}),SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){if(!hasListener)return null;var targetNode=targetInst?ReactDOMComponentTree.getNodeFromInstance(targetInst):window;switch(topLevelType){case topLevelTypes.topFocus:(isTextInputElement(targetNode)||"true"===targetNode.contentEditable)&&(activeElement=targetNode,activeElementInst=targetInst,lastSelection=null);break;case topLevelTypes.topBlur:activeElement=null,activeElementInst=null,lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=!0;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:return mouseDown=!1,constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent)break;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget)}return null},didPutListener:function(inst,registrationName,listener){registrationName===ON_SELECT_KEY&&(hasListener=!0)}};return module.exports=SelectEventPlugin,module.exports}),$__System.registerDynamic("62",["47","5"],!0,function($__require,exports,module){"use strict";var emptyFunction=($__require("5"),this||self,$__require("47")),EventListener={listen:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}}):target.attachEvent?(target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}):void 0},capture:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!0),{remove:function(){target.removeEventListener(eventType,callback,!0)}}):{remove:emptyFunction}},registerDefault:function(){}};return module.exports=EventListener,module.exports}),$__System.registerDynamic("c",["b","10","64","73","74","24","5"],!0,function($__require,exports,module){"use strict";function listenerAtPhase(inst,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(inst,registrationName)}function accumulateDirectionalDispatches(inst,upwards,event){var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured,listener=listenerAtPhase(inst,event,phase);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchInstances=accumulateInto(event._dispatchInstances,inst))}function accumulateTwoPhaseDispatchesSingle(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginUtils.traverseTwoPhase(event._targetInst,accumulateDirectionalDispatches,event)}function accumulateTwoPhaseDispatchesSingleSkipTarget(event){if(event&&event.dispatchConfig.phasedRegistrationNames){var targetInst=event._targetInst,parentInst=targetInst?EventPluginUtils.getParentInstance(targetInst):null;EventPluginUtils.traverseTwoPhase(parentInst,accumulateDirectionalDispatches,event)}}function accumulateDispatches(inst,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName,listener=getListener(inst,registrationName);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchInstances=accumulateInto(event._dispatchInstances,inst))}}function accumulateDirectDispatchesSingle(event){event&&event.dispatchConfig.registrationName&&accumulateDispatches(event._targetInst,null,event)}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(leave,enter,from,to){EventPluginUtils.traverseEnterLeave(from,to,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventConstants=($__require("5"),this||self,$__require("b")),EventPluginHub=$__require("10"),EventPluginUtils=$__require("64"),accumulateInto=$__require("73"),forEachAccumulated=$__require("74"),PropagationPhases=($__require("24"),EventConstants.PropagationPhases),getListener=EventPluginHub.getListener,EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};return module.exports=EventPropagators,module.exports}),$__System.registerDynamic("75",["8","5"],!0,function($__require,exports,module){"use strict";function SyntheticAnimationEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=($__require("5"),this||self,$__require("8")),AnimationEventInterface={animationName:null,elapsedTime:null,pseudoElement:null};return SyntheticEvent.augmentClass(SyntheticAnimationEvent,AnimationEventInterface),module.exports=SyntheticAnimationEvent,module.exports}),$__System.registerDynamic("76",["8","5"],!0,function($__require,exports,module){"use strict";function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=($__require("5"),this||self,$__require("8")),ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};return SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface),module.exports=SyntheticClipboardEvent,module.exports}),$__System.registerDynamic("77",["78","5"],!0,function($__require,exports,module){"use strict";function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=($__require("5"),this||self,$__require("78")),FocusEventInterface={relatedTarget:null};return SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface),module.exports=SyntheticFocusEvent,module.exports}),$__System.registerDynamic("79",["7a","5"],!0,function($__require,exports,module){"use strict";function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if("Unidentified"!==key)return key}if("keypress"===nativeEvent.type){var charCode=getEventCharCode(nativeEvent);return 13===charCode?"Enter":String.fromCharCode(charCode)}return"keydown"===nativeEvent.type||"keyup"===nativeEvent.type?translateToKey[nativeEvent.keyCode]||"Unidentified":""}var getEventCharCode=($__require("5"),this||self,$__require("7a")),normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};return module.exports=getEventKey,module.exports}),$__System.registerDynamic("7b",["78","7a","79","7c","5"],!0,function($__require,exports,module){"use strict";function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=($__require("5"),this||self,$__require("78")),getEventCharCode=$__require("7a"),getEventKey=$__require("79"),getEventModifierState=$__require("7c"),KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){return"keypress"===event.type?getEventCharCode(event):0},keyCode:function(event){return"keydown"===event.type||"keyup"===event.type?event.keyCode:0},which:function(event){return"keypress"===event.type?getEventCharCode(event):"keydown"===event.type||"keyup"===event.type?event.keyCode:0}};return SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface),module.exports=SyntheticKeyboardEvent,module.exports}),$__System.registerDynamic("7d",["18","5"],!0,function($__require,exports,module){"use strict";function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=($__require("5"),this||self,$__require("18")),DragEventInterface={dataTransfer:null};return SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface),module.exports=SyntheticDragEvent,module.exports}),$__System.registerDynamic("7e",["78","7c","5"],!0,function($__require,exports,module){"use strict";function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=($__require("5"),this||self,$__require("78")),getEventModifierState=$__require("7c"),TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};return SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface),module.exports=SyntheticTouchEvent,module.exports}),$__System.registerDynamic("7f",["8","5"],!0,function($__require,exports,module){"use strict";function SyntheticTransitionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=($__require("5"),this||self,$__require("8")),TransitionEventInterface={propertyName:null,elapsedTime:null,pseudoElement:null};return SyntheticEvent.augmentClass(SyntheticTransitionEvent,TransitionEventInterface),module.exports=SyntheticTransitionEvent,module.exports}),$__System.registerDynamic("8",["6","3","47","24","5"],!0,function($__require,exports,module){"use strict";function SyntheticEvent(dispatchConfig,targetInst,nativeEvent,nativeEventTarget){this.dispatchConfig=dispatchConfig,this._targetInst=targetInst,this.nativeEvent=nativeEvent;var Interface=this.constructor.Interface;for(var propName in Interface)if(Interface.hasOwnProperty(propName)){var normalize=Interface[propName];normalize?this[propName]=normalize(nativeEvent):"target"===propName?this.target=nativeEventTarget:this[propName]=nativeEvent[propName]}var defaultPrevented=null!=nativeEvent.defaultPrevented?nativeEvent.defaultPrevented:nativeEvent.returnValue===!1;return defaultPrevented?this.isDefaultPrevented=emptyFunction.thatReturnsTrue:this.isDefaultPrevented=emptyFunction.thatReturnsFalse,this.isPropagationStopped=emptyFunction.thatReturnsFalse,this}var _assign=($__require("5"),this||self,$__require("6")),PooledClass=$__require("3"),emptyFunction=$__require("47"),shouldBeReleasedProperties=($__require("24"),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),EventInterface={type:null,target:null,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};return _assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var event=this.nativeEvent;event&&(event.preventDefault?event.preventDefault():event.returnValue=!1,this.isDefaultPrevented=emptyFunction.thatReturnsTrue)},stopPropagation:function(){var event=this.nativeEvent;event&&(event.stopPropagation?event.stopPropagation():"unknown"!=typeof event.cancelBubble&&(event.cancelBubble=!0),this.isPropagationStopped=emptyFunction.thatReturnsTrue)},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface)this[propName]=null;
for(var i=0;i<shouldBeReleasedProperties.length;i++)this[shouldBeReleasedProperties[i]]=null}}),SyntheticEvent.Interface=EventInterface,SyntheticEvent.augmentClass=function(Class,Interface){var Super=this,E=function(){};E.prototype=Super.prototype;var prototype=new E;_assign(prototype,Class.prototype),Class.prototype=prototype,Class.prototype.constructor=Class,Class.Interface=_assign({},Super.Interface,Interface),Class.augmentClass=Super.augmentClass,PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler)},PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler),module.exports=SyntheticEvent,module.exports}),$__System.registerDynamic("13",["5"],!0,function($__require,exports,module){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return target.correspondingUseElement&&(target=target.correspondingUseElement),3===target.nodeType?target.parentNode:target}$__require("5"),this||self;return module.exports=getEventTarget,module.exports}),$__System.registerDynamic("78",["8","13","5"],!0,function($__require,exports,module){"use strict";function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=($__require("5"),this||self,$__require("8")),getEventTarget=$__require("13"),UIEventInterface={view:function(event){if(event.view)return event.view;var target=getEventTarget(event);if(target.window===target)return target;var doc=target.ownerDocument;return doc?doc.defaultView||doc.parentWindow:window},detail:function(event){return event.detail||0}};return SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface),module.exports=SyntheticUIEvent,module.exports}),$__System.registerDynamic("7c",["5"],!0,function($__require,exports,module){"use strict";function modifierStateGetter(keyArg){var syntheticEvent=this,nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState)return nativeEvent.getModifierState(keyArg);var keyProp=modifierKeyToProp[keyArg];return!!keyProp&&!!nativeEvent[keyProp]}function getEventModifierState(nativeEvent){return modifierStateGetter}var modifierKeyToProp=($__require("5"),this||self,{Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"});return module.exports=getEventModifierState,module.exports}),$__System.registerDynamic("18",["78","80","7c","5"],!0,function($__require,exports,module){"use strict";function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=($__require("5"),this||self,$__require("78")),ViewportMetrics=$__require("80"),getEventModifierState=$__require("7c"),MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;return"which"in event?button:2===button?2:4===button?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};return SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface),module.exports=SyntheticMouseEvent,module.exports}),$__System.registerDynamic("81",["18","5"],!0,function($__require,exports,module){"use strict";function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){return SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=($__require("5"),this||self,$__require("18")),WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};return SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface),module.exports=SyntheticWheelEvent,module.exports}),$__System.registerDynamic("7a",["5"],!0,function($__require,exports,module){"use strict";function getEventCharCode(nativeEvent){var charCode,keyCode=nativeEvent.keyCode;return"charCode"in nativeEvent?(charCode=nativeEvent.charCode,0===charCode&&13===keyCode&&(charCode=13)):charCode=keyCode,charCode>=32||13===charCode?charCode:0}$__require("5"),this||self;return module.exports=getEventCharCode,module.exports}),$__System.registerDynamic("82",["30","b","62","c","11","75","76","8","77","7b","18","7d","7e","7f","78","81","47","7a","32","e","5"],!0,function($__require,exports,module){"use strict";function getDictionaryKey(inst){return"."+inst._rootNodeID}var _prodInvariant=($__require("5"),this||self,$__require("30")),EventConstants=$__require("b"),EventListener=$__require("62"),EventPropagators=$__require("c"),ReactDOMComponentTree=$__require("11"),SyntheticAnimationEvent=$__require("75"),SyntheticClipboardEvent=$__require("76"),SyntheticEvent=$__require("8"),SyntheticFocusEvent=$__require("77"),SyntheticKeyboardEvent=$__require("7b"),SyntheticMouseEvent=$__require("18"),SyntheticDragEvent=$__require("7d"),SyntheticTouchEvent=$__require("7e"),SyntheticTransitionEvent=$__require("7f"),SyntheticUIEvent=$__require("78"),SyntheticWheelEvent=$__require("81"),emptyFunction=$__require("47"),getEventCharCode=$__require("7a"),keyOf=($__require("32"),$__require("e")),topLevelTypes=EventConstants.topLevelTypes,eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:!0}),captured:keyOf({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:keyOf({onAnimationEnd:!0}),captured:keyOf({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:keyOf({onAnimationIteration:!0}),captured:keyOf({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:keyOf({onAnimationStart:!0}),captured:keyOf({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:!0}),captured:keyOf({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:!0}),captured:keyOf({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:!0}),captured:keyOf({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:!0}),captured:keyOf({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:!0}),captured:keyOf({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:!0}),captured:keyOf({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:!0}),captured:keyOf({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:!0}),captured:keyOf({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:!0}),captured:keyOf({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:!0}),captured:keyOf({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:!0}),captured:keyOf({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:!0}),captured:keyOf({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:!0}),captured:keyOf({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:!0}),captured:keyOf({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:!0}),captured:keyOf({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:!0}),captured:keyOf({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:!0}),captured:keyOf({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:!0}),captured:keyOf({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:!0}),captured:keyOf({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:!0}),captured:keyOf({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:!0}),captured:keyOf({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:!0}),captured:keyOf({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:!0}),captured:keyOf({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:keyOf({onInvalid:!0}),captured:keyOf({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:!0}),captured:keyOf({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:!0}),captured:keyOf({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:!0}),captured:keyOf({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:!0}),captured:keyOf({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:keyOf({onLoadedData:!0}),captured:keyOf({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:!0}),captured:keyOf({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:!0}),captured:keyOf({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:!0}),captured:keyOf({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:!0}),captured:keyOf({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:!0}),captured:keyOf({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:!0}),captured:keyOf({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:!0}),captured:keyOf({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:!0}),captured:keyOf({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:!0}),captured:keyOf({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:!0}),captured:keyOf({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:!0}),captured:keyOf({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:!0}),captured:keyOf({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:!0}),captured:keyOf({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:!0}),captured:keyOf({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:!0}),captured:keyOf({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:!0}),captured:keyOf({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:!0}),captured:keyOf({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:!0}),captured:keyOf({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:!0}),captured:keyOf({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:!0}),captured:keyOf({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:!0}),captured:keyOf({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:!0}),captured:keyOf({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:!0}),captured:keyOf({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:!0}),captured:keyOf({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:!0}),captured:keyOf({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:keyOf({onTransitionEnd:!0}),captured:keyOf({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:!0}),captured:keyOf({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:!0}),captured:keyOf({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:!0}),captured:keyOf({onWheelCapture:!0})}}},topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topAnimationEnd:eventTypes.animationEnd,topAnimationIteration:eventTypes.animationIteration,topAnimationStart:eventTypes.animationStart,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topInvalid:eventTypes.invalid,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topTransitionEnd:eventTypes.transitionEnd,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig)topLevelEventsToDispatchConfig[type].dependencies=[type];var ON_CLICK_KEY=keyOf({onClick:null}),onClickListeners={},SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig)return null;var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topInvalid:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(0===getEventCharCode(nativeEvent))return null;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(2===nativeEvent.button)return null;case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topAnimationEnd:case topLevelTypes.topAnimationIteration:case topLevelTypes.topAnimationStart:EventConstructor=SyntheticAnimationEvent;break;case topLevelTypes.topTransitionEnd:EventConstructor=SyntheticTransitionEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent}EventConstructor?void 0:_prodInvariant("86",topLevelType);var event=EventConstructor.getPooled(dispatchConfig,targetInst,nativeEvent,nativeEventTarget);return EventPropagators.accumulateTwoPhaseDispatches(event),event},didPutListener:function(inst,registrationName,listener){if(registrationName===ON_CLICK_KEY){var key=getDictionaryKey(inst),node=ReactDOMComponentTree.getNodeFromInstance(inst);onClickListeners[key]||(onClickListeners[key]=EventListener.listen(node,"click",emptyFunction))}},willDeleteListener:function(inst,registrationName){if(registrationName===ON_CLICK_KEY){var key=getDictionaryKey(inst);onClickListeners[key].remove(),delete onClickListeners[key]}}};return module.exports=SimpleEventPlugin,module.exports}),$__System.registerDynamic("83",["a","f","16","17","19","1d","4c","11","54","55","5e","5f","61","63","68","6b","72","82","5"],!0,function($__require,exports,module){"use strict";function inject(){alreadyInjected||(alreadyInjected=!0,ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener),ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder),ReactInjection.EventPluginUtils.injectComponentTree(ReactDOMComponentTree),ReactInjection.EventPluginUtils.injectTreeTraversal(ReactDOMTreeTraversal),ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin}),ReactInjection.HostComponent.injectGenericComponentClass(ReactDOMComponent),ReactInjection.HostComponent.injectTextComponentClass(ReactDOMTextComponent),ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig),ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig),ReactInjection.EmptyComponent.injectEmptyComponentFactory(function(instantiate){return new ReactDOMEmptyComponent(instantiate)}),ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction),ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy),ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment))}var BeforeInputEventPlugin=($__require("5"),this||self,$__require("a")),ChangeEventPlugin=$__require("f"),DefaultEventPluginOrder=$__require("16"),EnterLeaveEventPlugin=$__require("17"),HTMLDOMPropertyConfig=$__require("19"),ReactComponentBrowserEnvironment=$__require("1d"),ReactDOMComponent=$__require("4c"),ReactDOMComponentTree=$__require("11"),ReactDOMEmptyComponent=$__require("54"),ReactDOMTreeTraversal=$__require("55"),ReactDOMTextComponent=$__require("5e"),ReactDefaultBatchingStrategy=$__require("5f"),ReactEventListener=$__require("61"),ReactInjection=$__require("63"),ReactReconcileTransaction=$__require("68"),SVGDOMPropertyConfig=$__require("6b"),SelectEventPlugin=$__require("72"),SimpleEventPlugin=$__require("82"),alreadyInjected=!1;return module.exports={inject:inject},module.exports}),$__System.registerDynamic("84",["30","46","11","44","85","32","24","5"],!0,function($__require,exports,module){"use strict";function findDOMNode(componentOrElement){if(null==componentOrElement)return null;if(1===componentOrElement.nodeType)return componentOrElement;var inst=ReactInstanceMap.get(componentOrElement);return inst?(inst=getHostComponentFromComposite(inst),inst?ReactDOMComponentTree.getNodeFromInstance(inst):null):void("function"==typeof componentOrElement.render?_prodInvariant("44"):_prodInvariant("45",Object.keys(componentOrElement)))}var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactDOMComponentTree=($__require("46"),$__require("11")),ReactInstanceMap=$__require("44"),getHostComponentFromComposite=$__require("85");$__require("32"),$__require("24");return module.exports=findDOMNode,module.exports}),$__System.registerDynamic("85",["86","5"],!0,function($__require,exports,module){"use strict";function getHostComponentFromComposite(inst){for(var type;(type=inst._renderedNodeType)===ReactNodeTypes.COMPOSITE;)inst=inst._renderedComponent;return type===ReactNodeTypes.HOST?inst._renderedComponent:type===ReactNodeTypes.EMPTY?null:void 0}var ReactNodeTypes=($__require("5"),this||self,$__require("86"));return module.exports=getHostComponentFromComposite,module.exports}),$__System.registerDynamic("2d",["5"],!0,function($__require,exports,module){"use strict";function escapeHtml(string){var str=""+string,match=matchHtmlRegExp.exec(str);if(!match)return str;var escape,html="",index=0,lastIndex=0;for(index=match.index;index<str.length;index++){switch(str.charCodeAt(index)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 39:escape="&#x27;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue}lastIndex!==index&&(html+=str.substring(lastIndex,index)),lastIndex=index+1,html+=escape}return lastIndex!==index?html+str.substring(lastIndex,index):html}function escapeTextContentForBrowser(text){return"boolean"==typeof text||"number"==typeof text?""+text:escapeHtml(text)}var matchHtmlRegExp=($__require("5"),this||self,/["'&<>]/);return module.exports=escapeTextContentForBrowser,module.exports}),$__System.registerDynamic("5d",["d","2d","5c","5"],!0,function($__require,exports,module){"use strict";var ExecutionEnvironment=($__require("5"),this||self,$__require("d")),escapeTextContentForBrowser=$__require("2d"),setInnerHTML=$__require("5c"),setTextContent=function(node,text){if(text){var firstChild=node.firstChild;if(firstChild&&firstChild===node.lastChild&&3===firstChild.nodeType)return void(firstChild.nodeValue=text)}node.textContent=text};return ExecutionEnvironment.canUseDOM&&("textContent"in document.documentElement||(setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text))})),module.exports=setTextContent,module.exports}),$__System.registerDynamic("4d",["4e","5c","5b","5d","5"],!0,function($__require,exports,module){"use strict";function insertTreeChildren(tree){if(enableLazy){var node=tree.node,children=tree.children;if(children.length)for(var i=0;i<children.length;i++)insertTreeBefore(node,children[i],null);else null!=tree.html?setInnerHTML(node,tree.html):null!=tree.text&&setTextContent(node,tree.text)}}function replaceChildWithTree(oldNode,newTree){oldNode.parentNode.replaceChild(newTree.node,oldNode),insertTreeChildren(newTree)}function queueChild(parentTree,childTree){enableLazy?parentTree.children.push(childTree):parentTree.node.appendChild(childTree.node)}function queueHTML(tree,html){enableLazy?tree.html=html:setInnerHTML(tree.node,html)}function queueText(tree,text){enableLazy?tree.text=text:setTextContent(tree.node,text)}function toString(){return this.node.nodeName}function DOMLazyTree(node){return{node:node,children:[],html:null,text:null,toString:toString}}var DOMNamespaces=($__require("5"),this||self,$__require("4e")),setInnerHTML=$__require("5c"),createMicrosoftUnsafeLocalFunction=$__require("5b"),setTextContent=$__require("5d"),ELEMENT_NODE_TYPE=1,DOCUMENT_FRAGMENT_NODE_TYPE=11,enableLazy="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),insertTreeBefore=createMicrosoftUnsafeLocalFunction(function(parentNode,tree,referenceNode){tree.node.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE||tree.node.nodeType===ELEMENT_NODE_TYPE&&"object"===tree.node.nodeName.toLowerCase()&&(null==tree.node.namespaceURI||tree.node.namespaceURI===DOMNamespaces.html)?(insertTreeChildren(tree),parentNode.insertBefore(tree.node,referenceNode)):(parentNode.insertBefore(tree.node,referenceNode),insertTreeChildren(tree))});return DOMLazyTree.insertTreeBefore=insertTreeBefore,DOMLazyTree.replaceChildWithTree=replaceChildWithTree,DOMLazyTree.queueChild=queueChild,DOMLazyTree.queueHTML=queueHTML,DOMLazyTree.queueText=queueText,module.exports=DOMLazyTree,module.exports}),$__System.registerDynamic("b",["5a","5"],!0,function($__require,exports,module){"use strict";var keyMirror=($__require("5"),this||self,$__require("5a")),PropagationPhases=keyMirror({bubbled:null,captured:null}),topLevelTypes=keyMirror({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};return module.exports=EventConstants,module.exports}),$__System.registerDynamic("64",["30","b","87","32","24","5"],!0,function($__require,exports,module){"use strict";function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}function executeDispatch(event,simulated,listener,inst){var type=event.type||"unknown-event";event.currentTarget=EventPluginUtils.getNodeFromInstance(inst),simulated?ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event):ReactErrorUtils.invokeGuardedCallback(type,listener,event),event.currentTarget=null}function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners,dispatchInstances=event._dispatchInstances;if(Array.isArray(dispatchListeners))for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)executeDispatch(event,simulated,dispatchListeners[i],dispatchInstances[i]);else dispatchListeners&&executeDispatch(event,simulated,dispatchListeners,dispatchInstances);event._dispatchListeners=null,event._dispatchInstances=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners,dispatchInstances=event._dispatchInstances;if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)if(dispatchListeners[i](event,dispatchInstances[i]))return dispatchInstances[i]}else if(dispatchListeners&&dispatchListeners(event,dispatchInstances))return dispatchInstances;return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);return event._dispatchInstances=null,event._dispatchListeners=null,ret}function executeDirectDispatch(event){var dispatchListener=event._dispatchListeners,dispatchInstance=event._dispatchInstances;Array.isArray(dispatchListener)?_prodInvariant("103"):void 0,event.currentTarget=dispatchListener?EventPluginUtils.getNodeFromInstance(dispatchInstance):null;var res=dispatchListener?dispatchListener(event):null;return event.currentTarget=null,event._dispatchListeners=null,event._dispatchInstances=null,res}function hasDispatches(event){return!!event._dispatchListeners}var ComponentTree,TreeTraversal,_prodInvariant=($__require("5"),this||self,$__require("30")),EventConstants=$__require("b"),ReactErrorUtils=$__require("87"),injection=($__require("32"),$__require("24"),{injectComponentTree:function(Injected){ComponentTree=Injected},injectTreeTraversal:function(Injected){TreeTraversal=Injected}}),topLevelTypes=EventConstants.topLevelTypes,EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getInstanceFromNode:function(node){return ComponentTree.getInstanceFromNode(node)},getNodeFromInstance:function(node){return ComponentTree.getNodeFromInstance(node)},isAncestor:function(a,b){return TreeTraversal.isAncestor(a,b)},getLowestCommonAncestor:function(a,b){return TreeTraversal.getLowestCommonAncestor(a,b)},getParentInstance:function(inst){return TreeTraversal.getParentInstance(inst)},traverseTwoPhase:function(target,fn,arg){return TreeTraversal.traverseTwoPhase(target,fn,arg)},traverseEnterLeave:function(from,to,fn,argFrom,argTo){return TreeTraversal.traverseEnterLeave(from,to,fn,argFrom,argTo)},injection:injection};return module.exports=EventPluginUtils,module.exports}),$__System.registerDynamic("73",["30","32","5"],!0,function($__require,exports,module){"use strict";function accumulateInto(current,next){return null==next?_prodInvariant("30"):void 0,null==current?next:Array.isArray(current)?Array.isArray(next)?(current.push.apply(current,next),current):(current.push(next),current):Array.isArray(next)?[current].concat(next):[current,next]}var _prodInvariant=($__require("5"),this||self,$__require("30"));$__require("32");return module.exports=accumulateInto,module.exports}),$__System.registerDynamic("74",["5"],!0,function($__require,exports,module){"use strict";function forEachAccumulated(arr,cb,scope){Array.isArray(arr)?arr.forEach(cb,scope):arr&&cb.call(scope,arr)}$__require("5"),this||self;return module.exports=forEachAccumulated,module.exports}),$__System.registerDynamic("10",["30","4f","64","87","73","74","32","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),EventPluginRegistry=$__require("4f"),EventPluginUtils=$__require("64"),ReactErrorUtils=$__require("87"),accumulateInto=$__require("73"),forEachAccumulated=$__require("74"),listenerBank=($__require("32"),{}),eventQueue=null,executeDispatchesAndRelease=function(event,simulated){event&&(EventPluginUtils.executeDispatchesInOrder(event,simulated),event.isPersistent()||event.constructor.release(event))},executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,!0);
},executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,!1)},getDictionaryKey=function(inst){return"."+inst._rootNodeID},EventPluginHub={injection:{injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},putListener:function(inst,registrationName,listener){"function"!=typeof listener?_prodInvariant("94",registrationName,typeof listener):void 0;var key=getDictionaryKey(inst),bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[key]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.didPutListener&&PluginModule.didPutListener(inst,registrationName,listener)},getListener:function(inst,registrationName){var bankForRegistrationName=listenerBank[registrationName],key=getDictionaryKey(inst);return bankForRegistrationName&&bankForRegistrationName[key]},deleteListener:function(inst,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(inst,registrationName);var bankForRegistrationName=listenerBank[registrationName];if(bankForRegistrationName){var key=getDictionaryKey(inst);delete bankForRegistrationName[key]}},deleteAllListeners:function(inst){var key=getDictionaryKey(inst);for(var registrationName in listenerBank)if(listenerBank.hasOwnProperty(registrationName)&&listenerBank[registrationName][key]){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(inst,registrationName),delete listenerBank[registrationName][key]}},extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){for(var events,plugins=EventPluginRegistry.plugins,i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,targetInst,nativeEvent,nativeEventTarget);extractedEvents&&(events=accumulateInto(events,extractedEvents))}}return events},enqueueEvents:function(events){events&&(eventQueue=accumulateInto(eventQueue,events))},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null,simulated?forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated):forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel),eventQueue?_prodInvariant("95"):void 0,ReactErrorUtils.rethrowCaughtError()},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};return module.exports=EventPluginHub,module.exports}),$__System.registerDynamic("88",["10","5"],!0,function($__require,exports,module){"use strict";function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events),EventPluginHub.processEventQueue(!1)}var EventPluginHub=($__require("5"),this||self,$__require("10")),ReactEventEmitterMixin={handleTopLevel:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,targetInst,nativeEvent,nativeEventTarget);runEventQueueInBatch(events)}};return module.exports=ReactEventEmitterMixin,module.exports}),$__System.registerDynamic("80",["5"],!0,function($__require,exports,module){"use strict";var ViewportMetrics=($__require("5"),this||self,{currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x,ViewportMetrics.currentScrollTop=scrollPosition.y}});return module.exports=ViewportMetrics,module.exports}),$__System.registerDynamic("89",["d","5"],!0,function($__require,exports,module){"use strict";function makePrefixMap(styleProp,eventName){var prefixes={};return prefixes[styleProp.toLowerCase()]=eventName.toLowerCase(),prefixes["Webkit"+styleProp]="webkit"+eventName,prefixes["Moz"+styleProp]="moz"+eventName,prefixes["ms"+styleProp]="MS"+eventName,prefixes["O"+styleProp]="o"+eventName.toLowerCase(),prefixes}function getVendorPrefixedEventName(eventName){if(prefixedEventNames[eventName])return prefixedEventNames[eventName];if(!vendorPrefixes[eventName])return eventName;var prefixMap=vendorPrefixes[eventName];for(var styleProp in prefixMap)if(prefixMap.hasOwnProperty(styleProp)&&styleProp in style)return prefixedEventNames[eventName]=prefixMap[styleProp];return""}var ExecutionEnvironment=($__require("5"),this||self,$__require("d")),vendorPrefixes={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionend:makePrefixMap("Transition","TransitionEnd")},prefixedEventNames={},style={};return ExecutionEnvironment.canUseDOM&&(style=document.createElement("div").style,"AnimationEvent"in window||(delete vendorPrefixes.animationend.animation,delete vendorPrefixes.animationiteration.animation,delete vendorPrefixes.animationstart.animation),"TransitionEvent"in window||delete vendorPrefixes.transitionend.transition),module.exports=getVendorPrefixedEventName,module.exports}),$__System.registerDynamic("14",["d","5"],!0,function($__require,exports,module){"use strict";function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document))return!1;var eventName="on"+eventNameSuffix,isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported="function"==typeof element[eventName]}return!isSupported&&useHasFeature&&"wheel"===eventNameSuffix&&(isSupported=document.implementation.hasFeature("Events.wheel","3.0")),isSupported}var useHasFeature,ExecutionEnvironment=($__require("5"),this||self,$__require("d"));return ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),module.exports=isEventSupported,module.exports}),$__System.registerDynamic("50",["6","b","4f","88","80","89","14","5"],!0,function($__require,exports,module){"use strict";function getListeningForDocument(mountAt){return Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)||(mountAt[topListenersIDKey]=reactTopListenersCounter++,alreadyListeningTo[mountAt[topListenersIDKey]]={}),alreadyListeningTo[mountAt[topListenersIDKey]]}var hasEventPageXY,_assign=($__require("5"),this||self,$__require("6")),EventConstants=$__require("b"),EventPluginRegistry=$__require("4f"),ReactEventEmitterMixin=$__require("88"),ViewportMetrics=$__require("80"),getVendorPrefixedEventName=$__require("89"),isEventSupported=$__require("14"),alreadyListeningTo={},isMonitoringScrollValue=!1,reactTopListenersCounter=0,topEventMapping={topAbort:"abort",topAnimationEnd:getVendorPrefixedEventName("animationend")||"animationend",topAnimationIteration:getVendorPrefixedEventName("animationiteration")||"animationiteration",topAnimationStart:getVendorPrefixedEventName("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:getVendorPrefixedEventName("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2),ReactBrowserEventEmitter=_assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel),ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)},isEnabled:function(){return!(!ReactBrowserEventEmitter.ReactEventListener||!ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(registrationName,contentDocumentHandle){for(var mountAt=contentDocumentHandle,isListening=getListeningForDocument(mountAt),dependencies=EventPluginRegistry.registrationNameDependencies[registrationName],topLevelTypes=EventConstants.topLevelTypes,i=0;i<dependencies.length;i++){var dependency=dependencies[i];isListening.hasOwnProperty(dependency)&&isListening[dependency]||(dependency===topLevelTypes.topWheel?isEventSupported("wheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt):isEventSupported("mousewheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt):dependency===topLevelTypes.topScroll?isEventSupported("scroll",!0)?ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE):dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur?(isEventSupported("focus",!0)?(ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)):isEventSupported("focusin")&&(ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)),isListening[topLevelTypes.topBlur]=!0,isListening[topLevelTypes.topFocus]=!0):topEventMapping.hasOwnProperty(dependency)&&ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt),isListening[dependency]=!0)}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},ensureScrollValueMonitoring:function(){if(void 0===hasEventPageXY&&(hasEventPageXY=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!hasEventPageXY&&!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh),isMonitoringScrollValue=!0}}});return module.exports=ReactBrowserEventEmitter,module.exports}),$__System.registerDynamic("51",["5"],!0,function($__require,exports,module){"use strict";var ReactDOMComponentFlags=($__require("5"),this||self,{hasCachedChildNodes:1});return module.exports=ReactDOMComponentFlags,module.exports}),$__System.registerDynamic("11",["30","1a","51","32","5"],!0,function($__require,exports,module){"use strict";function getRenderedHostOrTextFromComponent(component){for(var rendered;rendered=component._renderedComponent;)component=rendered;return component}function precacheNode(inst,node){var hostInst=getRenderedHostOrTextFromComponent(inst);hostInst._hostNode=node,node[internalInstanceKey]=hostInst}function uncacheNode(inst){var node=inst._hostNode;node&&(delete node[internalInstanceKey],inst._hostNode=null)}function precacheChildNodes(inst,node){if(!(inst._flags&Flags.hasCachedChildNodes)){var children=inst._renderedChildren,childNode=node.firstChild;outer:for(var name in children)if(children.hasOwnProperty(name)){var childInst=children[name],childID=getRenderedHostOrTextFromComponent(childInst)._domID;if(0!==childID){for(;null!==childNode;childNode=childNode.nextSibling)if(1===childNode.nodeType&&childNode.getAttribute(ATTR_NAME)===String(childID)||8===childNode.nodeType&&childNode.nodeValue===" react-text: "+childID+" "||8===childNode.nodeType&&childNode.nodeValue===" react-empty: "+childID+" "){precacheNode(childInst,childNode);continue outer}_prodInvariant("32",childID)}}inst._flags|=Flags.hasCachedChildNodes}}function getClosestInstanceFromNode(node){if(node[internalInstanceKey])return node[internalInstanceKey];for(var parents=[];!node[internalInstanceKey];){if(parents.push(node),!node.parentNode)return null;node=node.parentNode}for(var closest,inst;node&&(inst=node[internalInstanceKey]);node=parents.pop())closest=inst,parents.length&&precacheChildNodes(inst,node);return closest}function getInstanceFromNode(node){var inst=getClosestInstanceFromNode(node);return null!=inst&&inst._hostNode===node?inst:null}function getNodeFromInstance(inst){if(void 0===inst._hostNode?_prodInvariant("33"):void 0,inst._hostNode)return inst._hostNode;for(var parents=[];!inst._hostNode;)parents.push(inst),inst._hostParent?void 0:_prodInvariant("34"),inst=inst._hostParent;for(;parents.length;inst=parents.pop())precacheChildNodes(inst,inst._hostNode);return inst._hostNode}var _prodInvariant=($__require("5"),this||self,$__require("30")),DOMProperty=$__require("1a"),ReactDOMComponentFlags=$__require("51"),ATTR_NAME=($__require("32"),DOMProperty.ID_ATTRIBUTE_NAME),Flags=ReactDOMComponentFlags,internalInstanceKey="__reactInternalInstance$"+Math.random().toString(36).slice(2),ReactDOMComponentTree={getClosestInstanceFromNode:getClosestInstanceFromNode,getInstanceFromNode:getInstanceFromNode,getNodeFromInstance:getNodeFromInstance,precacheChildNodes:precacheChildNodes,precacheNode:precacheNode,uncacheNode:uncacheNode};return module.exports=ReactDOMComponentTree,module.exports}),$__System.registerDynamic("52",["6","47","24","5"],!0,function($__require,exports,module){"use strict";var emptyFunction=($__require("5"),this||self,$__require("6"),$__require("47")),validateDOMNesting=($__require("24"),emptyFunction);return module.exports=validateDOMNesting,module.exports}),$__System.registerDynamic("8a",["52","5"],!0,function($__require,exports,module){"use strict";function ReactDOMContainerInfo(topLevelWrapper,node){var info={_topLevelWrapper:topLevelWrapper,_idCounter:1,_ownerDocument:node?node.nodeType===DOC_NODE_TYPE?node:node.ownerDocument:null,_node:node,_tag:node?node.nodeName.toLowerCase():null,_namespaceURI:node?node.namespaceURI:null};return info}var DOC_NODE_TYPE=($__require("5"),this||self,$__require("52"),9);return module.exports=ReactDOMContainerInfo,module.exports}),$__System.registerDynamic("8b",["5"],!0,function($__require,exports,module){"use strict";var ReactDOMFeatureFlags=($__require("5"),this||self,{useCreateElement:!0});return module.exports=ReactDOMFeatureFlags,module.exports}),$__System.registerDynamic("8c",["5"],!0,function($__require,exports,module){"use strict";function adler32(data){for(var a=1,b=0,i=0,l=data.length,m=l&-4;i<m;){for(var n=Math.min(i+4096,m);i<n;i+=4)b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3));a%=MOD,b%=MOD}for(;i<l;i++)b+=a+=data.charCodeAt(i);return a%=MOD,b%=MOD,a|b<<16}var MOD=($__require("5"),this||self,65521);return module.exports=adler32,module.exports}),$__System.registerDynamic("8d",["8c","5"],!0,function($__require,exports,module){"use strict";var adler32=($__require("5"),this||self,$__require("8c")),TAG_END=/\/?>/,COMMENT_START=/^<\!\-\-/,ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return COMMENT_START.test(markup)?markup:markup.replace(TAG_END," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};return module.exports=ReactMarkupChecksum,module.exports}),$__System.registerDynamic("49",["30","46","44","29","12","32","24","5"],!0,function($__require,exports,module){"use strict";function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance)}function formatUnexpectedArgument(arg){var type=typeof arg;if("object"!==type)return type;var displayName=arg.constructor&&arg.constructor.name||type,keys=Object.keys(arg);return keys.length>0&&keys.length<20?displayName+" (keys: "+keys.join(", ")+")":displayName}function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);if(!internalInstance){return null}return internalInstance}var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactInstanceMap=($__require("46"),$__require("44")),ReactUpdates=($__require("29"),$__require("12")),ReactUpdateQueue=($__require("32"),$__require("24"),{isMounted:function(publicInstance){var internalInstance=ReactInstanceMap.get(publicInstance);return!!internalInstance&&!!internalInstance._renderedComponent},enqueueCallback:function(publicInstance,callback,callerName){ReactUpdateQueue.validateCallback(callback,callerName);var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);return internalInstance?(internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],void enqueueUpdate(internalInstance)):null},enqueueCallbackInternal:function(internalInstance,callback){internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],enqueueUpdate(internalInstance)},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"forceUpdate");internalInstance&&(internalInstance._pendingForceUpdate=!0,enqueueUpdate(internalInstance))},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceState");internalInstance&&(internalInstance._pendingStateQueue=[completeState],internalInstance._pendingReplaceState=!0,enqueueUpdate(internalInstance))},enqueueSetState:function(publicInstance,partialState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setState");if(internalInstance){var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState),enqueueUpdate(internalInstance)}},enqueueElementInternal:function(internalInstance,nextElement,nextContext){internalInstance._pendingElement=nextElement,internalInstance._context=nextContext,enqueueUpdate(internalInstance)},validateCallback:function(callback,callerName){callback&&"function"!=typeof callback?_prodInvariant("122",callerName,formatUnexpectedArgument(callback)):void 0}});return module.exports=ReactUpdateQueue,module.exports}),$__System.registerDynamic("69",["30","6","3","32","5"],!0,function($__require,exports,module){"use strict";function CallbackQueue(){this._callbacks=null,this._contexts=null}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),PooledClass=$__require("3");$__require("32");return _assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(callback),this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks,contexts=this._contexts;if(callbacks){callbacks.length!==contexts.length?_prodInvariant("24"):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<callbacks.length;i++)callbacks[i].call(contexts[i]);callbacks.length=0,contexts.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(len){this._callbacks&&(this._callbacks.length=len,this._contexts.length=len)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(CallbackQueue),module.exports=CallbackQueue,module.exports}),$__System.registerDynamic("8e",["5"],!0,function($__require,exports,module){"use strict";var ReactFeatureFlags=($__require("5"),this||self,{logTopLevelRenders:!1});return module.exports=ReactFeatureFlags,module.exports}),$__System.registerDynamic("4a",["30","32","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),Mixin=($__require("32"),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){this.isInTransaction()?_prodInvariant("27"):void 0;var errorThrown,ret;try{this._isInTransaction=!0,errorThrown=!0,this.initializeAll(0),ret=method.call(scope,a,b,c,d,e,f),errorThrown=!1}finally{try{if(errorThrown)try{this.closeAll(0)}catch(err){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return ret},initializeAll:function(startIndex){for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR,this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(err){}}}},closeAll:function(startIndex){this.isInTransaction()?void 0:_prodInvariant("28");for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var errorThrown,wrapper=transactionWrappers[i],initData=this.wrapperInitData[i];try{errorThrown=!0,initData!==Transaction.OBSERVED_ERROR&&wrapper.close&&wrapper.close.call(this,initData),errorThrown=!1}finally{if(errorThrown)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}}),Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};return module.exports=Transaction,module.exports}),$__System.registerDynamic("12",["30","6","69","3","8e","3b","4a","32","5"],!0,function($__require,exports,module){"use strict";function ensureInjected(){ReactUpdates.ReactReconcileTransaction&&batchingStrategy?void 0:_prodInvariant("123")}function ReactUpdatesFlushTransaction(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=CallbackQueue.getPooled(),this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(!0)}function batchedUpdates(callback,a,b,c,d,e){ensureInjected(),batchingStrategy.batchedUpdates(callback,a,b,c,d,e)}function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;len!==dirtyComponents.length?_prodInvariant("124",len,dirtyComponents.length):void 0,dirtyComponents.sort(mountOrderComparator),updateBatchNumber++;for(var i=0;i<len;i++){var component=dirtyComponents[i],callbacks=component._pendingCallbacks;component._pendingCallbacks=null;var markerName;if(ReactFeatureFlags.logTopLevelRenders){var namedComponent=component;component._currentElement.props===component._renderedComponent._currentElement&&(namedComponent=component._renderedComponent),markerName="React update: "+namedComponent.getName(),console.time(markerName)}if(ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction,updateBatchNumber),markerName&&console.timeEnd(markerName),callbacks)for(var j=0;j<callbacks.length;j++)transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance())}}function enqueueUpdate(component){return ensureInjected(),batchingStrategy.isBatchingUpdates?(dirtyComponents.push(component),void(null==component._updateBatchNumber&&(component._updateBatchNumber=updateBatchNumber+1))):void batchingStrategy.batchedUpdates(enqueueUpdate,component)}function asap(callback,context){batchingStrategy.isBatchingUpdates?void 0:_prodInvariant("125"),asapCallbackQueue.enqueue(callback,context),asapEnqueued=!0}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),CallbackQueue=$__require("69"),PooledClass=$__require("3"),ReactFeatureFlags=$__require("8e"),ReactReconciler=$__require("3b"),Transaction=$__require("4a"),dirtyComponents=($__require("32"),[]),updateBatchNumber=0,asapCallbackQueue=CallbackQueue.getPooled(),asapEnqueued=!1,batchingStrategy=null,NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){this.dirtyComponentsLength!==dirtyComponents.length?(dirtyComponents.splice(0,this.dirtyComponentsLength),flushBatchedUpdates()):dirtyComponents.length=0}},UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];_assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null,CallbackQueue.release(this.callbackQueue),this.callbackQueue=null,ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}}),PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);var flushBatchedUpdates=function(){for(;dirtyComponents.length||asapEnqueued;){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction),ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=!1;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled(),queue.notifyAll(),CallbackQueue.release(queue)}}},ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){ReconcileTransaction?void 0:_prodInvariant("126"),ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){_batchingStrategy?void 0:_prodInvariant("127"),"function"!=typeof _batchingStrategy.batchedUpdates?_prodInvariant("128"):void 0,"boolean"!=typeof _batchingStrategy.isBatchingUpdates?_prodInvariant("129"):void 0,batchingStrategy=_batchingStrategy}},ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};return module.exports=ReactUpdates,module.exports}),$__System.registerDynamic("43",["30","32","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),injected=($__require("32"),!1),ReactComponentEnvironment={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){injected?_prodInvariant("104"):void 0,ReactComponentEnvironment.replaceNodeWithMarkup=environment.replaceNodeWithMarkup,ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates,injected=!0}}};return module.exports=ReactComponentEnvironment,module.exports}),$__System.registerDynamic("87",["5"],!0,function($__require,exports,module){"use strict";function invokeGuardedCallback(name,func,a,b){try{return func(a,b)}catch(x){return void(null===caughtError&&(caughtError=x))}}var caughtError=($__require("5"),this||self,null),ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;throw caughtError=null,error}}};return module.exports=ReactErrorUtils,module.exports}),$__System.registerDynamic("44",["5"],!0,function($__require,exports,module){"use strict";var ReactInstanceMap=($__require("5"),this||self,{remove:function(key){key._reactInternalInstance=void 0},get:function(key){return key._reactInternalInstance},has:function(key){return void 0!==key._reactInternalInstance},set:function(key,value){key._reactInternalInstance=value}});return module.exports=ReactInstanceMap,module.exports}),$__System.registerDynamic("86",["30","8f","32","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactElement=$__require("8f"),ReactNodeTypes=($__require("32"),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(node){return null===node||node===!1?ReactNodeTypes.EMPTY:ReactElement.isValidElement(node)?"function"==typeof node.type?ReactNodeTypes.COMPOSITE:ReactNodeTypes.HOST:void _prodInvariant("26",node)}});return module.exports=ReactNodeTypes,module.exports}),$__System.registerDynamic("90",["30","32","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactOwner=($__require("32"),{isValidOwner:function(object){return!(!object||"function"!=typeof object.attachRef||"function"!=typeof object.detachRef)},addComponentAsRefTo:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:_prodInvariant("119"),owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:_prodInvariant("120");var ownerPublicInstance=owner.getPublicInstance();ownerPublicInstance&&ownerPublicInstance.refs[ref]===component.getPublicInstance()&&owner.detachRef(ref)}});return module.exports=ReactOwner,module.exports}),$__System.registerDynamic("91",["90","5"],!0,function($__require,exports,module){"use strict";function attachRef(ref,component,owner){"function"==typeof ref?ref(component.getPublicInstance()):ReactOwner.addComponentAsRefTo(component,ref,owner)}function detachRef(ref,component,owner){"function"==typeof ref?ref(null):ReactOwner.removeComponentAsRefFrom(component,ref,owner)}var ReactOwner=($__require("5"),this||self,$__require("90")),ReactRef={};return ReactRef.attachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&attachRef(ref,instance,element._owner)}},ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;return prevEmpty||nextEmpty||nextElement.ref!==prevElement.ref||"string"==typeof nextElement.ref&&nextElement._owner!==prevElement._owner},ReactRef.detachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&detachRef(ref,instance,element._owner)}},module.exports=ReactRef,module.exports}),$__System.registerDynamic("3b",["91","29","24","5"],!0,function($__require,exports,module){"use strict";function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var ReactRef=($__require("5"),this||self,$__require("91")),ReactReconciler=($__require("29"),$__require("24"),
{mountComponent:function(internalInstance,transaction,hostParent,hostContainerInfo,context,parentDebugID){var markup=internalInstance.mountComponent(transaction,hostParent,hostContainerInfo,context,parentDebugID);return internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance),markup},getHostNode:function(internalInstance){return internalInstance.getHostNode()},unmountComponent:function(internalInstance,safely){ReactRef.detachRefs(internalInstance,internalInstance._currentElement),internalInstance.unmountComponent(safely)},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement!==prevElement||context!==internalInstance._context){var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);refsChanged&&ReactRef.detachRefs(internalInstance,prevElement),internalInstance.receiveComponent(nextElement,transaction,context),refsChanged&&internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}},performUpdateIfNecessary:function(internalInstance,transaction,updateBatchNumber){internalInstance._updateBatchNumber===updateBatchNumber&&internalInstance.performUpdateIfNecessary(transaction)}});return module.exports=ReactReconciler,module.exports}),$__System.registerDynamic("53",["5"],!0,function($__require,exports,module){"use strict";function is(x,y){return x===y?0!==x||1/x===1/y:x!==x&&y!==y}function shallowEqual(objA,objB){if(is(objA,objB))return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var i=0;i<keysA.length;i++)if(!hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0}var hasOwnProperty=($__require("5"),this||self,Object.prototype.hasOwnProperty);return module.exports=shallowEqual,module.exports}),$__System.registerDynamic("92",["30","6","43","46","8f","87","44","29","86","37","3b","93","94","32","53","3e","24","5"],!0,function($__require,exports,module){"use strict";function StatelessComponent(Component){}function warnIfInvalidElement(Component,element){}function shouldConstruct(Component){return!(!Component.prototype||!Component.prototype.isReactComponent)}function isPureComponent(Component){return!(!Component.prototype||!Component.prototype.isPureReactComponent)}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),ReactComponentEnvironment=$__require("43"),ReactCurrentOwner=$__require("46"),ReactElement=$__require("8f"),ReactErrorUtils=$__require("87"),ReactInstanceMap=$__require("44"),ReactNodeTypes=($__require("29"),$__require("86")),ReactReconciler=($__require("37"),$__require("3b")),checkReactTypeSpec=$__require("93"),emptyObject=$__require("94"),shallowEqual=($__require("32"),$__require("53")),shouldUpdateReactComponent=$__require("3e"),CompositeTypes=($__require("24"),{ImpureClass:0,PureClass:1,StatelessFunctional:2});StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type,element=Component(this.props,this.context,this.updater);return warnIfInvalidElement(Component,element),element};var nextMountID=1,ReactCompositeComponentMixin={construct:function(element){this._currentElement=element,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(transaction,hostParent,hostContainerInfo,context){this._context=context,this._mountOrder=nextMountID++,this._hostParent=hostParent,this._hostContainerInfo=hostContainerInfo;var renderedElement,publicProps=this._currentElement.props,publicContext=this._processContext(context),Component=this._currentElement.type,updateQueue=transaction.getUpdateQueue(),doConstruct=shouldConstruct(Component),inst=this._constructComponent(doConstruct,publicProps,publicContext,updateQueue);doConstruct||null!=inst&&null!=inst.render?isPureComponent(Component)?this._compositeType=CompositeTypes.PureClass:this._compositeType=CompositeTypes.ImpureClass:(renderedElement=inst,warnIfInvalidElement(Component,renderedElement),null===inst||inst===!1||ReactElement.isValidElement(inst)?void 0:_prodInvariant("105",Component.displayName||Component.name||"Component"),inst=new StatelessComponent(Component),this._compositeType=CompositeTypes.StatelessFunctional);inst.props=publicProps,inst.context=publicContext,inst.refs=emptyObject,inst.updater=updateQueue,this._instance=inst,ReactInstanceMap.set(inst,this);var initialState=inst.state;void 0===initialState&&(inst.state=initialState=null),"object"!=typeof initialState||Array.isArray(initialState)?_prodInvariant("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var markup;return markup=inst.unstable_handleError?this.performInitialMountWithErrorHandling(renderedElement,hostParent,hostContainerInfo,transaction,context):this.performInitialMount(renderedElement,hostParent,hostContainerInfo,transaction,context),inst.componentDidMount&&transaction.getReactMountReady().enqueue(inst.componentDidMount,inst),markup},_constructComponent:function(doConstruct,publicProps,publicContext,updateQueue){return this._constructComponentWithoutOwner(doConstruct,publicProps,publicContext,updateQueue)},_constructComponentWithoutOwner:function(doConstruct,publicProps,publicContext,updateQueue){var instanceOrElement,Component=this._currentElement.type;return instanceOrElement=doConstruct?new Component(publicProps,publicContext,updateQueue):Component(publicProps,publicContext,updateQueue)},performInitialMountWithErrorHandling:function(renderedElement,hostParent,hostContainerInfo,transaction,context){var markup,checkpoint=transaction.checkpoint();try{markup=this.performInitialMount(renderedElement,hostParent,hostContainerInfo,transaction,context)}catch(e){transaction.rollback(checkpoint),this._instance.unstable_handleError(e),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),checkpoint=transaction.checkpoint(),this._renderedComponent.unmountComponent(!0),transaction.rollback(checkpoint),markup=this.performInitialMount(renderedElement,hostParent,hostContainerInfo,transaction,context)}return markup},performInitialMount:function(renderedElement,hostParent,hostContainerInfo,transaction,context){var inst=this._instance;inst.componentWillMount&&(inst.componentWillMount(),this._pendingStateQueue&&(inst.state=this._processPendingState(inst.props,inst.context))),void 0===renderedElement&&(renderedElement=this._renderValidatedComponent());var nodeType=ReactNodeTypes.getType(renderedElement);this._renderedNodeType=nodeType;var child=this._instantiateReactComponent(renderedElement,nodeType!==ReactNodeTypes.EMPTY);this._renderedComponent=child;var selfDebugID=0,markup=ReactReconciler.mountComponent(child,transaction,hostParent,hostContainerInfo,this._processChildContext(context),selfDebugID);return markup},getHostNode:function(){return ReactReconciler.getHostNode(this._renderedComponent)},unmountComponent:function(safely){if(this._renderedComponent){var inst=this._instance;if(inst.componentWillUnmount&&!inst._calledComponentWillUnmount)if(inst._calledComponentWillUnmount=!0,safely){var name=this.getName()+".componentWillUnmount()";ReactErrorUtils.invokeGuardedCallback(name,inst.componentWillUnmount.bind(inst))}else inst.componentWillUnmount();this._renderedComponent&&(ReactReconciler.unmountComponent(this._renderedComponent,safely),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,ReactInstanceMap.remove(inst)}},_maskContext:function(context){var Component=this._currentElement.type,contextTypes=Component.contextTypes;if(!contextTypes)return emptyObject;var maskedContext={};for(var contextName in contextTypes)maskedContext[contextName]=context[contextName];return maskedContext},_processContext:function(context){var maskedContext=this._maskContext(context);return maskedContext},_processChildContext:function(currentContext){var Component=this._currentElement.type,inst=this._instance,childContext=inst.getChildContext&&inst.getChildContext();if(childContext){"object"!=typeof Component.childContextTypes?_prodInvariant("107",this.getName()||"ReactCompositeComponent"):void 0;for(var name in childContext)name in Component.childContextTypes?void 0:_prodInvariant("108",this.getName()||"ReactCompositeComponent",name);return _assign({},currentContext,childContext)}return currentContext},_checkContextTypes:function(typeSpecs,values,location){checkReactTypeSpec(typeSpecs,values,location,this.getName(),null,this._debugID)},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement,prevContext=this._context;this._pendingElement=null,this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext)},performUpdateIfNecessary:function(transaction){null!=this._pendingElement?ReactReconciler.receiveComponent(this,this._pendingElement,transaction,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var inst=this._instance;null==inst?_prodInvariant("136",this.getName()||"ReactCompositeComponent"):void 0;var nextContext,willReceive=!1;this._context===nextUnmaskedContext?nextContext=inst.context:(nextContext=this._processContext(nextUnmaskedContext),willReceive=!0);var prevProps=prevParentElement.props,nextProps=nextParentElement.props;prevParentElement!==nextParentElement&&(willReceive=!0),willReceive&&inst.componentWillReceiveProps&&inst.componentWillReceiveProps(nextProps,nextContext);var nextState=this._processPendingState(nextProps,nextContext),shouldUpdate=!0;this._pendingForceUpdate||(inst.shouldComponentUpdate?shouldUpdate=inst.shouldComponentUpdate(nextProps,nextState,nextContext):this._compositeType===CompositeTypes.PureClass&&(shouldUpdate=!shallowEqual(prevProps,nextProps)||!shallowEqual(inst.state,nextState))),this._updateBatchNumber=null,shouldUpdate?(this._pendingForceUpdate=!1,this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext)):(this._currentElement=nextParentElement,this._context=nextUnmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext)},_processPendingState:function(props,context){var inst=this._instance,queue=this._pendingStateQueue,replace=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!queue)return inst.state;if(replace&&1===queue.length)return queue[0];for(var nextState=_assign({},replace?queue[0]:inst.state),i=replace?1:0;i<queue.length;i++){var partial=queue[i];_assign(nextState,"function"==typeof partial?partial.call(inst,nextState,props,context):partial)}return nextState},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var prevProps,prevState,prevContext,inst=this._instance,hasComponentDidUpdate=Boolean(inst.componentDidUpdate);hasComponentDidUpdate&&(prevProps=inst.props,prevState=inst.state,prevContext=inst.context),inst.componentWillUpdate&&inst.componentWillUpdate(nextProps,nextState,nextContext),this._currentElement=nextElement,this._context=unmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext,this._updateRenderedComponent(transaction,unmaskedContext),hasComponentDidUpdate&&transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst)},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent,prevRenderedElement=prevComponentInstance._currentElement,nextRenderedElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement))ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context));else{var oldHostNode=ReactReconciler.getHostNode(prevComponentInstance);ReactReconciler.unmountComponent(prevComponentInstance,!1);var nodeType=ReactNodeTypes.getType(nextRenderedElement);this._renderedNodeType=nodeType;var child=this._instantiateReactComponent(nextRenderedElement,nodeType!==ReactNodeTypes.EMPTY);this._renderedComponent=child;var selfDebugID=0,nextMarkup=ReactReconciler.mountComponent(child,transaction,this._hostParent,this._hostContainerInfo,this._processChildContext(context),selfDebugID);this._replaceNodeWithMarkup(oldHostNode,nextMarkup,prevComponentInstance)}},_replaceNodeWithMarkup:function(oldHostNode,nextMarkup,prevInstance){ReactComponentEnvironment.replaceNodeWithMarkup(oldHostNode,nextMarkup,prevInstance)},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance,renderedComponent=inst.render();return renderedComponent},_renderValidatedComponent:function(){var renderedComponent;if(this._compositeType!==CompositeTypes.StatelessFunctional){ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactCurrentOwner.current=null}}else renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext();return null===renderedComponent||renderedComponent===!1||ReactElement.isValidElement(renderedComponent)?void 0:_prodInvariant("109",this.getName()||"ReactCompositeComponent"),renderedComponent},attachRef:function(ref,component){var inst=this.getPublicInstance();null==inst?_prodInvariant("110"):void 0;var publicComponentInstance=component.getPublicInstance(),refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref]},getName:function(){var type=this._currentElement.type,constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null},getPublicInstance:function(){var inst=this._instance;return this._compositeType===CompositeTypes.StatelessFunctional?null:inst},_instantiateReactComponent:null},ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};return module.exports=ReactCompositeComponent,module.exports}),$__System.registerDynamic("66",["5"],!0,function($__require,exports,module){"use strict";var emptyComponentFactory,ReactEmptyComponentInjection=($__require("5"),this||self,{injectEmptyComponentFactory:function(factory){emptyComponentFactory=factory}}),ReactEmptyComponent={create:function(instantiate){return emptyComponentFactory(instantiate)}};return ReactEmptyComponent.injection=ReactEmptyComponentInjection,module.exports=ReactEmptyComponent,module.exports}),$__System.registerDynamic("67",["30","6","32","5"],!0,function($__require,exports,module){"use strict";function createInternalComponent(element){return genericComponentClass?void 0:_prodInvariant("111",element.type),new genericComponentClass(element)}function createInstanceForText(text){return new textComponentClass(text)}function isTextComponent(component){return component instanceof textComponentClass}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),genericComponentClass=($__require("32"),null),tagToComponentClass={},textComponentClass=null,ReactHostComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectTextComponentClass:function(componentClass){textComponentClass=componentClass},injectComponentClasses:function(componentClasses){_assign(tagToComponentClass,componentClasses)}},ReactHostComponent={createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactHostComponentInjection};return module.exports=ReactHostComponent,module.exports}),$__System.registerDynamic("3c",["30","6","92","66","67","32","24","5"],!0,function($__require,exports,module){"use strict";function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function isInternalComponentType(type){return"function"==typeof type&&"undefined"!=typeof type.prototype&&"function"==typeof type.prototype.mountComponent&&"function"==typeof type.prototype.receiveComponent}function instantiateReactComponent(node,shouldHaveDebugID){var instance;if(null===node||node===!1)instance=ReactEmptyComponent.create(instantiateReactComponent);else if("object"==typeof node){var element=node;!element||"function"!=typeof element.type&&"string"!=typeof element.type?_prodInvariant("130",null==element.type?element.type:typeof element.type,getDeclarationErrorAddendum(element._owner)):void 0,"string"==typeof element.type?instance=ReactHostComponent.createInternalComponent(element):isInternalComponentType(element.type)?(instance=new element.type(element),instance.getHostNode||(instance.getHostNode=instance.getNativeNode)):instance=new ReactCompositeComponentWrapper(element)}else"string"==typeof node||"number"==typeof node?instance=ReactHostComponent.createInstanceForText(node):_prodInvariant("131",typeof node);return instance._mountIndex=0,instance._mountImage=null,instance}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),ReactCompositeComponent=$__require("92"),ReactEmptyComponent=$__require("66"),ReactHostComponent=$__require("67"),ReactCompositeComponentWrapper=($__require("32"),$__require("24"),function(element){this.construct(element)});_assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent});return module.exports=instantiateReactComponent,module.exports}),$__System.registerDynamic("4e",["5"],!0,function($__require,exports,module){"use strict";var DOMNamespaces=($__require("5"),this||self,{html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"});return module.exports=DOMNamespaces,module.exports}),$__System.registerDynamic("5b",["5"],!0,function($__require,exports,module){"use strict";var createMicrosoftUnsafeLocalFunction=($__require("5"),this||self,function(func){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(arg0,arg1,arg2,arg3){MSApp.execUnsafeLocalFunction(function(){return func(arg0,arg1,arg2,arg3)})}:func});return module.exports=createMicrosoftUnsafeLocalFunction,module.exports}),$__System.registerDynamic("5c",["d","4e","5b","5"],!0,function($__require,exports,module){"use strict";var reusableSVGContainer,ExecutionEnvironment=($__require("5"),this||self,$__require("d")),DOMNamespaces=$__require("4e"),WHITESPACE_TEST=/^[ \r\n\t\f]/,NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,createMicrosoftUnsafeLocalFunction=$__require("5b"),setInnerHTML=createMicrosoftUnsafeLocalFunction(function(node,html){if(node.namespaceURI!==DOMNamespaces.svg||"innerHTML"in node)node.innerHTML=html;else{reusableSVGContainer=reusableSVGContainer||document.createElement("div"),reusableSVGContainer.innerHTML="<svg>"+html+"</svg>";for(var newNodes=reusableSVGContainer.firstChild.childNodes,i=0;i<newNodes.length;i++)node.appendChild(newNodes[i])}});if(ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ",""===testElement.innerHTML&&(setInnerHTML=function(node,html){if(node.parentNode&&node.parentNode.replaceChild(node,node),WHITESPACE_TEST.test(html)||"<"===html[0]&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(65279)+html;var textNode=node.firstChild;1===textNode.data.length?node.removeChild(textNode):textNode.deleteData(0,1)}else node.innerHTML=html}),testElement=null}return module.exports=setInnerHTML,module.exports}),$__System.registerDynamic("3e",["5"],!0,function($__require,exports,module){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;if(prevEmpty||nextEmpty)return prevEmpty===nextEmpty;var prevType=typeof prevElement,nextType=typeof nextElement;return"string"===prevType||"number"===prevType?"string"===nextType||"number"===nextType:"object"===nextType&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key}$__require("5"),this||self;return module.exports=shouldUpdateReactComponent,module.exports}),$__System.registerDynamic("95",["30","4d","1a","50","46","11","8a","8b","8f","8e","44","29","8d","3b","49","12","94","3c","32","5c","3e","24","5"],!0,function($__require,exports,module){"use strict";function firstDifferenceIndex(string1,string2){for(var minLen=Math.min(string1.length,string2.length),i=0;i<minLen;i++)if(string1.charAt(i)!==string2.charAt(i))return i;return string1.length===string2.length?-1:minLen}function getReactRootElementInContainer(container){return container?container.nodeType===DOC_NODE_TYPE?container.documentElement:container.firstChild:null}function internalGetID(node){return node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function mountComponentIntoNode(wrapperInstance,container,transaction,shouldReuseMarkup,context){var markerName;if(ReactFeatureFlags.logTopLevelRenders){var wrappedElement=wrapperInstance._currentElement.props,type=wrappedElement.type;markerName="React mount: "+("string"==typeof type?type:type.displayName||type.name),console.time(markerName)}var markup=ReactReconciler.mountComponent(wrapperInstance,transaction,null,ReactDOMContainerInfo(wrapperInstance,container),context,0);markerName&&console.timeEnd(markerName),wrapperInstance._renderedComponent._topLevelWrapper=wrapperInstance,ReactMount._mountImageIntoNode(markup,container,wrapperInstance,shouldReuseMarkup,transaction)}function batchedMountComponentIntoNode(componentInstance,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(!shouldReuseMarkup&&ReactDOMFeatureFlags.useCreateElement);transaction.perform(mountComponentIntoNode,null,componentInstance,container,transaction,shouldReuseMarkup,context),ReactUpdates.ReactReconcileTransaction.release(transaction)}function unmountComponentFromNode(instance,container,safely){for(ReactReconciler.unmountComponent(instance,safely),container.nodeType===DOC_NODE_TYPE&&(container=container.documentElement);container.lastChild;)container.removeChild(container.lastChild)}function hasNonRootReactChild(container){var rootEl=getReactRootElementInContainer(container);if(rootEl){var inst=ReactDOMComponentTree.getInstanceFromNode(rootEl);return!(!inst||!inst._hostParent)}}function isValidContainer(node){return!(!node||node.nodeType!==ELEMENT_NODE_TYPE&&node.nodeType!==DOC_NODE_TYPE&&node.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE)}function getHostRootInstanceInContainer(container){var rootEl=getReactRootElementInContainer(container),prevHostInstance=rootEl&&ReactDOMComponentTree.getInstanceFromNode(rootEl);return prevHostInstance&&!prevHostInstance._hostParent?prevHostInstance:null}function getTopLevelWrapperInContainer(container){var root=getHostRootInstanceInContainer(container);return root?root._hostContainerInfo._topLevelWrapper:null}var _prodInvariant=($__require("5"),this||self,$__require("30")),DOMLazyTree=$__require("4d"),DOMProperty=$__require("1a"),ReactBrowserEventEmitter=$__require("50"),ReactDOMComponentTree=($__require("46"),$__require("11")),ReactDOMContainerInfo=$__require("8a"),ReactDOMFeatureFlags=$__require("8b"),ReactElement=$__require("8f"),ReactFeatureFlags=$__require("8e"),ReactInstanceMap=$__require("44"),ReactMarkupChecksum=($__require("29"),$__require("8d")),ReactReconciler=$__require("3b"),ReactUpdateQueue=$__require("49"),ReactUpdates=$__require("12"),emptyObject=$__require("94"),instantiateReactComponent=$__require("3c"),setInnerHTML=($__require("32"),$__require("5c")),shouldUpdateReactComponent=$__require("3e"),ATTR_NAME=($__require("24"),DOMProperty.ID_ATTRIBUTE_NAME),ROOT_ATTR_NAME=DOMProperty.ROOT_ATTRIBUTE_NAME,ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,DOCUMENT_FRAGMENT_NODE_TYPE=11,instancesByReactRootID={},topLevelRootCounter=1,TopLevelWrapper=function(){this.rootID=topLevelRootCounter++};TopLevelWrapper.prototype.isReactComponent={},TopLevelWrapper.prototype.render=function(){return this.props};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextElement,nextContext,container,callback){return ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement,nextContext),callback&&ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback)}),prevComponent},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){isValidContainer(container)?void 0:_prodInvariant("37"),ReactBrowserEventEmitter.ensureScrollValueMonitoring();var componentInstance=instantiateReactComponent(nextElement,!1);ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,container,shouldReuseMarkup,context);var wrapperID=componentInstance._instance.rootID;return instancesByReactRootID[wrapperID]=componentInstance,componentInstance},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){return null!=parentComponent&&ReactInstanceMap.has(parentComponent)?void 0:_prodInvariant("38"),ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback)},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){ReactUpdateQueue.validateCallback(callback,"ReactDOM.render"),ReactElement.isValidElement(nextElement)?void 0:_prodInvariant("39","string"==typeof nextElement?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof nextElement?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=nextElement&&void 0!==nextElement.props?" This may be caused by unintentionally loading two independent copies of React.":"");var nextContext,nextWrappedElement=ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement);if(parentComponent){var parentInst=ReactInstanceMap.get(parentComponent);nextContext=parentInst._processChildContext(parentInst._context)}else nextContext=emptyObject;var prevComponent=getTopLevelWrapperInContainer(container);if(prevComponent){var prevWrappedElement=prevComponent._currentElement,prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement)){var publicInst=prevComponent._renderedComponent.getPublicInstance(),updatedCallback=callback&&function(){callback.call(publicInst)};return ReactMount._updateRootComponent(prevComponent,nextWrappedElement,nextContext,container,updatedCallback),publicInst}ReactMount.unmountComponentAtNode(container)}var reactRootElement=getReactRootElementInContainer(container),containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement),containerHasNonRootReactChild=hasNonRootReactChild(container),shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild,component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,nextContext)._renderedComponent.getPublicInstance();return callback&&callback.call(component),component},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback)},unmountComponentAtNode:function(container){isValidContainer(container)?void 0:_prodInvariant("40");var prevComponent=getTopLevelWrapperInContainer(container);if(!prevComponent){hasNonRootReactChild(container),1===container.nodeType&&container.hasAttribute(ROOT_ATTR_NAME);return!1}return delete instancesByReactRootID[prevComponent._instance.rootID],ReactUpdates.batchedUpdates(unmountComponentFromNode,prevComponent,container,!1),!0},_mountImageIntoNode:function(markup,container,instance,shouldReuseMarkup,transaction){if(isValidContainer(container)?void 0:_prodInvariant("41"),shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement))return void ReactDOMComponentTree.precacheNode(instance,rootElement);var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);var normalizedMarkup=markup,diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup),difference=" (client) "+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+"\n (server) "+rootMarkup.substring(diffIndex-20,diffIndex+20);container.nodeType===DOC_NODE_TYPE?_prodInvariant("42",difference):void 0}if(container.nodeType===DOC_NODE_TYPE?_prodInvariant("43"):void 0,transaction.useCreateElement){for(;container.lastChild;)container.removeChild(container.lastChild);DOMLazyTree.insertTreeBefore(container,markup,null)}else setInnerHTML(container,markup),ReactDOMComponentTree.precacheNode(instance,container.firstChild)}};return module.exports=ReactMount,module.exports}),$__System.registerDynamic("96",["95","5"],!0,function($__require,exports,module){"use strict";var ReactMount=($__require("5"),this||self,$__require("95"));return module.exports=ReactMount.renderSubtreeIntoContainer,module.exports}),$__System.registerDynamic("97",["24","5"],!0,function($__require,exports,module){"use strict";var processingChildContext,warnInvalidSetState,ReactInvalidSetStateWarningHook=($__require("5"),this||self,$__require("24"),{onBeginProcessingChildContext:function(){processingChildContext=!0},onEndProcessingChildContext:function(){processingChildContext=!1},onSetState:function(){warnInvalidSetState()}});return module.exports=ReactInvalidSetStateWarningHook,module.exports}),$__System.registerDynamic("98",["5"],!0,function($__require,exports,module){"use strict";var history=($__require("5"),this||self,[]),ReactHostOperationHistoryHook={onHostOperation:function(debugID,type,payload){history.push({instanceID:debugID,type:type,payload:payload})},clearHistory:function(){ReactHostOperationHistoryHook._preventClearing||(history=[])},getHistory:function(){return history}};return module.exports=ReactHostOperationHistoryHook,module.exports}),$__System.registerDynamic("99",["40","24","5"],!0,function($__require,exports,module){"use strict";function handleElement(debugID,element){if(null!=element&&void 0!==element._shadowChildren&&element._shadowChildren!==element.props.children){var isMutated=!1;if(Array.isArray(element._shadowChildren))if(element._shadowChildren.length===element.props.children.length)for(var i=0;i<element._shadowChildren.length;i++)element._shadowChildren[i]!==element.props.children[i]&&(isMutated=!0);else isMutated=!0;!Array.isArray(element._shadowChildren)||isMutated}}var ReactComponentTreeHook=($__require("5"),this||self,$__require("40")),ReactChildrenMutationWarningHook=($__require("24"),{onMountComponent:function(debugID){
handleElement(debugID,ReactComponentTreeHook.getElement(debugID))},onUpdateComponent:function(debugID){handleElement(debugID,ReactComponentTreeHook.getElement(debugID))}});return module.exports=ReactChildrenMutationWarningHook,module.exports}),$__System.registerDynamic("d",["5"],!0,function($__require,exports,module){"use strict";var canUseDOM=($__require("5"),this||self,!("undefined"==typeof window||!window.document||!window.document.createElement)),ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};return module.exports=ExecutionEnvironment,module.exports}),$__System.registerDynamic("9a",["d","5"],!0,function($__require,exports,module){"use strict";var performance,ExecutionEnvironment=($__require("5"),this||self,$__require("d"));return ExecutionEnvironment.canUseDOM&&(performance=window.performance||window.msPerformance||window.webkitPerformance),module.exports=performance||{},module.exports}),$__System.registerDynamic("9b",["9a","5"],!0,function($__require,exports,module){"use strict";var performanceNow,performance=($__require("5"),this||self,$__require("9a"));return performanceNow=performance.now?function(){return performance.now()}:function(){return Date.now()},module.exports=performanceNow,module.exports}),$__System.registerDynamic("9c",["97","98","40","99","d","9b","24","5"],!0,function($__require,exports,module){"use strict";function callHook(event,fn,context,arg1,arg2,arg3,arg4,arg5){try{fn.call(context,arg1,arg2,arg3,arg4,arg5)}catch(e){didHookThrowForEvent[event]=!0}}function emitEvent(event,arg1,arg2,arg3,arg4,arg5){for(var i=0;i<hooks.length;i++){var hook=hooks[i],fn=hook[event];fn&&callHook(event,fn,hook,arg1,arg2,arg3,arg4,arg5)}}function clearHistory(){ReactComponentTreeHook.purgeUnmountedComponents(),ReactHostOperationHistoryHook.clearHistory()}function getTreeSnapshot(registeredIDs){return registeredIDs.reduce(function(tree,id){var ownerID=ReactComponentTreeHook.getOwnerID(id),parentID=ReactComponentTreeHook.getParentID(id);return tree[id]={displayName:ReactComponentTreeHook.getDisplayName(id),text:ReactComponentTreeHook.getText(id),updateCount:ReactComponentTreeHook.getUpdateCount(id),childIDs:ReactComponentTreeHook.getChildIDs(id),ownerID:ownerID||ReactComponentTreeHook.getOwnerID(parentID),parentID:parentID},tree},{})}function resetMeasurements(){var previousStartTime=currentFlushStartTime,previousMeasurements=currentFlushMeasurements||[],previousOperations=ReactHostOperationHistoryHook.getHistory();if(0===currentFlushNesting)return currentFlushStartTime=null,currentFlushMeasurements=null,void clearHistory();if(previousMeasurements.length||previousOperations.length){var registeredIDs=ReactComponentTreeHook.getRegisteredIDs();flushHistory.push({duration:performanceNow()-previousStartTime,measurements:previousMeasurements||[],operations:previousOperations||[],treeSnapshot:getTreeSnapshot(registeredIDs)})}clearHistory(),currentFlushStartTime=performanceNow(),currentFlushMeasurements=[]}function checkDebugID(debugID){var allowRoot=!(arguments.length<=1||void 0===arguments[1])&&arguments[1]}function beginLifeCycleTimer(debugID,timerType){0!==currentFlushNesting&&(currentTimerType&&!lifeCycleTimerHasWarned&&(lifeCycleTimerHasWarned=!0),currentTimerStartTime=performanceNow(),currentTimerNestedFlushDuration=0,currentTimerDebugID=debugID,currentTimerType=timerType)}function endLifeCycleTimer(debugID,timerType){0!==currentFlushNesting&&(currentTimerType===timerType||lifeCycleTimerHasWarned||(lifeCycleTimerHasWarned=!0),isProfiling&&currentFlushMeasurements.push({timerType:timerType,instanceID:debugID,duration:performanceNow()-currentTimerStartTime-currentTimerNestedFlushDuration}),currentTimerStartTime=null,currentTimerNestedFlushDuration=null,currentTimerDebugID=null,currentTimerType=null)}function pauseCurrentLifeCycleTimer(){var currentTimer={startTime:currentTimerStartTime,nestedFlushStartTime:performanceNow(),debugID:currentTimerDebugID,timerType:currentTimerType};lifeCycleTimerStack.push(currentTimer),currentTimerStartTime=null,currentTimerNestedFlushDuration=null,currentTimerDebugID=null,currentTimerType=null}function resumeCurrentLifeCycleTimer(){var _lifeCycleTimerStack$=lifeCycleTimerStack.pop(),startTime=_lifeCycleTimerStack$.startTime,nestedFlushStartTime=_lifeCycleTimerStack$.nestedFlushStartTime,debugID=_lifeCycleTimerStack$.debugID,timerType=_lifeCycleTimerStack$.timerType,nestedFlushDuration=performanceNow()-nestedFlushStartTime;currentTimerStartTime=startTime,currentTimerNestedFlushDuration+=nestedFlushDuration,currentTimerDebugID=debugID,currentTimerType=timerType}var ReactInvalidSetStateWarningHook=($__require("5"),this||self,$__require("97")),ReactHostOperationHistoryHook=$__require("98"),ReactComponentTreeHook=$__require("40"),ReactChildrenMutationWarningHook=$__require("99"),ExecutionEnvironment=$__require("d"),performanceNow=$__require("9b"),hooks=($__require("24"),[]),didHookThrowForEvent={},isProfiling=!1,flushHistory=[],lifeCycleTimerStack=[],currentFlushNesting=0,currentFlushMeasurements=null,currentFlushStartTime=null,currentTimerDebugID=null,currentTimerStartTime=null,currentTimerNestedFlushDuration=null,currentTimerType=null,lifeCycleTimerHasWarned=!1,ReactDebugTool={addHook:function(hook){hooks.push(hook)},removeHook:function(hook){for(var i=0;i<hooks.length;i++)hooks[i]===hook&&(hooks.splice(i,1),i--)},isProfiling:function(){return isProfiling},beginProfiling:function(){isProfiling||(isProfiling=!0,flushHistory.length=0,resetMeasurements(),ReactDebugTool.addHook(ReactHostOperationHistoryHook))},endProfiling:function(){isProfiling&&(isProfiling=!1,resetMeasurements(),ReactDebugTool.removeHook(ReactHostOperationHistoryHook))},getFlushHistory:function(){return flushHistory},onBeginFlush:function(){currentFlushNesting++,resetMeasurements(),pauseCurrentLifeCycleTimer(),emitEvent("onBeginFlush")},onEndFlush:function(){resetMeasurements(),currentFlushNesting--,resumeCurrentLifeCycleTimer(),emitEvent("onEndFlush")},onBeginLifeCycleTimer:function(debugID,timerType){checkDebugID(debugID),emitEvent("onBeginLifeCycleTimer",debugID,timerType),beginLifeCycleTimer(debugID,timerType)},onEndLifeCycleTimer:function(debugID,timerType){checkDebugID(debugID),endLifeCycleTimer(debugID,timerType),emitEvent("onEndLifeCycleTimer",debugID,timerType)},onError:function(debugID){null!=currentTimerDebugID&&endLifeCycleTimer(currentTimerDebugID,currentTimerType),emitEvent("onError",debugID)},onBeginProcessingChildContext:function(){emitEvent("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){emitEvent("onEndProcessingChildContext")},onHostOperation:function(debugID,type,payload){checkDebugID(debugID),emitEvent("onHostOperation",debugID,type,payload)},onSetState:function(){emitEvent("onSetState")},onSetChildren:function(debugID,childDebugIDs){checkDebugID(debugID),childDebugIDs.forEach(checkDebugID),emitEvent("onSetChildren",debugID,childDebugIDs)},onBeforeMountComponent:function(debugID,element,parentDebugID){checkDebugID(debugID),checkDebugID(parentDebugID,!0),emitEvent("onBeforeMountComponent",debugID,element,parentDebugID)},onMountComponent:function(debugID){checkDebugID(debugID),emitEvent("onMountComponent",debugID)},onBeforeUpdateComponent:function(debugID,element){checkDebugID(debugID),emitEvent("onBeforeUpdateComponent",debugID,element)},onUpdateComponent:function(debugID){checkDebugID(debugID),emitEvent("onUpdateComponent",debugID)},onBeforeUnmountComponent:function(debugID){checkDebugID(debugID),emitEvent("onBeforeUnmountComponent",debugID)},onUnmountComponent:function(debugID){checkDebugID(debugID),emitEvent("onUnmountComponent",debugID)},onTestEvent:function(){emitEvent("onTestEvent")}};ReactDebugTool.addDevtool=ReactDebugTool.addHook,ReactDebugTool.removeDevtool=ReactDebugTool.removeHook,ReactDebugTool.addHook(ReactInvalidSetStateWarningHook),ReactDebugTool.addHook(ReactComponentTreeHook),ReactDebugTool.addHook(ReactChildrenMutationWarningHook);var url=ExecutionEnvironment.canUseDOM&&window.location.href||"";return/[?&]react_perf\b/.test(url)&&ReactDebugTool.beginProfiling(),module.exports=ReactDebugTool,module.exports}),$__System.registerDynamic("29",["9c","5"],!0,function($__require,exports,module){"use strict";var debugTool=($__require("5"),this||self,null);return module.exports={debugTool:debugTool},module.exports}),$__System.registerDynamic("1a",["30","32","5"],!0,function($__require,exports,module){"use strict";function checkMask(value,bitmask){return(value&bitmask)===bitmask}var _prodInvariant=($__require("5"),this||self,$__require("30")),DOMPropertyInjection=($__require("32"),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection,Properties=domPropertyConfig.Properties||{},DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{},DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{},DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{},DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};domPropertyConfig.isCustomAttribute&&DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);for(var propName in Properties){DOMProperty.properties.hasOwnProperty(propName)?_prodInvariant("48",propName):void 0;var lowerCased=propName.toLowerCase(),propConfig=Properties[propName],propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};if(propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1?void 0:_prodInvariant("50",propName),DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName}DOMAttributeNamespaces.hasOwnProperty(propName)&&(propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName]),DOMPropertyNames.hasOwnProperty(propName)&&(propertyInfo.propertyName=DOMPropertyNames[propName]),DOMMutationMethods.hasOwnProperty(propName)&&(propertyInfo.mutationMethod=DOMMutationMethods[propName]),DOMProperty.properties[propName]=propertyInfo}}}),ATTRIBUTE_NAME_START_CHAR=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:ATTRIBUTE_NAME_START_CHAR,ATTRIBUTE_NAME_CHAR:ATTRIBUTE_NAME_START_CHAR+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName))return!0}return!1},injection:DOMPropertyInjection};return module.exports=DOMProperty,module.exports}),$__System.registerDynamic("4f",["30","32","5"],!0,function($__require,exports,module){"use strict";function recomputePluginOrdering(){if(EventPluginOrder)for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName],pluginIndex=EventPluginOrder.indexOf(pluginName);if(pluginIndex>-1?void 0:_prodInvariant("96",pluginName),!EventPluginRegistry.plugins[pluginIndex]){PluginModule.extractEvents?void 0:_prodInvariant("97",pluginName),EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents)publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?void 0:_prodInvariant("98",eventName,pluginName)}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?_prodInvariant("99",eventName):void 0,EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames)if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}return!0}return!!dispatchConfig.registrationName&&(publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName),!0)}function publishRegistrationName(registrationName,PluginModule,eventName){EventPluginRegistry.registrationNameModules[registrationName]?_prodInvariant("100",registrationName):void 0,EventPluginRegistry.registrationNameModules[registrationName]=PluginModule,EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var _prodInvariant=($__require("5"),this||self,$__require("30")),EventPluginOrder=($__require("32"),null),namesToPlugins={},EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(InjectedEventPluginOrder){EventPluginOrder?_prodInvariant("101"):void 0,EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder),recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=!1;for(var pluginName in injectedNamesToPlugins)if(injectedNamesToPlugins.hasOwnProperty(pluginName)){var PluginModule=injectedNamesToPlugins[pluginName];namesToPlugins.hasOwnProperty(pluginName)&&namesToPlugins[pluginName]===PluginModule||(namesToPlugins[pluginName]?_prodInvariant("102",pluginName):void 0,namesToPlugins[pluginName]=PluginModule,isOrderingDirty=!0)}isOrderingDirty&&recomputePluginOrdering()},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName)return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;for(var phase in dispatchConfig.phasedRegistrationNames)if(dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule)return PluginModule}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins)namesToPlugins.hasOwnProperty(pluginName)&&delete namesToPlugins[pluginName];EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs)eventNameDispatchConfigs.hasOwnProperty(eventName)&&delete eventNameDispatchConfigs[eventName];var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules)registrationNameModules.hasOwnProperty(registrationName)&&delete registrationNameModules[registrationName]}};return module.exports=EventPluginRegistry,module.exports}),$__System.registerDynamic("9d",["1a","4f","40","24","5"],!0,function($__require,exports,module){"use strict";function handleElement(debugID,element){null!=element&&"string"==typeof element.type&&(element.type.indexOf("-")>=0||element.props.is||warnUnknownProperties(debugID,element))}var validateProperty,warnUnknownProperties=($__require("5"),this||self,$__require("1a"),$__require("4f"),$__require("40"),$__require("24"),function(debugID,element){var unknownProps=[];for(var key in element.props){var isValid=validateProperty(element.type,key,debugID);isValid||unknownProps.push(key)}unknownProps.map(function(prop){return"`"+prop+"`"}).join(", ");1===unknownProps.length||unknownProps.length>1}),ReactDOMUnknownPropertyHook={onBeforeMountComponent:function(debugID,element){handleElement(debugID,element)},onBeforeUpdateComponent:function(debugID,element){handleElement(debugID,element)}};return module.exports=ReactDOMUnknownPropertyHook,module.exports}),$__System.registerDynamic("9e",["40","24","5"],!0,function($__require,exports,module){"use strict";function handleElement(debugID,element){null!=element&&("input"!==element.type&&"textarea"!==element.type&&"select"!==element.type||null==element.props||null!==element.props.value||didWarnValueNull||(didWarnValueNull=!0))}var didWarnValueNull=($__require("5"),this||self,$__require("40"),$__require("24"),!1),ReactDOMNullInputValuePropHook={onBeforeMountComponent:function(debugID,element){handleElement(debugID,element)},onBeforeUpdateComponent:function(debugID,element){handleElement(debugID,element)}};return module.exports=ReactDOMNullInputValuePropHook,module.exports}),$__System.registerDynamic("9f",["11","83","95","3b","12","a0","84","85","96","24","d","29","9d","9e","5"],!0,function($__require,exports,module){"use strict";var ReactDOMComponentTree=($__require("5"),this||self,$__require("11")),ReactDefaultInjection=$__require("83"),ReactMount=$__require("95"),ReactReconciler=$__require("3b"),ReactUpdates=$__require("12"),ReactVersion=$__require("a0"),findDOMNode=$__require("84"),getHostComponentFromComposite=$__require("85"),renderSubtreeIntoContainer=$__require("96");$__require("24");ReactDefaultInjection.inject();var ReactDOM={findDOMNode:findDOMNode,render:ReactMount.render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:ReactDOMComponentTree.getClosestInstanceFromNode,getNodeFromInstance:function(inst){return inst._renderedComponent&&(inst=getHostComponentFromComposite(inst)),inst?ReactDOMComponentTree.getNodeFromInstance(inst):null}},Mount:ReactMount,Reconciler:ReactReconciler});return module.exports=ReactDOM,module.exports}),$__System.registerDynamic("a1",["9f"],!0,function($__require,exports,module){"use strict";this||self;return module.exports=$__require("9f"),module.exports}),$__System.registerDynamic("a2",["a3","a4","a5","5"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}$__require("5"),this||self;exports.__esModule=!0,exports.default=void 0;var _react=$__require("a3"),_storeShape=$__require("a4"),_storeShape2=_interopRequireDefault(_storeShape),_warning=$__require("a5"),Provider=(_interopRequireDefault(_warning),function(_Component){function Provider(props,context){_classCallCheck(this,Provider);var _this=_possibleConstructorReturn(this,_Component.call(this,props,context));return _this.store=props.store,_this}return _inherits(Provider,_Component),Provider.prototype.getChildContext=function(){return{store:this.store}},Provider.prototype.render=function(){var children=this.props.children;return _react.Children.only(children)},Provider}(_react.Component));return exports.default=Provider,Provider.propTypes={store:_storeShape2.default.isRequired,children:_react.PropTypes.element.isRequired},Provider.childContextTypes={store:_storeShape2.default.isRequired},module.exports}),$__System.registerDynamic("3",["30","32","5"],!0,function($__require,exports,module){"use strict";var _prodInvariant=($__require("5"),this||self,$__require("30")),oneArgumentPooler=($__require("32"),function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,copyFieldsFrom),instance}return new Klass(copyFieldsFrom)}),twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2),instance}return new Klass(a1,a2)},threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3),instance}return new Klass(a1,a2,a3)},fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4),instance}return new Klass(a1,a2,a3,a4)},fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4,a5),instance}return new Klass(a1,a2,a3,a4,a5)},standardReleaser=function(instance){var Klass=this;instance instanceof Klass?void 0:_prodInvariant("25"),instance.destructor(),Klass.instancePool.length<Klass.poolSize&&Klass.instancePool.push(instance)},DEFAULT_POOL_SIZE=10,DEFAULT_POOLER=oneArgumentPooler,addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;return NewKlass.instancePool=[],NewKlass.getPooled=pooler||DEFAULT_POOLER,NewKlass.poolSize||(NewKlass.poolSize=DEFAULT_POOL_SIZE),NewKlass.release=standardReleaser,NewKlass},PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};return module.exports=PooledClass,module.exports}),$__System.registerDynamic("3d",["5"],!0,function($__require,exports,module){"use strict";function escape(key){var escapeRegex=/[=:]/g,escaperLookup={"=":"=0",":":"=2"},escapedString=(""+key).replace(escapeRegex,function(match){return escaperLookup[match]});return"$"+escapedString}function unescape(key){var unescapeRegex=/(=0|=2)/g,unescaperLookup={"=0":"=","=2":":"},keySubstring="."===key[0]&&"$"===key[1]?key.substring(2):key.substring(1);return(""+keySubstring).replace(unescapeRegex,function(match){return unescaperLookup[match]})}var KeyEscapeUtils=($__require("5"),this||self,{escape:escape,unescape:unescape});return module.exports=KeyEscapeUtils,module.exports}),$__System.registerDynamic("3f",["30","46","8f","a6","32","3d","24","5"],!0,function($__require,exports,module){"use strict";function getComponentKey(component,index){return component&&"object"==typeof component&&null!=component.key?KeyEscapeUtils.escape(component.key):index.toString(36)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if("undefined"!==type&&"boolean"!==type||(children=null),null===children||"string"===type||"number"===type||ReactElement.isValidElement(children))return callback(traverseContext,children,""===nameSoFar?SEPARATOR+getComponentKey(children,0):nameSoFar),1;var child,nextName,subtreeCount=0,nextNamePrefix=""===nameSoFar?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children))for(var i=0;i<children.length;i++)child=children[i],nextName=nextNamePrefix+getComponentKey(child,i),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var step,iterator=iteratorFn.call(children);if(iteratorFn!==children.entries)for(var ii=0;!(step=iterator.next()).done;)child=step.value,nextName=nextNamePrefix+getComponentKey(child,ii++),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else for(;!(step=iterator.next()).done;){var entry=step.value;entry&&(child=entry[1],nextName=nextNamePrefix+KeyEscapeUtils.escape(entry[0])+SUBSEPARATOR+getComponentKey(child,0),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext))}}else if("object"===type){var addendum="",childrenString=String(children);_prodInvariant("31","[object Object]"===childrenString?"object with keys {"+Object.keys(children).join(", ")+"}":childrenString,addendum)}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){return null==children?0:traverseAllChildrenImpl(children,"",callback,traverseContext)}var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactElement=($__require("46"),$__require("8f")),getIteratorFn=$__require("a6"),KeyEscapeUtils=($__require("32"),$__require("3d")),SEPARATOR=($__require("24"),"."),SUBSEPARATOR=":";return module.exports=traverseAllChildren,module.exports}),$__System.registerDynamic("34",["3","8f","47","3f","5"],!0,function($__require,exports,module){"use strict";function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"$&/")}function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction,this.context=forEachContext,this.count=0}function forEachSingleChild(bookKeeping,child,name){var func=bookKeeping.func,context=bookKeeping.context;func.call(context,child,bookKeeping.count++)}function forEachChildren(children,forEachFunc,forEachContext){if(null==children)return children;var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext),ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult,this.keyPrefix=keyPrefix,this.func=mapFunction,this.context=mapContext,this.count=0}function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result,keyPrefix=bookKeeping.keyPrefix,func=bookKeeping.func,context=bookKeeping.context,mappedChild=func.call(context,child,bookKeeping.count++);Array.isArray(mappedChild)?mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument):null!=mappedChild&&(ReactElement.isValidElement(mappedChild)&&(mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(!mappedChild.key||child&&child.key===mappedChild.key?"":escapeUserProvidedKey(mappedChild.key)+"/")+childKey)),result.push(mappedChild))}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";null!=prefix&&(escapedPrefix=escapeUserProvidedKey(prefix)+"/");var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext),MapBookKeeping.release(traverseContext)}function mapChildren(children,func,context){if(null==children)return children;var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,func,context),result}function forEachSingleChildDummy(traverseContext,child,name){return null}function countChildren(children,context){return traverseAllChildren(children,forEachSingleChildDummy,null)}function toArray(children){var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument),result}var PooledClass=($__require("5"),this||self,$__require("3")),ReactElement=$__require("8f"),emptyFunction=$__require("47"),traverseAllChildren=$__require("3f"),twoArgumentPooler=PooledClass.twoArgumentPooler,fourArgumentPooler=PooledClass.fourArgumentPooler,userProvidedKeyEscapeRegex=/\/+/g;ForEachBookKeeping.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler),MapBookKeeping.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};return module.exports=ReactChildren,module.exports}),$__System.registerDynamic("a7",["6","a8","a9","94","5"],!0,function($__require,exports,module){"use strict";function ReactPureComponent(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}function ComponentDummy(){}var _assign=($__require("5"),this||self,$__require("6")),ReactComponent=$__require("a8"),ReactNoopUpdateQueue=$__require("a9"),emptyObject=$__require("94");return ComponentDummy.prototype=ReactComponent.prototype,ReactPureComponent.prototype=new ComponentDummy,ReactPureComponent.prototype.constructor=ReactPureComponent,_assign(ReactPureComponent.prototype,ReactComponent.prototype),ReactPureComponent.prototype.isPureReactComponent=!0,module.exports=ReactPureComponent,module.exports}),$__System.registerDynamic("a8",["30","a9","aa","94","32","24","5"],!0,function($__require,exports,module){"use strict";function ReactComponent(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactNoopUpdateQueue=$__require("a9"),emptyObject=($__require("aa"),$__require("94"));$__require("32"),$__require("24");ReactComponent.prototype.isReactComponent={},ReactComponent.prototype.setState=function(partialState,callback){"object"!=typeof partialState&&"function"!=typeof partialState&&null!=partialState?_prodInvariant("85"):void 0,this.updater.enqueueSetState(this,partialState),callback&&this.updater.enqueueCallback(this,callback,"setState")},ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this),callback&&this.updater.enqueueCallback(this,callback,"forceUpdate")};return module.exports=ReactComponent,module.exports}),$__System.registerDynamic("a9",["24","5"],!0,function($__require,exports,module){"use strict";function warnNoop(publicInstance,callerName){}var ReactNoopUpdateQueue=($__require("5"),this||self,$__require("24"),{isMounted:function(publicInstance){return!1},enqueueCallback:function(publicInstance,callback){},enqueueForceUpdate:function(publicInstance){warnNoop(publicInstance,"forceUpdate")},enqueueReplaceState:function(publicInstance,completeState){warnNoop(publicInstance,"replaceState")},enqueueSetState:function(publicInstance,partialState){warnNoop(publicInstance,"setState")}});return module.exports=ReactNoopUpdateQueue,module.exports}),$__System.registerDynamic("94",["5"],!0,function($__require,exports,module){"use strict";var emptyObject=($__require("5"),this||self,{});return module.exports=emptyObject,module.exports}),$__System.registerDynamic("e",["5"],!0,function($__require,exports,module){"use strict";var keyOf=($__require("5"),this||self,function(oneKeyObj){var key;for(key in oneKeyObj)if(oneKeyObj.hasOwnProperty(key))return key;return null});return module.exports=keyOf,module.exports}),$__System.registerDynamic("65",["30","6","a8","8f","37","ab","a9","94","32","5a","e","24","5"],!0,function($__require,exports,module){"use strict";function validateMethodOverride(isAlreadyDefined,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.OVERRIDE_BASE?_prodInvariant("73",name):void 0),isAlreadyDefined&&(specPolicy!==SpecPolicy.DEFINE_MANY&&specPolicy!==SpecPolicy.DEFINE_MANY_MERGED?_prodInvariant("74",name):void 0);
}function mixSpecIntoComponent(Constructor,spec){if(spec){"function"==typeof spec?_prodInvariant("75"):void 0,ReactElement.isValidElement(spec)?_prodInvariant("76"):void 0;var proto=Constructor.prototype,autoBindPairs=proto.__reactAutoBindPairs;spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);for(var name in spec)if(spec.hasOwnProperty(name)&&name!==MIXINS_KEY){var property=spec[name],isAlreadyDefined=proto.hasOwnProperty(name);if(validateMethodOverride(isAlreadyDefined,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name),isFunction="function"==typeof property,shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==!1;if(shouldAutoBind)autoBindPairs.push(name,property),proto[name]=property;else if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!isReactClassMethod||specPolicy!==SpecPolicy.DEFINE_MANY_MERGED&&specPolicy!==SpecPolicy.DEFINE_MANY?_prodInvariant("77",specPolicy,name):void 0,specPolicy===SpecPolicy.DEFINE_MANY_MERGED?proto[name]=createMergedResultFunction(proto[name],property):specPolicy===SpecPolicy.DEFINE_MANY&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property}}}else;}function mixStaticSpecIntoComponent(Constructor,statics){if(statics)for(var name in statics){var property=statics[name];if(statics.hasOwnProperty(name)){var isReserved=name in RESERVED_SPEC_KEYS;isReserved?_prodInvariant("78",name):void 0;var isInherited=name in Constructor;isInherited?_prodInvariant("79",name):void 0,Constructor[name]=property}}}function mergeIntoWithNoDuplicateKeys(one,two){one&&two&&"object"==typeof one&&"object"==typeof two?void 0:_prodInvariant("80");for(var key in two)two.hasOwnProperty(key)&&(void 0!==one[key]?_prodInvariant("81",key):void 0,one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(null==a)return b;if(null==b)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);return boundMethod}function bindAutoBindMethods(component){for(var pairs=component.__reactAutoBindPairs,i=0;i<pairs.length;i+=2){var autoBindKey=pairs[i],method=pairs[i+1];component[autoBindKey]=bindAutoBindMethod(component,method)}}var _prodInvariant=($__require("5"),this||self,$__require("30")),_assign=$__require("6"),ReactComponent=$__require("a8"),ReactElement=$__require("8f"),ReactNoopUpdateQueue=($__require("37"),$__require("ab"),$__require("a9")),emptyObject=$__require("94"),keyMirror=($__require("32"),$__require("5a")),keyOf=$__require("e"),MIXINS_KEY=($__require("24"),keyOf({mixins:null})),SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),injectedMixins=[],ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){Constructor.childContextTypes=_assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){Constructor.contextTypes=_assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps?Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):Constructor.getDefaultProps=getDefaultProps},propTypes:function(Constructor,propTypes){Constructor.propTypes=_assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState),callback&&this.updater.enqueueCallback(this,callback,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},ReactClassComponent=function(){};_assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){this.__reactAutoBindPairs.length&&bindAutoBindMethods(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;"object"!=typeof initialState||Array.isArray(initialState)?_prodInvariant("82",Constructor.displayName||"ReactCompositeComponent"):void 0,this.state=initialState};Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,Constructor.prototype.__reactAutoBindPairs=[],injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,spec),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),Constructor.prototype.render?void 0:_prodInvariant("83");for(var methodName in ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};return module.exports=ReactClass,module.exports}),$__System.registerDynamic("ac",["8f","ad","5"],!0,function($__require,exports,module){"use strict";var ReactElement=($__require("5"),this||self,$__require("8f")),createDOMFactory=ReactElement.createFactory,ReactDOMFactories={a:createDOMFactory("a"),abbr:createDOMFactory("abbr"),address:createDOMFactory("address"),area:createDOMFactory("area"),article:createDOMFactory("article"),aside:createDOMFactory("aside"),audio:createDOMFactory("audio"),b:createDOMFactory("b"),base:createDOMFactory("base"),bdi:createDOMFactory("bdi"),bdo:createDOMFactory("bdo"),big:createDOMFactory("big"),blockquote:createDOMFactory("blockquote"),body:createDOMFactory("body"),br:createDOMFactory("br"),button:createDOMFactory("button"),canvas:createDOMFactory("canvas"),caption:createDOMFactory("caption"),cite:createDOMFactory("cite"),code:createDOMFactory("code"),col:createDOMFactory("col"),colgroup:createDOMFactory("colgroup"),data:createDOMFactory("data"),datalist:createDOMFactory("datalist"),dd:createDOMFactory("dd"),del:createDOMFactory("del"),details:createDOMFactory("details"),dfn:createDOMFactory("dfn"),dialog:createDOMFactory("dialog"),div:createDOMFactory("div"),dl:createDOMFactory("dl"),dt:createDOMFactory("dt"),em:createDOMFactory("em"),embed:createDOMFactory("embed"),fieldset:createDOMFactory("fieldset"),figcaption:createDOMFactory("figcaption"),figure:createDOMFactory("figure"),footer:createDOMFactory("footer"),form:createDOMFactory("form"),h1:createDOMFactory("h1"),h2:createDOMFactory("h2"),h3:createDOMFactory("h3"),h4:createDOMFactory("h4"),h5:createDOMFactory("h5"),h6:createDOMFactory("h6"),head:createDOMFactory("head"),header:createDOMFactory("header"),hgroup:createDOMFactory("hgroup"),hr:createDOMFactory("hr"),html:createDOMFactory("html"),i:createDOMFactory("i"),iframe:createDOMFactory("iframe"),img:createDOMFactory("img"),input:createDOMFactory("input"),ins:createDOMFactory("ins"),kbd:createDOMFactory("kbd"),keygen:createDOMFactory("keygen"),label:createDOMFactory("label"),legend:createDOMFactory("legend"),li:createDOMFactory("li"),link:createDOMFactory("link"),main:createDOMFactory("main"),map:createDOMFactory("map"),mark:createDOMFactory("mark"),menu:createDOMFactory("menu"),menuitem:createDOMFactory("menuitem"),meta:createDOMFactory("meta"),meter:createDOMFactory("meter"),nav:createDOMFactory("nav"),noscript:createDOMFactory("noscript"),object:createDOMFactory("object"),ol:createDOMFactory("ol"),optgroup:createDOMFactory("optgroup"),option:createDOMFactory("option"),output:createDOMFactory("output"),p:createDOMFactory("p"),param:createDOMFactory("param"),picture:createDOMFactory("picture"),pre:createDOMFactory("pre"),progress:createDOMFactory("progress"),q:createDOMFactory("q"),rp:createDOMFactory("rp"),rt:createDOMFactory("rt"),ruby:createDOMFactory("ruby"),s:createDOMFactory("s"),samp:createDOMFactory("samp"),script:createDOMFactory("script"),section:createDOMFactory("section"),select:createDOMFactory("select"),small:createDOMFactory("small"),source:createDOMFactory("source"),span:createDOMFactory("span"),strong:createDOMFactory("strong"),style:createDOMFactory("style"),sub:createDOMFactory("sub"),summary:createDOMFactory("summary"),sup:createDOMFactory("sup"),table:createDOMFactory("table"),tbody:createDOMFactory("tbody"),td:createDOMFactory("td"),textarea:createDOMFactory("textarea"),tfoot:createDOMFactory("tfoot"),th:createDOMFactory("th"),thead:createDOMFactory("thead"),time:createDOMFactory("time"),title:createDOMFactory("title"),tr:createDOMFactory("tr"),track:createDOMFactory("track"),u:createDOMFactory("u"),ul:createDOMFactory("ul"),var:createDOMFactory("var"),video:createDOMFactory("video"),wbr:createDOMFactory("wbr"),circle:createDOMFactory("circle"),clipPath:createDOMFactory("clipPath"),defs:createDOMFactory("defs"),ellipse:createDOMFactory("ellipse"),g:createDOMFactory("g"),image:createDOMFactory("image"),line:createDOMFactory("line"),linearGradient:createDOMFactory("linearGradient"),mask:createDOMFactory("mask"),path:createDOMFactory("path"),pattern:createDOMFactory("pattern"),polygon:createDOMFactory("polygon"),polyline:createDOMFactory("polyline"),radialGradient:createDOMFactory("radialGradient"),rect:createDOMFactory("rect"),stop:createDOMFactory("stop"),svg:createDOMFactory("svg"),text:createDOMFactory("text"),tspan:createDOMFactory("tspan")};return module.exports=ReactDOMFactories,module.exports}),$__System.registerDynamic("36",["8f","ab","38","47","a6","24","5"],!0,function($__require,exports,module){"use strict";function is(x,y){return x===y?0!==x||1/x===1/y:x!==x&&y!==y}function PropTypeError(message){this.message=message,this.stack=""}function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName,secret){componentName=componentName||ANONYMOUS,propFullName=propFullName||propName;if(null==props[propName]){var locationName=ReactPropTypeLocationNames[location];return isRequired?new PropTypeError("Required "+locationName+" `"+propFullName+"` was not specified in "+("`"+componentName+"`.")):null}return validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName,secret){var propValue=props[propName],propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location],preciseType=getPreciseType(propValue);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if("function"!=typeof typeChecker)return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside arrayOf.");var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location],propType=getPropType(propValue);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]",ReactPropTypesSecret);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!ReactElement.isValidElement(propValue)){var locationName=ReactPropTypeLocationNames[location],propType=getPropType(propValue);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location],expectedClassName=expectedClass.name||ANONYMOUS,actualClassName=getClassName(props[propName]);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location,propFullName){for(var propValue=props[propName],i=0;i<expectedValues.length;i++)if(is(propValue,expectedValues[i]))return null;var locationName=ReactPropTypeLocationNames[location],valuesString=JSON.stringify(expectedValues);return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return Array.isArray(expectedValues)?createChainableTypeChecker(validate):emptyFunction.thatReturnsNull}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if("function"!=typeof typeChecker)return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside objectOf.");var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue)if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(null==checker(props,propName,componentName,location,propFullName,ReactPropTypesSecret))return null}var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return Array.isArray(arrayOfTypeCheckers)?createChainableTypeChecker(validate):emptyFunction.thatReturnsNull}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new PropTypeError("Invalid "+locationName+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(checker){var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error)return error}}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(null===propValue||ReactElement.isValidElement(propValue))return!0;var iteratorFn=getIteratorFn(propValue);if(!iteratorFn)return!1;var step,iterator=iteratorFn.call(propValue);if(iteratorFn!==propValue.entries){for(;!(step=iterator.next()).done;)if(!isNode(step.value))return!1}else for(;!(step=iterator.next()).done;){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}return!0;default:return!1}}function isSymbol(propType,propValue){return"symbol"===propType||("Symbol"===propValue["@@toStringTag"]||"function"==typeof Symbol&&propValue instanceof Symbol)}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":isSymbol(propType,propValue)?"symbol":propType}function getPreciseType(propValue){var propType=getPropType(propValue);if("object"===propType){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getClassName(propValue){return propValue.constructor&&propValue.constructor.name?propValue.constructor.name:ANONYMOUS}var ReactElement=($__require("5"),this||self,$__require("8f")),ReactPropTypeLocationNames=$__require("ab"),ReactPropTypesSecret=$__require("38"),emptyFunction=$__require("47"),getIteratorFn=$__require("a6"),ANONYMOUS=($__require("24"),"<<anonymous>>"),ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};return PropTypeError.prototype=Error.prototype,module.exports=ReactPropTypes,module.exports}),$__System.registerDynamic("a0",["5"],!0,function($__require,exports,module){"use strict";$__require("5"),this||self;return module.exports="15.3.1",module.exports}),$__System.registerDynamic("ae",["30","8f","32","5"],!0,function($__require,exports,module){"use strict";function onlyChild(children){return ReactElement.isValidElement(children)?void 0:_prodInvariant("143"),children}var _prodInvariant=($__require("5"),this||self,$__require("30")),ReactElement=$__require("8f");$__require("32");return module.exports=onlyChild,module.exports}),$__System.registerDynamic("6",[],!0,function($__require,exports,module){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if("0123456789"!==order2.join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(e){return!1}}var hasOwnProperty=(this||self,Object.prototype.hasOwnProperty),propIsEnumerable=Object.prototype.propertyIsEnumerable;return module.exports=shouldUseNative()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to},module.exports}),$__System.registerDynamic("8f",["6","46","24","aa","5"],!0,function($__require,exports,module){"use strict";function hasValidRef(config){return void 0!==config.ref}function hasValidKey(config){return void 0!==config.key}var _assign=($__require("5"),this||self,$__require("6")),ReactCurrentOwner=$__require("46"),hasOwnProperty=($__require("24"),$__require("aa"),Object.prototype.hasOwnProperty),REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,RESERVED_PROPS={key:!0,ref:!0,__self:!0,__source:!0},ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};return element};return ReactElement.createElement=function(type,config,children){var propName,props={},key=null,ref=null,self=null,source=null;if(null!=config){hasValidRef(config)&&(ref=config.ref),hasValidKey(config)&&(key=""+config.key),self=void 0===config.__self?null:config.__self,source=void 0===config.__source?null:config.__source;for(propName in config)hasOwnProperty.call(config,propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;i<childrenLength;i++)childArray[i]=arguments[i+2];props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps)void 0===props[propName]&&(props[propName]=defaultProps[propName])}return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props)},ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);return factory.type=type,factory},ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement},ReactElement.cloneElement=function(element,config,children){var propName,props=_assign({},element.props),key=element.key,ref=element.ref,self=element._self,source=element._source,owner=element._owner;if(null!=config){hasValidRef(config)&&(ref=config.ref,owner=ReactCurrentOwner.current),hasValidKey(config)&&(key=""+config.key);var defaultProps;element.type&&element.type.defaultProps&&(defaultProps=element.type.defaultProps);for(propName in config)hasOwnProperty.call(config,propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(void 0===config[propName]&&void 0!==defaultProps?props[propName]=defaultProps[propName]:props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;i<childrenLength;i++)childArray[i]=arguments[i+2];props.children=childArray}return ReactElement(element.type,key,ref,self,source,owner,props)},ReactElement.isValidElement=function(object){return"object"==typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE},ReactElement.REACT_ELEMENT_TYPE=REACT_ELEMENT_TYPE,module.exports=ReactElement,module.exports}),$__System.registerDynamic("5a",["32","5"],!0,function($__require,exports,module){"use strict";var invariant=($__require("5"),this||self,$__require("32")),keyMirror=function(obj){var key,ret={};obj instanceof Object&&!Array.isArray(obj)?void 0:invariant(!1);for(key in obj)obj.hasOwnProperty(key)&&(ret[key]=key);return ret};return module.exports=keyMirror,module.exports}),$__System.registerDynamic("37",["5a","5"],!0,function($__require,exports,module){"use strict";var keyMirror=($__require("5"),this||self,$__require("5a")),ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});return module.exports=ReactPropTypeLocations,module.exports}),$__System.registerDynamic("ab",["5"],!0,function($__require,exports,module){"use strict";var ReactPropTypeLocationNames=($__require("5"),this||self,{});return module.exports=ReactPropTypeLocationNames,module.exports}),$__System.registerDynamic("38",["5"],!0,function($__require,exports,module){"use strict";var ReactPropTypesSecret=($__require("5"),this||self,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");return module.exports=ReactPropTypesSecret,module.exports}),$__System.registerDynamic("30",["5"],!0,function($__require,exports,module){"use strict";function reactProdInvariant(code){for(var argCount=arguments.length-1,message="Minified React error #"+code+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+code,argIdx=0;argIdx<argCount;argIdx++)message+="&args[]="+encodeURIComponent(arguments[argIdx+1]);message+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var error=new Error(message);throw error.name="Invariant Violation",error.framesToPop=1,error}$__require("5"),this||self;return module.exports=reactProdInvariant,module.exports}),$__System.registerDynamic("46",["5"],!0,function($__require,exports,module){"use strict";var ReactCurrentOwner=($__require("5"),this||self,{current:null});return module.exports=ReactCurrentOwner,module.exports}),$__System.registerDynamic("32",["5"],!0,function($__require,exports,module){"use strict";function invariant(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]})),error.name="Invariant Violation"}throw error.framesToPop=1,error}}$__require("5"),this||self;return module.exports=invariant,module.exports}),$__System.registerDynamic("40",["30","46","32","24","5"],!0,function($__require,exports,module){"use strict";function isNative(fn){var funcToString=Function.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var source=funcToString.call(fn);return reIsNative.test(source)}catch(err){return!1}}function getKeyFromID(id){return"."+id}function getIDFromKey(key){return parseInt(key.substr(1),10)}function get(id){if(canUseCollections)return itemMap.get(id);var key=getKeyFromID(id);return itemByKey[key]}function remove(id){if(canUseCollections)itemMap.delete(id);else{var key=getKeyFromID(id);delete itemByKey[key]}}function create(id,element,parentID){var item={element:element,parentID:parentID,text:null,childIDs:[],isMounted:!1,updateCount:0};if(canUseCollections)itemMap.set(id,item);else{var key=getKeyFromID(id);itemByKey[key]=item}}function addRoot(id){if(canUseCollections)rootIDSet.add(id);else{var key=getKeyFromID(id);rootByKey[key]=!0}}function removeRoot(id){if(canUseCollections)rootIDSet.delete(id);else{var key=getKeyFromID(id);delete rootByKey[key]}}function getRegisteredIDs(){return canUseCollections?Array.from(itemMap.keys()):Object.keys(itemByKey).map(getIDFromKey)}function getRootIDs(){return canUseCollections?Array.from(rootIDSet.keys()):Object.keys(rootByKey).map(getIDFromKey)}function purgeDeep(id){var item=get(id);if(item){var childIDs=item.childIDs;remove(id),childIDs.forEach(purgeDeep)}}function describeComponentFrame(name,source,ownerName){return"\n    in "+name+(source?" (at "+source.fileName.replace(/^.*[\\\/]/,"")+":"+source.lineNumber+")":ownerName?" (created by "+ownerName+")":"")}function getDisplayName(element){return null==element?"#empty":"string"==typeof element||"number"==typeof element?"#text":"string"==typeof element.type?element.type:element.type.displayName||element.type.name||"Unknown"}function describeID(id){var ownerName,name=ReactComponentTreeHook.getDisplayName(id),element=ReactComponentTreeHook.getElement(id),ownerID=ReactComponentTreeHook.getOwnerID(id);return ownerID&&(ownerName=ReactComponentTreeHook.getDisplayName(ownerID)),describeComponentFrame(name,element&&element._source,ownerName)}var itemMap,rootIDSet,itemByKey,rootByKey,_prodInvariant=($__require("5"),this||self,$__require("30")),ReactCurrentOwner=$__require("46"),canUseCollections=($__require("32"),$__require("24"),"function"==typeof Array.from&&"function"==typeof Map&&isNative(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&isNative(Map.prototype.keys)&&"function"==typeof Set&&isNative(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&isNative(Set.prototype.keys));canUseCollections?(itemMap=new Map,rootIDSet=new Set):(itemByKey={},rootByKey={});var unmountedIDs=[],ReactComponentTreeHook={onSetChildren:function(id,nextChildIDs){var item=get(id);item.childIDs=nextChildIDs;for(var i=0;i<nextChildIDs.length;i++){var nextChildID=nextChildIDs[i],nextChild=get(nextChildID);nextChild?void 0:_prodInvariant("140"),null==nextChild.childIDs&&"object"==typeof nextChild.element&&null!=nextChild.element?_prodInvariant("141"):void 0,nextChild.isMounted?void 0:_prodInvariant("71"),null==nextChild.parentID&&(nextChild.parentID=id),nextChild.parentID!==id?_prodInvariant("142",nextChildID,nextChild.parentID,id):void 0}},onBeforeMountComponent:function(id,element,parentID){create(id,element,parentID)},onBeforeUpdateComponent:function(id,element){var item=get(id);item&&item.isMounted&&(item.element=element)},onMountComponent:function(id){var item=get(id);item.isMounted=!0;var isRoot=0===item.parentID;isRoot&&addRoot(id)},onUpdateComponent:function(id){var item=get(id);item&&item.isMounted&&item.updateCount++},onUnmountComponent:function(id){var item=get(id);if(item){item.isMounted=!1;var isRoot=0===item.parentID;isRoot&&removeRoot(id)}unmountedIDs.push(id)},purgeUnmountedComponents:function(){if(!ReactComponentTreeHook._preventPurging){for(var i=0;i<unmountedIDs.length;i++){var id=unmountedIDs[i];purgeDeep(id)}unmountedIDs.length=0}},isMounted:function(id){var item=get(id);return!!item&&item.isMounted},getCurrentStackAddendum:function(topElement){var info="";if(topElement){var type=topElement.type,name="function"==typeof type?type.displayName||type.name:type,owner=topElement._owner;info+=describeComponentFrame(name||"Unknown",topElement._source,owner&&owner.getName())}var currentOwner=ReactCurrentOwner.current,id=currentOwner&&currentOwner._debugID;return info+=ReactComponentTreeHook.getStackAddendumByID(id)},getStackAddendumByID:function(id){for(var info="";id;)info+=describeID(id),id=ReactComponentTreeHook.getParentID(id);return info},getChildIDs:function(id){var item=get(id);return item?item.childIDs:[]},getDisplayName:function(id){var element=ReactComponentTreeHook.getElement(id);return element?getDisplayName(element):null},getElement:function(id){var item=get(id);return item?item.element:null},getOwnerID:function(id){
var element=ReactComponentTreeHook.getElement(id);return element&&element._owner?element._owner._debugID:null},getParentID:function(id){var item=get(id);return item?item.parentID:null},getSource:function(id){var item=get(id),element=item?item.element:null,source=null!=element?element._source:null;return source},getText:function(id){var element=ReactComponentTreeHook.getElement(id);return"string"==typeof element?element:"number"==typeof element?""+element:null},getUpdateCount:function(id){var item=get(id);return item?item.updateCount:0},getRegisteredIDs:getRegisteredIDs,getRootIDs:getRootIDs};return module.exports=ReactComponentTreeHook,module.exports}),$__System.registerDynamic("93",["30","ab","38","32","24","40","5"],!0,function($__require,exports,module){"use strict";function checkReactTypeSpec(typeSpecs,values,location,componentName,element,debugID){for(var typeSpecName in typeSpecs)if(typeSpecs.hasOwnProperty(typeSpecName)){var error;try{"function"!=typeof typeSpecs[typeSpecName]?_prodInvariant("84",componentName||"React class",ReactPropTypeLocationNames[location],typeSpecName):void 0,error=typeSpecs[typeSpecName](values,typeSpecName,componentName,location,null,ReactPropTypesSecret)}catch(ex){error=ex}if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0}}}var process=$__require("5"),_prodInvariant=(this||self,$__require("30")),ReactPropTypeLocationNames=$__require("ab"),ReactPropTypesSecret=$__require("38");$__require("32"),$__require("24");"undefined"!=typeof process&&process.env,1;var loggedTypeFailures={};return module.exports=checkReactTypeSpec,module.exports}),$__System.registerDynamic("aa",["5"],!0,function($__require,exports,module){"use strict";var canDefineProperty=($__require("5"),this||self,!1);return module.exports=canDefineProperty,module.exports}),$__System.registerDynamic("a6",["5"],!0,function($__require,exports,module){"use strict";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if("function"==typeof iteratorFn)return iteratorFn}var ITERATOR_SYMBOL=($__require("5"),this||self,"function"==typeof Symbol&&Symbol.iterator),FAUX_ITERATOR_SYMBOL="@@iterator";return module.exports=getIteratorFn,module.exports}),$__System.registerDynamic("47",["5"],!0,function($__require,exports,module){"use strict";function makeEmptyFunction(arg){return function(){return arg}}var emptyFunction=($__require("5"),this||self,function(){});return emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction,module.exports}),$__System.registerDynamic("24",["47","5"],!0,function($__require,exports,module){"use strict";var emptyFunction=($__require("5"),this||self,$__require("47")),warning=emptyFunction;return module.exports=warning,module.exports}),$__System.registerDynamic("ad",["46","40","8f","37","93","aa","a6","24","5"],!0,function($__require,exports,module){"use strict";function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name)return" Check the render method of `"+name+"`."}return""}function getCurrentComponentErrorInfo(parentType){var info=getDeclarationErrorAddendum();if(!info){var parentName="string"==typeof parentType?parentType:parentType.displayName||parentType.name;parentName&&(info=" Check the top-level render call using <"+parentName+">.")}return info}function validateExplicitKey(element,parentType){if(element._store&&!element._store.validated&&null==element.key){element._store.validated=!0;var memoizer=ownerHasKeyUseWarning.uniqueKey||(ownerHasKeyUseWarning.uniqueKey={}),currentComponentErrorInfo=getCurrentComponentErrorInfo(parentType);if(!memoizer[currentComponentErrorInfo]){memoizer[currentComponentErrorInfo]=!0;var childOwner="";element&&element._owner&&element._owner!==ReactCurrentOwner.current&&(childOwner=" It was passed a child from "+element._owner.getName()+".")}}}function validateChildKeys(node,parentType){if("object"==typeof node)if(Array.isArray(node))for(var i=0;i<node.length;i++){var child=node[i];ReactElement.isValidElement(child)&&validateExplicitKey(child,parentType)}else if(ReactElement.isValidElement(node))node._store&&(node._store.validated=!0);else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn&&iteratorFn!==node.entries)for(var step,iterator=iteratorFn.call(node);!(step=iterator.next()).done;)ReactElement.isValidElement(step.value)&&validateExplicitKey(step.value,parentType)}}function validatePropTypes(element){var componentClass=element.type;if("function"==typeof componentClass){var name=componentClass.displayName||componentClass.name;componentClass.propTypes&&checkReactTypeSpec(componentClass.propTypes,element.props,ReactPropTypeLocations.prop,name,element,null),"function"==typeof componentClass.getDefaultProps}}var ReactCurrentOwner=($__require("5"),this||self,$__require("46")),ReactElement=($__require("40"),$__require("8f")),ReactPropTypeLocations=$__require("37"),checkReactTypeSpec=$__require("93"),getIteratorFn=($__require("aa"),$__require("a6")),ownerHasKeyUseWarning=($__require("24"),{}),ReactElementValidator={createElement:function(type,props,children){var validType="string"==typeof type||"function"==typeof type,element=ReactElement.createElement.apply(this,arguments);if(null==element)return element;if(validType)for(var i=2;i<arguments.length;i++)validateChildKeys(arguments[i],type);return validatePropTypes(element),element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);return validatedFactory.type=type,validatedFactory},cloneElement:function(element,props,children){for(var newElement=ReactElement.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)validateChildKeys(arguments[i],newElement.type);return validatePropTypes(newElement),newElement}};return module.exports=ReactElementValidator,module.exports}),$__System.registerDynamic("af",["6","34","a8","a7","65","ac","8f","36","a0","ae","24","ad","5"],!0,function($__require,exports,module){"use strict";var _assign=($__require("5"),this||self,$__require("6")),ReactChildren=$__require("34"),ReactComponent=$__require("a8"),ReactPureComponent=$__require("a7"),ReactClass=$__require("65"),ReactDOMFactories=$__require("ac"),ReactElement=$__require("8f"),ReactPropTypes=$__require("36"),ReactVersion=$__require("a0"),onlyChild=$__require("ae"),createElement=($__require("24"),ReactElement.createElement),createFactory=ReactElement.createFactory,cloneElement=ReactElement.cloneElement,__spread=_assign,React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,PureComponent:ReactPureComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin},DOM:ReactDOMFactories,version:ReactVersion,__spread:__spread};return module.exports=React,module.exports}),$__System.registerDynamic("a3",["af","5"],!0,function($__require,exports,module){"use strict";$__require("5"),this||self;return module.exports=$__require("af"),module.exports}),$__System.registerDynamic("a4",["a3","5"],!0,function($__require,exports,module){"use strict";$__require("5"),this||self;exports.__esModule=!0;var _react=$__require("a3");return exports.default=_react.PropTypes.shape({subscribe:_react.PropTypes.func.isRequired,dispatch:_react.PropTypes.func.isRequired,getState:_react.PropTypes.func.isRequired}),module.exports}),$__System.registerDynamic("b0",["5"],!0,function($__require,exports,module){"use strict";function shallowEqual(objA,objB){if(objA===objB)return!0;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var hasOwn=Object.prototype.hasOwnProperty,i=0;i<keysA.length;i++)if(!hasOwn.call(objB,keysA[i])||objA[keysA[i]]!==objB[keysA[i]])return!1;return!0}$__require("5"),this||self;return exports.__esModule=!0,exports.default=shallowEqual,module.exports}),$__System.registerDynamic("b1",[],!0,function($__require,exports,module){"use strict";this||self;return module.exports=function(root){var result,Symbol=root.Symbol;return"function"==typeof Symbol?Symbol.observable?result=Symbol.observable:(result=Symbol("observable"),Symbol.observable=result):result="@@observable",result},module.exports}),$__System.registerDynamic("b2",["b1"],!0,function($__require,exports,module){"use strict";var global=this||self;return module.exports=$__require("b1")(global||window||this),module.exports}),$__System.registerDynamic("b3",["b4","b2","5"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createStore(reducer,initialState,enhancer){function ensureCanMutateNextListeners(){nextListeners===currentListeners&&(nextListeners=currentListeners.slice())}function getState(){return currentState}function subscribe(listener){if("function"!=typeof listener)throw new Error("Expected listener to be a function.");var isSubscribed=!0;return ensureCanMutateNextListeners(),nextListeners.push(listener),function(){if(isSubscribed){isSubscribed=!1,ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}}function dispatch(action){if(!(0,_isPlainObject2.default)(action))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof action.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(isDispatching)throw new Error("Reducers may not dispatch actions.");try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0;i<listeners.length;i++)listeners[i]();return action}function replaceReducer(nextReducer){if("function"!=typeof nextReducer)throw new Error("Expected the nextReducer to be a function.");currentReducer=nextReducer,dispatch({type:ActionTypes.INIT})}function observable(){var _ref,outerSubscribe=subscribe;return _ref={subscribe:function(observer){function observeState(){observer.next&&observer.next(getState())}if("object"!=typeof observer)throw new TypeError("Expected the observer to be an object.");observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}},_ref[_symbolObservable2.default]=function(){return this},_ref}var _ref2;if("function"==typeof initialState&&"undefined"==typeof enhancer&&(enhancer=initialState,initialState=void 0),"undefined"!=typeof enhancer){if("function"!=typeof enhancer)throw new Error("Expected the enhancer to be a function.");return enhancer(createStore)(reducer,initialState)}if("function"!=typeof reducer)throw new Error("Expected the reducer to be a function.");var currentReducer=reducer,currentState=initialState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;return dispatch({type:ActionTypes.INIT}),_ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer},_ref2[_symbolObservable2.default]=observable,_ref2}$__require("5"),this||self;exports.__esModule=!0,exports.ActionTypes=void 0,exports.default=createStore;var _isPlainObject=$__require("b4"),_isPlainObject2=_interopRequireDefault(_isPlainObject),_symbolObservable=$__require("b2"),_symbolObservable2=_interopRequireDefault(_symbolObservable),ActionTypes=exports.ActionTypes={INIT:"@@redux/INIT"};return module.exports}),$__System.registerDynamic("b5",["b3","b4","b6","5"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type,actionName=actionType&&'"'+actionType.toString()+'"'||"an action";return"Given action "+actionName+', reducer "'+key+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function assertReducerSanity(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key],initialState=reducer(void 0,{type:_createStore.ActionTypes.INIT});if("undefined"==typeof initialState)throw new Error('Reducer "'+key+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var type="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof reducer(void 0,{type:type}))throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+("Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function combineReducers(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];"function"==typeof reducers[key]&&(finalReducers[key]=reducers[key])}var sanityError,finalReducerKeys=Object.keys(finalReducers);try{assertReducerSanity(finalReducers)}catch(e){sanityError=e}return function(){var state=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],action=arguments[1];if(sanityError)throw sanityError;for(var hasChanged=!1,nextState={},i=0;i<finalReducerKeys.length;i++){var key=finalReducerKeys[i],reducer=finalReducers[key],previousStateForKey=state[key],nextStateForKey=reducer(previousStateForKey,action);if("undefined"==typeof nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(key,action);throw new Error(errorMessage)}nextState[key]=nextStateForKey,hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}}$__require("5"),this||self;exports.__esModule=!0,exports.default=combineReducers;var _createStore=$__require("b3"),_isPlainObject=$__require("b4"),_warning=(_interopRequireDefault(_isPlainObject),$__require("b6"));_interopRequireDefault(_warning);return module.exports}),$__System.registerDynamic("b7",["5"],!0,function($__require,exports,module){"use strict";function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}function bindActionCreators(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null===actionCreators)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===actionCreators?"null":typeof actionCreators)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var keys=Object.keys(actionCreators),boundActionCreators={},i=0;i<keys.length;i++){var key=keys[i],actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=bindActionCreator(actionCreator,dispatch))}return boundActionCreators}$__require("5"),this||self;return exports.__esModule=!0,exports.default=bindActionCreators,module.exports}),$__System.registerDynamic("b8",["b9","5"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];return function(createStore){return function(reducer,initialState,enhancer){var store=createStore(reducer,initialState,enhancer),_dispatch=store.dispatch,chain=[],middlewareAPI={getState:store.getState,dispatch:function(action){return _dispatch(action)}};return chain=middlewares.map(function(middleware){return middleware(middlewareAPI)}),_dispatch=_compose2.default.apply(void 0,chain)(store.dispatch),_extends({},store,{dispatch:_dispatch})}}}$__require("5"),this||self;exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.default=applyMiddleware;var _compose=$__require("b9"),_compose2=_interopRequireDefault(_compose);return module.exports}),$__System.registerDynamic("b9",["5"],!0,function($__require,exports,module){"use strict";function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];if(0===funcs.length)return function(arg){return arg};var _ret=function(){var last=funcs[funcs.length-1],rest=funcs.slice(0,-1);return{v:function(){return rest.reduceRight(function(composed,f){return f(composed)},last.apply(void 0,arguments))}}}();return"object"==typeof _ret?_ret.v:void 0}$__require("5"),this||self;return exports.__esModule=!0,exports.default=compose,module.exports}),$__System.registerDynamic("b6",["5"],!0,function($__require,exports,module){"use strict";function warning(message){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(message);try{throw new Error(message)}catch(e){}}$__require("5"),this||self;return exports.__esModule=!0,exports.default=warning,module.exports}),$__System.registerDynamic("ba",["b3","b5","b7","b8","b9","b6","5"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}$__require("5"),this||self;exports.__esModule=!0,exports.compose=exports.applyMiddleware=exports.bindActionCreators=exports.combineReducers=exports.createStore=void 0;var _createStore=$__require("b3"),_createStore2=_interopRequireDefault(_createStore),_combineReducers=$__require("b5"),_combineReducers2=_interopRequireDefault(_combineReducers),_bindActionCreators=$__require("b7"),_bindActionCreators2=_interopRequireDefault(_bindActionCreators),_applyMiddleware=$__require("b8"),_applyMiddleware2=_interopRequireDefault(_applyMiddleware),_compose=$__require("b9"),_compose2=_interopRequireDefault(_compose),_warning=$__require("b6");_interopRequireDefault(_warning);return exports.createStore=_createStore2.default,exports.combineReducers=_combineReducers2.default,exports.bindActionCreators=_bindActionCreators2.default,exports.applyMiddleware=_applyMiddleware2.default,exports.compose=_compose2.default,module.exports}),$__System.registerDynamic("bb",["ba","5"],!0,function($__require,exports,module){"use strict";function wrapActionCreators(actionCreators){return function(dispatch){return(0,_redux.bindActionCreators)(actionCreators,dispatch)}}$__require("5"),this||self;exports.__esModule=!0,exports.default=wrapActionCreators;var _redux=$__require("ba");return module.exports}),$__System.registerDynamic("a5",["5"],!0,function($__require,exports,module){"use strict";function warning(message){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(message);try{throw new Error(message)}catch(e){}}$__require("5"),this||self;return exports.__esModule=!0,exports.default=warning,module.exports}),$__System.registerDynamic("bc",[],!0,function($__require,exports,module){function overArg(func,transform){return function(arg){return func(transform(arg))}}this||self;return module.exports=overArg,module.exports}),$__System.registerDynamic("bd",["bc"],!0,function($__require,exports,module){var overArg=(this||self,$__require("bc")),getPrototype=overArg(Object.getPrototypeOf,Object);return module.exports=getPrototype,module.exports}),$__System.registerDynamic("be",[],!0,function($__require,exports,module){function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}this||self;return module.exports=isHostObject,module.exports}),$__System.registerDynamic("bf",[],!0,function($__require,exports,module){function isObjectLike(value){return!!value&&"object"==typeof value}this||self;return module.exports=isObjectLike,module.exports}),$__System.registerDynamic("b4",["bd","be","bf"],!0,function($__require,exports,module){function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var getPrototype=(this||self,$__require("bd")),isHostObject=$__require("be"),isObjectLike=$__require("bf"),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString;return module.exports=isPlainObject,module.exports}),$__System.registerDynamic("c0",[],!0,function($__require,exports,module){"use strict";var REACT_STATICS=(this||self,{childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0}),KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},isGetOwnPropertySymbolsAvailable="function"==typeof Object.getOwnPropertySymbols;return module.exports=function(targetComponent,sourceComponent,customStatics){if("string"!=typeof sourceComponent){var keys=Object.getOwnPropertyNames(sourceComponent);isGetOwnPropertySymbolsAvailable&&(keys=keys.concat(Object.getOwnPropertySymbols(sourceComponent)));for(var i=0;i<keys.length;++i)if(!(REACT_STATICS[keys[i]]||KNOWN_STATICS[keys[i]]||customStatics&&customStatics[keys[i]]))try{targetComponent[keys[i]]=sourceComponent[keys[i]]}catch(error){}}return targetComponent},module.exports}),$__System.registerDynamic("c1",["5"],!0,function($__require,exports,module){"use strict";var invariant=($__require("5"),this||self,function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]})),error.name="Invariant Violation"}throw error.framesToPop=1,error}});return module.exports=invariant,module.exports}),$__System.registerDynamic("c2",["a3","a4","b0","bb","a5","b4","c0","c1","5"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getDisplayName(WrappedComponent){return WrappedComponent.displayName||WrappedComponent.name||"Component"}function tryCatch(fn,ctx){try{return fn.apply(ctx)}catch(e){return errorObject.value=e,errorObject}}function connect(mapStateToProps,mapDispatchToProps,mergeProps){var options=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],shouldSubscribe=Boolean(mapStateToProps),mapState=mapStateToProps||defaultMapStateToProps,mapDispatch=void 0;mapDispatch="function"==typeof mapDispatchToProps?mapDispatchToProps:mapDispatchToProps?(0,_wrapActionCreators2.default)(mapDispatchToProps):defaultMapDispatchToProps;var finalMergeProps=mergeProps||defaultMergeProps,_options$pure=options.pure,pure=void 0===_options$pure||_options$pure,_options$withRef=options.withRef,withRef=void 0!==_options$withRef&&_options$withRef,checkMergedEquals=pure&&finalMergeProps!==defaultMergeProps,version=nextVersion++;return function(WrappedComponent){function computeMergedProps(stateProps,dispatchProps,parentProps){var mergedProps=finalMergeProps(stateProps,dispatchProps,parentProps);return mergedProps}var connectDisplayName="Connect("+getDisplayName(WrappedComponent)+")",Connect=function(_Component){function Connect(props,context){_classCallCheck(this,Connect);var _this=_possibleConstructorReturn(this,_Component.call(this,props,context));_this.version=version,_this.store=props.store||context.store,(0,_invariant2.default)(_this.store,'Could not find "store" in either the context or '+('props of "'+connectDisplayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+connectDisplayName+'".'));var storeState=_this.store.getState();return _this.state={storeState:storeState},_this.clearCache(),_this}return _inherits(Connect,_Component),Connect.prototype.shouldComponentUpdate=function(){return!pure||this.haveOwnPropsChanged||this.hasStoreStateChanged},Connect.prototype.computeStateProps=function(store,props){if(!this.finalMapStateToProps)return this.configureFinalMapState(store,props);var state=store.getState(),stateProps=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(state,props):this.finalMapStateToProps(state);return stateProps},Connect.prototype.configureFinalMapState=function(store,props){var mappedState=mapState(store.getState(),props),isFactory="function"==typeof mappedState;return this.finalMapStateToProps=isFactory?mappedState:mapState,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,isFactory?this.computeStateProps(store,props):mappedState},Connect.prototype.computeDispatchProps=function(store,props){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(store,props);var dispatch=store.dispatch,dispatchProps=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(dispatch,props):this.finalMapDispatchToProps(dispatch);return dispatchProps},Connect.prototype.configureFinalMapDispatch=function(store,props){var mappedDispatch=mapDispatch(store.dispatch,props),isFactory="function"==typeof mappedDispatch;return this.finalMapDispatchToProps=isFactory?mappedDispatch:mapDispatch,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,isFactory?this.computeDispatchProps(store,props):mappedDispatch},Connect.prototype.updateStatePropsIfNeeded=function(){var nextStateProps=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,_shallowEqual2.default)(nextStateProps,this.stateProps))&&(this.stateProps=nextStateProps,!0)},Connect.prototype.updateDispatchPropsIfNeeded=function(){var nextDispatchProps=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,_shallowEqual2.default)(nextDispatchProps,this.dispatchProps))&&(this.dispatchProps=nextDispatchProps,!0)},Connect.prototype.updateMergedPropsIfNeeded=function(){var nextMergedProps=computeMergedProps(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&checkMergedEquals&&(0,_shallowEqual2.default)(nextMergedProps,this.mergedProps))&&(this.mergedProps=nextMergedProps,!0)},Connect.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},Connect.prototype.trySubscribe=function(){shouldSubscribe&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},Connect.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},Connect.prototype.componentDidMount=function(){this.trySubscribe()},Connect.prototype.componentWillReceiveProps=function(nextProps){pure&&(0,_shallowEqual2.default)(nextProps,this.props)||(this.haveOwnPropsChanged=!0)},Connect.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},Connect.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},Connect.prototype.handleChange=function(){if(this.unsubscribe){var storeState=this.store.getState(),prevStoreState=this.state.storeState;if(!pure||prevStoreState!==storeState){if(pure&&!this.doStatePropsDependOnOwnProps){var haveStatePropsChanged=tryCatch(this.updateStatePropsIfNeeded,this);if(!haveStatePropsChanged)return;haveStatePropsChanged===errorObject&&(this.statePropsPrecalculationError=errorObject.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:storeState})}}},Connect.prototype.getWrappedInstance=function(){return(0,_invariant2.default)(withRef,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},Connect.prototype.render=function(){var haveOwnPropsChanged=this.haveOwnPropsChanged,hasStoreStateChanged=this.hasStoreStateChanged,haveStatePropsBeenPrecalculated=this.haveStatePropsBeenPrecalculated,statePropsPrecalculationError=this.statePropsPrecalculationError,renderedElement=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,statePropsPrecalculationError)throw statePropsPrecalculationError;var shouldUpdateStateProps=!0,shouldUpdateDispatchProps=!0;pure&&renderedElement&&(shouldUpdateStateProps=hasStoreStateChanged||haveOwnPropsChanged&&this.doStatePropsDependOnOwnProps,shouldUpdateDispatchProps=haveOwnPropsChanged&&this.doDispatchPropsDependOnOwnProps);var haveStatePropsChanged=!1,haveDispatchPropsChanged=!1;haveStatePropsBeenPrecalculated?haveStatePropsChanged=!0:shouldUpdateStateProps&&(haveStatePropsChanged=this.updateStatePropsIfNeeded()),shouldUpdateDispatchProps&&(haveDispatchPropsChanged=this.updateDispatchPropsIfNeeded());var haveMergedPropsChanged=!0;return haveMergedPropsChanged=!!(haveStatePropsChanged||haveDispatchPropsChanged||haveOwnPropsChanged)&&this.updateMergedPropsIfNeeded(),!haveMergedPropsChanged&&renderedElement?renderedElement:(withRef?this.renderedElement=(0,_react.createElement)(WrappedComponent,_extends({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,_react.createElement)(WrappedComponent,this.mergedProps),this.renderedElement)},Connect}(_react.Component);return Connect.displayName=connectDisplayName,Connect.WrappedComponent=WrappedComponent,Connect.contextTypes={store:_storeShape2.default},Connect.propTypes={store:_storeShape2.default},(0,_hoistNonReactStatics2.default)(Connect,WrappedComponent)}}var _extends=($__require("5"),this||self,Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target});exports.__esModule=!0,exports.default=connect;var _react=$__require("a3"),_storeShape=$__require("a4"),_storeShape2=_interopRequireDefault(_storeShape),_shallowEqual=$__require("b0"),_shallowEqual2=_interopRequireDefault(_shallowEqual),_wrapActionCreators=$__require("bb"),_wrapActionCreators2=_interopRequireDefault(_wrapActionCreators),_warning=$__require("a5"),_isPlainObject=(_interopRequireDefault(_warning),
$__require("b4")),_hoistNonReactStatics=(_interopRequireDefault(_isPlainObject),$__require("c0")),_hoistNonReactStatics2=_interopRequireDefault(_hoistNonReactStatics),_invariant=$__require("c1"),_invariant2=_interopRequireDefault(_invariant),defaultMapStateToProps=function(state){return{}},defaultMapDispatchToProps=function(dispatch){return{dispatch:dispatch}},defaultMergeProps=function(stateProps,dispatchProps,parentProps){return _extends({},parentProps,stateProps,dispatchProps)},errorObject={value:null},nextVersion=0;return module.exports}),$__System.registerDynamic("@system-env",[],!1,function(){return{production:!0,browser:!0,node:!1,dev:!1,default:!0}}),$__System.registerDynamic("5",["@system-env"],!0,function($__require,exports,module){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,productionEnv=(this||self,$__require("@system-env").production),process=module.exports={},queue=[],draining=!1,queueIndex=-1;return process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={NODE_ENV:productionEnv?"production":"development"},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0},module.exports}),$__System.registerDynamic("c3",["a2","c2","5"],!0,function($__require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}$__require("5"),this||self;exports.__esModule=!0,exports.connect=exports.Provider=void 0;var _Provider=$__require("a2"),_Provider2=_interopRequireDefault(_Provider),_connect=$__require("c2"),_connect2=_interopRequireDefault(_connect);return exports.Provider=_Provider2.default,exports.connect=_connect2.default,module.exports}),$__System.registerDynamic("c4",[],!0,function($__require,exports,module){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function defaultEqualityCheck(a,b){return a===b}function defaultMemoize(func){var equalityCheck=arguments.length<=1||void 0===arguments[1]?defaultEqualityCheck:arguments[1],lastArgs=null,lastResult=null;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return null!==lastArgs&&lastArgs.length===args.length&&args.every(function(value,index){return equalityCheck(value,lastArgs[index])})?lastResult:(lastResult=func.apply(void 0,args),lastArgs=args,lastResult)}}function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every(function(dep){return"function"==typeof dep})){var dependencyTypes=dependencies.map(function(dep){return typeof dep}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+dependencyTypes+"]"))}return dependencies}function createSelectorCreator(memoize){for(var _len2=arguments.length,memoizeOptions=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)memoizeOptions[_key2-1]=arguments[_key2];return function(){for(var _len3=arguments.length,funcs=Array(_len3),_key3=0;_key3<_len3;_key3++)funcs[_key3]=arguments[_key3];var recomputations=0,resultFunc=funcs.pop(),dependencies=getDependencies(funcs),memoizedResultFunc=memoize.apply(void 0,[function(){return recomputations++,resultFunc.apply(void 0,arguments)}].concat(memoizeOptions)),selector=function(state,props){for(var _len4=arguments.length,args=Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++)args[_key4-2]=arguments[_key4];var params=dependencies.map(function(dependency){return dependency.apply(void 0,[state,props].concat(args))});return memoizedResultFunc.apply(void 0,_toConsumableArray(params))};return selector.resultFunc=resultFunc,selector.recomputations=function(){return recomputations},selector.resetRecomputations=function(){return recomputations=0},selector}}function createSelector(){return createSelectorCreator(defaultMemoize).apply(void 0,arguments)}function createStructuredSelector(selectors){var selectorCreator=arguments.length<=1||void 0===arguments[1]?createSelector:arguments[1];if("object"!=typeof selectors)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof selectors);var objectKeys=Object.keys(selectors);return selectorCreator(objectKeys.map(function(key){return selectors[key]}),function(){for(var _len5=arguments.length,values=Array(_len5),_key5=0;_key5<_len5;_key5++)values[_key5]=arguments[_key5];return values.reduce(function(composition,value,index){return composition[objectKeys[index]]=value,composition},{})})}this||self;return exports.__esModule=!0,exports.defaultMemoize=defaultMemoize,exports.createSelectorCreator=createSelectorCreator,exports.createSelector=createSelector,exports.createStructuredSelector=createStructuredSelector,module.exports}),$__System.registerDynamic("c5",[],!1,function($__require,$__exports,$__module){var _retrieveGlobal=$__System.get("@@global-helpers").prepareGlobal($__module.id,null,null);return function($__global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof _dereq_&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}var SomePromiseArray=Promise._SomePromiseArray;Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule}function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg),this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg),this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise),this._queueTick()}var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule"),Queue=_dereq_("./queue"),util=_dereq_("./util");Async.prototype.setScheduler=function(fn){var prev=this._schedule;return this._schedule=fn,this._customScheduler=!0,prev},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){util.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,isNode){isNode?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(fn,arg){if(1===arguments.length&&(arg=fn,fn=function(){throw arg}),"undefined"!=typeof setTimeout)setTimeout(function(){fn(arg)},0);else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},util.hasDevTools?(Async.prototype.invokeLater=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvokeLater.call(this,fn,receiver,arg):this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})},Async.prototype.invoke=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvoke.call(this,fn,receiver,arg):this._schedule(function(){fn.call(receiver,arg)})},Async.prototype.settlePromises=function(promise){this._trampolineEnabled?AsyncSettlePromises.call(this,promise):this._schedule(function(){promise._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg),this._queueTick()},Async.prototype._drainQueue=function(queue){for(;queue.length()>0;){var fn=queue.shift();if("function"==typeof fn){var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}else fn._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=Async,module.exports.firstLineError=firstLineError},{"./queue":26,"./schedule":29,"./util":36}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,debug){var calledBind=!1,rejectThis=function(_,e){this._reject(e)},targetRejected=function(e,context){context.promiseRejectionQueued=!0,context.bindingPromise._then(rejectThis,rejectThis,null,this,e)},bindingResolved=function(thisArg,context){0===(50397184&this._bitField)&&this._resolveCallback(context.target)},bindingRejected=function(e,context){context.promiseRejectionQueued||this._reject(e)};Promise.prototype.bind=function(thisArg){calledBind||(calledBind=!0,Promise.prototype._propagateFrom=debug.propagateFromFunction(),Promise.prototype._boundValue=debug.boundValueFunction());var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(ret._setBoundTo(maybePromise),maybePromise instanceof Promise){var context={promiseRejectionQueued:!1,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,void 0,ret,context),maybePromise._then(bindingResolved,bindingRejected,void 0,ret,context),ret._setOnCancel(maybePromise)}else ret._resolveCallback(target);return ret},Promise.prototype._setBoundTo=function(obj){void 0!==obj?(this._bitField=2097152|this._bitField,this._boundTo=obj):this._bitField=this._bitField&-2097153},Promise.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)}}},{}],4:[function(_dereq_,module,exports){"use strict";function noConflict(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird}var old;"undefined"!=typeof Promise&&(old=Promise);var bluebird=_dereq_("./promise")();bluebird.noConflict=noConflict,module.exports=bluebird},{"./promise":22}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){function ensureMethod(obj,methodName){var fn;if(null!=obj&&(fn=obj[methodName]),"function"!=typeof fn){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop(),fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return index<0&&(index=Math.max(0,index+obj.length)),obj[index]}var getGetter,util=_dereq_("./util"),canEvaluate=util.canEvaluate;util.isIdentifier;Promise.prototype.call=function(methodName){var args=[].slice.call(arguments,1);return args.push(methodName),this._then(caller,void 0,void 0,args,void 0)},Promise.prototype.get=function(propertyName){var getter,isIndex="number"==typeof propertyName;if(isIndex)getter=indexedGetter;else if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=null!==maybeGetter?maybeGetter:namedGetter}else getter=namedGetter;return this._then(getter,void 0,void 0,propertyName,void 0)}}},{"./util":36}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;Promise.prototype.break=Promise.prototype.cancel=function(){if(!debug.cancellation())return this._warn("cancellation is disabled");for(var promise=this,child=promise;promise.isCancellable();){if(!promise._cancelBy(child)){child._isFollowing()?child._followee().cancel():child._cancelBranched();break}var parent=promise._cancellationParent;if(null==parent||!parent.isCancellable()){promise._isFollowing()?promise._followee().cancel():promise._cancelBranched();break}promise._isFollowing()&&promise._followee().cancel(),child=promise,promise=parent}},Promise.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},Promise.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},Promise.prototype._cancelBy=function(canceller){return canceller===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},Promise.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},Promise.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),async.invoke(this._cancelPromises,this,void 0))},Promise.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},Promise.prototype._unsetOnCancel=function(){this._onCancelField=void 0},Promise.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},Promise.prototype._doInvokeOnCancel=function(onCancelCallback,internalOnly){if(util.isArray(onCancelCallback))for(var i=0;i<onCancelCallback.length;++i)this._doInvokeOnCancel(onCancelCallback[i],internalOnly);else if(void 0!==onCancelCallback)if("function"==typeof onCancelCallback){if(!internalOnly){var e=tryCatch(onCancelCallback).call(this._boundValue());e===errorObj&&(this._attachExtraTrace(e.e),async.throwLater(e.e))}}else onCancelCallback._resultCancelled(this)},Promise.prototype._invokeOnCancel=function(){var onCancelCallback=this._onCancel();this._unsetOnCancel(),async.invoke(this._doInvokeOnCancel,this,onCancelCallback)},Promise.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},Promise.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){function catchFilter(instances,cb,promise){return function(e){var boundTo=promise._boundValue();predicateLoop:for(var i=0;i<instances.length;++i){var item=instances[i];if(item===Error||null!=item&&item.prototype instanceof Error){if(e instanceof item)return tryCatch(cb).call(boundTo,e)}else if("function"==typeof item){var matchesPredicate=tryCatch(item).call(boundTo,e);if(matchesPredicate===errorObj)return matchesPredicate;if(matchesPredicate)return tryCatch(cb).call(boundTo,e)}else if(util.isObject(e)){for(var keys=getKeys(item),j=0;j<keys.length;++j){var key=keys[j];if(item[key]!=e[key])continue predicateLoop}return tryCatch(cb).call(boundTo,e)}}return NEXT_FILTER}}var util=_dereq_("./util"),getKeys=_dereq_("./es5").keys,tryCatch=util.tryCatch,errorObj=util.errorObj;return catchFilter}},{"./es5":13,"./util":36}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function Context(){this._trace=new Context.CapturedTrace(peekContext())}function createContext(){if(longStackTraces)return new Context}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0)return contextStack[lastIndex]}var longStackTraces=!1,contextStack=[];return Promise.prototype._promiseCreated=function(){},Promise.prototype._pushContext=function(){},Promise.prototype._popContext=function(){return null},Promise._peekContext=Promise.prototype._peekContext=function(){},Context.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,contextStack.push(this._trace))},Context.prototype._popContext=function(){if(void 0!==this._trace){var trace=contextStack.pop(),ret=trace._promiseCreated;return trace._promiseCreated=null,ret}return null},Context.CapturedTrace=null,Context.create=createContext,Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var Promise_pushContext=Promise.prototype._pushContext,Promise_popContext=Promise.prototype._popContext,Promise_PeekContext=Promise._peekContext,Promise_peekContext=Promise.prototype._peekContext,Promise_promiseCreated=Promise.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){Promise.prototype._pushContext=Promise_pushContext,Promise.prototype._popContext=Promise_popContext,Promise._peekContext=Promise_PeekContext,Promise.prototype._peekContext=Promise_peekContext,Promise.prototype._promiseCreated=Promise_promiseCreated,longStackTraces=!1},longStackTraces=!0,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,Promise._peekContext=Promise.prototype._peekContext=peekContext,Promise.prototype._promiseCreated=function(){var ctx=this._peekContext();ctx&&null==ctx._promiseCreated&&(ctx._promiseCreated=this)}},Context}},{}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,Context){function generatePromiseLifecycleEventObject(name,promise){return{promise:promise}}function defaultFireEvent(){return!1}function cancellationExecute(executor,resolve,reject){var promise=this;try{executor(resolve,reject,function(onCancel){if("function"!=typeof onCancel)throw new TypeError("onCancel must be a function, got: "+util.toString(onCancel));promise._attachCancellationCallback(onCancel)})}catch(e){return e}}function cancellationAttachCancellationCallback(onCancel){if(!this.isCancellable())return this;var previousOnCancel=this._onCancel();void 0!==previousOnCancel?util.isArray(previousOnCancel)?previousOnCancel.push(onCancel):this._setOnCancel([previousOnCancel,onCancel]):this._setOnCancel(onCancel)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(onCancel){this._onCancelField=onCancel}function cancellationClearCancellationData(){this._cancellationParent=void 0,this._onCancelField=void 0}function cancellationPropagateFrom(parent,flags){if(0!==(1&flags)){this._cancellationParent=parent;var branchesRemainingToCancel=parent._branchesRemainingToCancel;void 0===branchesRemainingToCancel&&(branchesRemainingToCancel=0),parent._branchesRemainingToCancel=branchesRemainingToCancel+1}0!==(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function bindingPropagateFrom(parent,flags){0!==(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function boundValueFunction(){var ret=this._boundTo;return void 0!==ret&&ret instanceof Promise?ret.isFulfilled()?ret.value():void 0:ret}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(error,ignoreSelf){if(canAttachTrace(error)){var trace=this._trace;if(void 0!==trace&&ignoreSelf&&(trace=trace._parent),void 0!==trace)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n")),util.notEnumerableProp(error,"__stackCleaned__",!0)}}}function checkForgottenReturns(returnValue,promiseCreated,name,promise,parent){if(void 0===returnValue&&null!==promiseCreated&&wForgottenReturn){if(void 0!==parent&&parent._returnedNonUndefined())return;if(0===(65535&promise._bitField))return;name&&(name+=" ");var msg="a promise was created in a "+name+"handler but was not returned from it";promise._warn(msg,!0,promiseCreated)}}function deprecated(name,replacement){var message=name+" is deprecated and will be removed in a future version.";return replacement&&(message+=" Use "+replacement+" instead."),warn(message)}function warn(message,shouldUseOwnTrace,promise){if(config.warnings){var ctx,warning=new Warning(message);if(shouldUseOwnTrace)promise._attachExtraTrace(warning);else if(config.longStackTraces&&(ctx=Promise._peekContext()))ctx.attachExtraTrace(warning);else{var parsed=parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}activeFireEvent("warning",warning)||formatAndLogError(warning,"",!0)}}function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i)(0===stacks[i].length||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])&&(stacks.splice(i,1),i--)}function removeCommonRoots(stacks){for(var current=stacks[0],i=1;i<stacks.length;++i){for(var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1,j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}function cleanStack(stack){for(var ret=[],i=0;i<stack.length;++i){var line=stack[i],isTraceLine="    (No stack trace)"===line||stackFramePattern.test(line),isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&" "!==line.charAt(0)&&(line="    "+line),ret.push(line))}return ret}function stackFramesAsArray(error){for(var stack=error.stack.replace(/\s+$/g,"").split("\n"),i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&(stack=stack.slice(i)),stack}function parseStackAndMessage(error){var stack=error.stack,message=error.toString();return stack="string"==typeof stack&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"],{message:message,stack:cleanStack(stack)}}function formatAndLogError(error,title,isSoft){if("undefined"!=typeof console){var message;if(util.isObject(error)){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);"function"==typeof printWarning?printWarning(message,isSoft):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(message)}}function fireRejectionEvent(name,localHandler,reason,promise){var localEventFired=!1;try{"function"==typeof localHandler&&(localEventFired=!0,"rejectionHandled"===name?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}"unhandledRejection"===name?activeFireEvent(name,reason,promise)||localEventFired||formatAndLogError(reason,"Unhandled rejection "):activeFireEvent(name,promise)}function formatNonError(obj){var str;if("function"==typeof obj)str="[function "+(obj.name||"anonymous")+"]";else{str=obj&&"function"==typeof obj.toString?obj.toString():util.toString(obj);var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str))try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}0===str.length&&(str="(empty array)")}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;return str.length<maxChars?str:str.substr(0,maxChars-3)+"..."}function longStackTracesIsSupported(){return"function"==typeof captureStackTrace}function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches)return{fileName:matches[1],line:parseInt(matches[2],10)}}function setBounds(firstLineError,lastLineError){if(longStackTracesIsSupported()){for(var firstFileName,lastFileName,firstStackLines=firstLineError.stack.split("\n"),lastStackLines=lastLineError.stack.split("\n"),firstIndex=-1,lastIndex=-1,i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName,firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName,lastIndex=result.line;break}}firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex||(shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return!!(info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex)})}}function CapturedTrace(parent){this._parent=parent,this._promisesCreated=0;var length=this._length=1+(void 0===parent?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}var unhandledRejectionHandled,possiblyUnhandledRejection,printWarning,getDomain=Promise._getDomain,async=Promise._async,Warning=_dereq_("./errors").Warning,util=_dereq_("./util"),canAttachTrace=util.canAttachTrace,bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,stackFramePattern=null,formatStack=null,indentStackFrames=!1,debugging=!(0==util.env("BLUEBIRD_DEBUG")),warnings=!(0==util.env("BLUEBIRD_WARNINGS")||!debugging&&!util.env("BLUEBIRD_WARNINGS")),longStackTraces=!(0==util.env("BLUEBIRD_LONG_STACK_TRACES")||!debugging&&!util.env("BLUEBIRD_LONG_STACK_TRACES")),wForgottenReturn=0!=util.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(warnings||!!util.env("BLUEBIRD_W_FORGOTTEN_RETURN"));Promise.prototype.suppressUnhandledRejections=function(){var target=this._target();target._bitField=target._bitField&-1048577|524288},Promise.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),async.invokeLater(this._notifyUnhandledRejection,this,void 0))},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,void 0,this)},Promise.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},Promise.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},Promise.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},Promise.prototype._warn=function(message,shouldUseOwnTrace,promise){return warn(message,shouldUseOwnTrace,promise||this)},Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection="function"==typeof fn?null===domain?fn:domain.bind(fn):void 0},Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled="function"==typeof fn?null===domain?fn:domain.bind(fn):void 0};var disableLongStackTraces=function(){};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!config.longStackTraces&&longStackTracesIsSupported()){var Promise_captureStackTrace=Promise.prototype._captureStackTrace,Promise_attachExtraTrace=Promise.prototype._attachExtraTrace;config.longStackTraces=!0,disableLongStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");Promise.prototype._captureStackTrace=Promise_captureStackTrace,Promise.prototype._attachExtraTrace=Promise_attachExtraTrace,Context.deactivateLongStackTraces(),async.enableTrampoline(),config.longStackTraces=!1},Promise.prototype._captureStackTrace=longStackTracesCaptureStackTrace,Promise.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,Context.activateLongStackTraces(),async.disableTrampolineIfNecessary()}},Promise.hasLongStackTraces=function(){return config.longStackTraces&&longStackTracesIsSupported()};var fireDomEvent=function(){try{var event=document.createEvent("CustomEvent");return event.initCustomEvent("testingtheevent",!1,!0,{}),util.global.dispatchEvent(event),function(name,event){var domEvent=document.createEvent("CustomEvent");return domEvent.initCustomEvent(name.toLowerCase(),!1,!0,event),!util.global.dispatchEvent(domEvent)}}catch(e){}return function(){return!1}}(),fireGlobalEvent=function(){return util.isNode?function(){return process.emit.apply(process,arguments)}:util.global?function(name){var methodName="on"+name.toLowerCase(),method=util.global[methodName];return!!method&&(method.apply(util.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),eventToObjectGenerator={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(name,promise,child){return{promise:promise,child:child}},warning:function(name,warning){return{warning:warning}},unhandledRejection:function(name,reason,promise){return{reason:reason,promise:promise}},rejectionHandled:generatePromiseLifecycleEventObject},activeFireEvent=function(name){var globalEventFired=!1;try{globalEventFired=fireGlobalEvent.apply(null,arguments)}catch(e){async.throwLater(e),globalEventFired=!0}var domEventFired=!1;try{domEventFired=fireDomEvent(name,eventToObjectGenerator[name].apply(null,arguments))}catch(e){async.throwLater(e),domEventFired=!0}return domEventFired||globalEventFired};Promise.config=function(opts){if(opts=Object(opts),"longStackTraces"in opts&&(opts.longStackTraces?Promise.longStackTraces():!opts.longStackTraces&&Promise.hasLongStackTraces()&&disableLongStackTraces()),
"warnings"in opts){var warningsOption=opts.warnings;config.warnings=!!warningsOption,wForgottenReturn=config.warnings,util.isObject(warningsOption)&&"wForgottenReturn"in warningsOption&&(wForgottenReturn=!!warningsOption.wForgottenReturn)}if("cancellation"in opts&&opts.cancellation&&!config.cancellation){if(async.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");Promise.prototype._clearCancellationData=cancellationClearCancellationData,Promise.prototype._propagateFrom=cancellationPropagateFrom,Promise.prototype._onCancel=cancellationOnCancel,Promise.prototype._setOnCancel=cancellationSetOnCancel,Promise.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,Promise.prototype._execute=cancellationExecute,propagateFromFunction=cancellationPropagateFrom,config.cancellation=!0}"monitoring"in opts&&(opts.monitoring&&!config.monitoring?(config.monitoring=!0,Promise.prototype._fireEvent=activeFireEvent):!opts.monitoring&&config.monitoring&&(config.monitoring=!1,Promise.prototype._fireEvent=defaultFireEvent))},Promise.prototype._fireEvent=defaultFireEvent,Promise.prototype._execute=function(executor,resolve,reject){try{executor(resolve,reject)}catch(e){return e}},Promise.prototype._onCancel=function(){},Promise.prototype._setOnCancel=function(handler){},Promise.prototype._attachCancellationCallback=function(onCancel){},Promise.prototype._captureStackTrace=function(){},Promise.prototype._attachExtraTrace=function(){},Promise.prototype._clearCancellationData=function(){},Promise.prototype._propagateFrom=function(parent,flags){};var propagateFromFunction=bindingPropagateFrom,shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;util.inherits(CapturedTrace,Error),Context.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var length=this._length;if(!(length<2)){for(var nodes=[],stackToIndex={},i=0,node=this;void 0!==node;++i)nodes.push(node),node=node._parent;length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;void 0===stackToIndex[stack]&&(stackToIndex[stack]=i)}for(var i=0;i<length;++i){var currentStack=nodes[i].stack,index=stackToIndex[currentStack];if(void 0!==index&&index!==i){index>0&&(nodes[index-1]._parent=void 0,nodes[index-1]._length=1),nodes[i]._parent=void 0,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;index<length-1?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=void 0,cycleEdgeNode._length=1);for(var currentChildLength=cycleEdgeNode._length+1,j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}}},CapturedTrace.prototype.attachExtraTrace=function(error){if(!error.__stackCleaned__){this.uncycle();for(var parsed=parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;void 0!==trace;)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;removeCommonRoots(stacks),removeDuplicateOrEmptyJumps(stacks),util.notEnumerableProp(error,"stack",reconstructStack(message,stacks)),util.notEnumerableProp(error,"__stackCleaned__",!0)}};var captureStackTrace=function(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return"string"==typeof stack?stack:void 0!==error.name&&void 0!==error.message?error.toString():formatNonError(error)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit+=6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit-=6}}var err=new Error;if("string"==typeof err.stack&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function(o){o.stack=(new Error).stack};var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return"stack"in err||!hasStackAfterThrow||"number"!=typeof Error.stackTraceLimit?(formatStack=function(stack,error){return"string"==typeof stack?stack:"object"!=typeof error&&"function"!=typeof error||void 0===error.name||void 0===error.message?formatNonError(error):error.toString()},null):(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function(o){Error.stackTraceLimit+=6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(printWarning=function(message){console.warn(message)},util.isNode&&process.stderr.isTTY?printWarning=function(message,isSoft){var color=isSoft?"[33m":"[31m";console.warn(color+message+"[0m\n")}:util.isNode||"string"!=typeof(new Error).stack||(printWarning=function(message,isSoft){console.warn("%c"+message,isSoft?"color: darkorange":"color: red")}));var config={warnings:warnings,longStackTraces:!1,cancellation:!1,monitoring:!1};return longStackTraces&&Promise.longStackTraces(),{longStackTraces:function(){return config.longStackTraces},warnings:function(){return config.warnings},cancellation:function(){return config.cancellation},monitoring:function(){return config.monitoring},propagateFromFunction:function(){return propagateFromFunction},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace,fireDomEvent:fireDomEvent,fireGlobalEvent:fireGlobalEvent}}},{"./errors":12,"./util":36}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function returner(){return this.value}function thrower(){throw this.reason}Promise.prototype.return=Promise.prototype.thenReturn=function(value){return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(returner,void 0,void 0,{value:value},void 0)},Promise.prototype.throw=Promise.prototype.thenThrow=function(reason){return this._then(thrower,void 0,void 0,{reason:reason},void 0)},Promise.prototype.catchThrow=function(reason){if(arguments.length<=1)return this._then(void 0,thrower,void 0,{reason:reason},void 0);var _reason=arguments[1],handler=function(){throw _reason};return this.caught(reason,handler)},Promise.prototype.catchReturn=function(value){if(arguments.length<=1)return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(void 0,returner,void 0,{value:value},void 0);var _value=arguments[1];_value instanceof Promise&&_value.suppressUnhandledRejections();var handler=function(){return _value};return this.caught(value,handler)}}},{}],11:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function promiseAllThis(){return PromiseAll(this)}function PromiseMapSeries(promises,fn){return PromiseReduce(promises,fn,INTERNAL,INTERNAL)}var PromiseReduce=Promise.reduce,PromiseAll=Promise.all;Promise.prototype.each=function(fn){return this.mapSeries(fn)._then(promiseAllThis,void 0,void 0,this,void 0)},Promise.prototype.mapSeries=function(fn){return PromiseReduce(this,fn,INTERNAL,INTERNAL)},Promise.each=function(promises,fn){return PromiseMapSeries(promises,fn)._then(promiseAllThis,void 0,void 0,promises,void 0)},Promise.mapSeries=PromiseMapSeries}},{}],12:[function(_dereq_,module,exports){"use strict";function subError(nameProperty,defaultMessage){function SubError(message){return this instanceof SubError?(notEnumerableProp(this,"message","string"==typeof message?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new SubError(message)}return inherits(SubError,Error),SubError}function OperationalError(message){return this instanceof OperationalError?(notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,void(message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new OperationalError(message)}var _TypeError,_RangeError,es5=_dereq_("./es5"),Objectfreeze=es5.freeze,util=_dereq_("./util"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp,Warning=subError("Warning","warning"),CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}for(var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<methods.length;++i)"function"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;AggregateError.prototype.toString=function(){var indent=Array(4*level+1).join(" "),ret="\n"+indent+"AggregateError of:\n";level++,indent=Array(4*level+1).join(" ");for(var i=0;i<this.length;++i){for(var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n"),j=0;j<lines.length;++j)lines[j]=indent+lines[j];str=lines.join("\n"),ret+=str+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),es5.defineProperty(Error,"__BluebirdErrorTypes__",{value:errorTypes,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5":13,"./util":36}],13:[function(_dereq_,module,exports){var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!(descriptor&&!descriptor.writable&&!descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret},ObjectGetDescriptor=function(o,key){return{value:o[key]}},ObjectDefineProperty=function(o,key,desc){return o[key]=desc.value,o},ObjectFreeze=function(obj){return obj},ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},ArrayIsArray=function(obj){try{return"[object Array]"===str.call(obj)}catch(e){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return!0}}}},{}],14:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,tryConvertToPromise){function PassThroughHandlerContext(promise,type,handler){this.promise=promise,this.type=type,this.handler=handler,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(finallyHandler){this.finallyHandler=finallyHandler}function checkCancel(ctx,reason){return null!=ctx.cancelPromise&&(arguments.length>1?ctx.cancelPromise._reject(reason):ctx.cancelPromise._cancel(),ctx.cancelPromise=null,!0)}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(reason){if(!checkCancel(this,reason))return errorObj.e=reason,errorObj}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler;if(!this.called){this.called=!0;var ret=this.isFinallyHandler()?handler.call(promise._boundValue()):handler.call(promise._boundValue(),reasonOrValue);if(void 0!==ret){promise._setReturnedNonUndefined();var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){if(null!=this.cancelPromise){if(maybePromise.isCancelled()){var reason=new CancellationError("late cancellation observer");return promise._attachExtraTrace(reason),errorObj.e=reason,errorObj}maybePromise.isPending()&&maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return maybePromise._then(succeed,fail,void 0,this,void 0)}}}return promise.isRejected()?(checkCancel(this),errorObj.e=reasonOrValue,errorObj):(checkCancel(this),reasonOrValue)}var util=_dereq_("./util"),CancellationError=Promise.CancellationError,errorObj=util.errorObj;return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return 0===this.type},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},Promise.prototype._passThrough=function(handler,type,success,fail){return"function"!=typeof handler?this.then():this._then(success,fail,void 0,new PassThroughHandlerContext(this,type,handler),void 0)},Promise.prototype.lastly=Promise.prototype.finally=function(handler){return this._passThrough(handler,0,finallyHandler,finallyHandler)},Promise.prototype.tap=function(handler){return this._passThrough(handler,1,finallyHandler)},PassThroughHandlerContext}},{"./util":36}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug){function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);if(traceParent._popContext(),result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){if(debug.cancellation()){var internal=new Promise(INTERNAL),_finallyPromise=this._finallyPromise=new Promise(INTERNAL);this._promise=internal.lastly(function(){return _finallyPromise}),internal._captureStackTrace(),internal._setOnCancel(this)}else{var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace()}this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=void 0,this._yieldHandlers="function"==typeof yieldHandler?[yieldHandler].concat(yieldHandlers):yieldHandlers,this._yieldedPromise=null,this._cancellationPhase=!1}var errors=_dereq_("./errors"),TypeError=errors.TypeError,util=_dereq_("./util"),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];util.inherits(PromiseSpawn,Proxyable),PromiseSpawn.prototype._isResolved=function(){return null===this._promise},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,debug.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(!this._isResolved()){var result,implementsReturn="undefined"!=typeof this._generator.return;if(implementsReturn)this._promise._pushContext(),result=tryCatch(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var reason=new Promise.CancellationError("generator .return() sentinel");Promise.coroutine.returnSentinel=reason,this._promise._attachExtraTrace(reason),this._promise._pushContext(),result=tryCatch(this._generator.throw).call(this._generator,reason),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(result)}},PromiseSpawn.prototype._promiseFulfilled=function(value){this._yieldedPromise=null,this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._promiseRejected=function(reason){this._yieldedPromise=null,this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator.throw).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Promise){var promise=this._yieldedPromise;this._yieldedPromise=null,promise.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},PromiseSpawn.prototype._continue=function(result){var promise=this._promise;if(result===errorObj)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._rejectCallback(result.e,!1);var value=result.value;if(result.done===!0)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._resolveCallback(value);var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)&&(maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise),null===maybePromise))return void this._promiseRejected(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));maybePromise=maybePromise._target();var bitField=maybePromise._bitField;0===(50397184&bitField)?(this._yieldedPromise=maybePromise,maybePromise._proxy(this,null)):0!==(33554432&bitField)?this._promiseFulfilled(maybePromise._value()):0!==(16777216&bitField)?this._promiseRejected(maybePromise._reason()):this._promiseCancelled()},Promise.coroutine=function(generatorFunction,options){if("function"!=typeof generatorFunction)throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$((void 0),(void 0),yieldHandler,stack),ret=spawn.promise();return spawn._generator=generator,spawn._promiseFulfilled(void 0),ret}},Promise.coroutine.addYieldHandler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){if(debug.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof generatorFunction)return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},{"./errors":12,"./util":36}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){var util=_dereq_("./util");util.canEvaluate,util.tryCatch,util.errorObj;Promise.join=function(){var fn,last=arguments.length-1;if(last>0&&"function"==typeof arguments[last]){fn=arguments[last];var ret}var args=[].slice.call(arguments);fn&&args.pop();var ret=new PromiseArray(args).promise();return void 0!==fn?ret.spread(fn):ret}}},{"./util":36}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),this._promise._captureStackTrace();var domain=getDomain();this._callback=null===domain?fn:domain.bind(fn),this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=limit>=1?[]:EMPTY_ARRAY,this._init$(void 0,-2)}function map(promises,fn,options,_filter){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var limit=0;if(void 0!==options){if("object"!=typeof options||null===options)return Promise.reject(new TypeError("options argument must be an object but it is "+util.classString(options)));if("number"!=typeof options.concurrency)return Promise.reject(new TypeError("'concurrency' must be a number but it is "+util.classString(options.concurrency)));limit=options.concurrency}return limit="number"==typeof limit&&isFinite(limit)&&limit>=1?limit:0,new MappingPromiseArray(promises,fn,limit,_filter).promise()}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj,EMPTY_ARRAY=[];util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(index<0){if(index=index*-1-1,values[index]=value,limit>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,this._queue.push(index),!1;null!==preservedValues&&(preservedValues[index]=value);var promise=this._promise,callback=this._callback,receiver=promise._boundValue();promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length),promiseCreated=promise._popContext();if(debug.checkForgottenReturns(ret,promiseCreated,null!==preservedValues?"Promise.filter":"Promise.map",promise),ret===errorObj)return this._reject(ret.e),!0;var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();var bitField=maybePromise._bitField;if(0===(50397184&bitField))return limit>=1&&this._inFlight++,values[index]=maybePromise,maybePromise._proxy(this,(index+1)*-1),!1;if(0===(33554432&bitField))return 0!==(16777216&bitField)?(this._reject(maybePromise._reason()),!0):(this._cancel(),!0);ret=maybePromise._value()}values[index]=ret}var totalResolved=++this._totalResolved;return totalResolved>=length&&(null!==preservedValues?this._filter(values,preservedValues):this._resolve(values),!0)},MappingPromiseArray.prototype._drainQueue=function(){for(var queue=this._queue,limit=this._limit,values=this._values;queue.length>0&&this._inFlight<limit;){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){for(var len=values.length,ret=new Array(len),j=0,i=0;i<len;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return map(this,fn,options,null)},Promise.map=function(promises,fn,options,_filter){return map(promises,fn,options,_filter)}}},{"./util":36}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch;Promise.method=function(fn){if("function"!=typeof fn)throw new Promise.TypeError("expecting a function but got "+util.classString(fn));return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments),promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.method",ret),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise.try=function(fn){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value;if(arguments.length>1){debug.deprecated("calling Promise.try with more than 1 argument");var arg=arguments[1],ctx=arguments[2];value=util.isArray(arg)?tryCatch(fn).apply(ctx,arg):tryCatch(fn).call(ctx,arg)}else value=tryCatch(fn)();var promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.try",ret),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1):this._resolveCallback(value,!0)}}},{"./util":36}],20:[function(_dereq_,module,exports){"use strict";function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj),ret.name=obj.name,ret.message=obj.message,ret.stack=obj.stack;for(var keys=es5.keys(obj),i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}function nodebackForPromise(promise,multiArgs){return function(err,value){if(null!==promise){if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(multiArgs){var args=[].slice.call(arguments,1);promise._fulfill(args)}else promise._fulfill(value);promise=null}}}var util=_dereq_("./util"),maybeWrapAsError=util.maybeWrapAsError,errors=_dereq_("./errors"),OperationalError=errors.OperationalError,es5=_dereq_("./es5"),rErrorKey=/^(?:name|message|stack|cause)$/;module.exports=nodebackForPromise},{"./errors":12,"./es5":13,"./util":36}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var promise=this,receiver=promise._boundValue(),ret=void 0===val?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var newReason=new Error(reason+"");newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(promise._boundValue(),reason);ret===errorObj&&async.throwLater(ret.e)}var util=_dereq_("./util"),async=Promise._async,tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if("function"==typeof nodeback){var adapter=successAdapter;void 0!==options&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,void 0,this,nodeback)}return this}}},{"./util":36}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(){function Proxyable(){}function check(self,executor){if("function"!=typeof executor)throw new TypeError("expecting a function but got "+util.classString(executor));if(self.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function Promise(executor){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,executor!==INTERNAL&&(check(this,executor),this._resolveFromExecutor(executor)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(v){this.promise._resolveCallback(v)}function deferReject(v){this.promise._rejectCallback(v,!1)}function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value,p._rejectionHandler0=value,p._promise0=value,p._receiver0=value}var getDomain,makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},reflectHandler=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))},UNDEFINED_BINDING={},util=_dereq_("./util");getDomain=util.isNode?function(){var ret=process.domain;return void 0===ret&&(ret=null),ret}:function(){return null},util.notEnumerableProp(Promise,"_getDomain",getDomain);var es5=_dereq_("./es5"),Async=_dereq_("./async"),async=new Async;es5.defineProperty(Promise,"_async",{value:async});var errors=_dereq_("./errors"),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;var CancellationError=Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={},tryConvertToPromise=_dereq_("./thenables")(Promise,INTERNAL),PromiseArray=_dereq_("./promise_array")(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable),Context=_dereq_("./context")(Promise),createContext=Context.create,debug=_dereq_("./debuggability")(Promise,Context),PassThroughHandlerContext=(debug.CapturedTrace,_dereq_("./finally")(Promise,tryConvertToPromise)),catchFilter=_dereq_("./catch_filter")(NEXT_FILTER),nodebackForPromise=_dereq_("./nodeback"),errorObj=util.errorObj,tryCatch=util.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype.catch=function(fn){var len=arguments.length;if(len>1){var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return apiRejection("expecting an object but got "+util.classString(item));catchInstances[j++]=item}return catchInstances.length=j,fn=arguments[i],this.then(void 0,catchFilter(catchInstances,fn,this))}return this.then(void 0,fn)},Promise.prototype.reflect=function(){return this._then(reflectHandler,reflectHandler,void 0,this,void 0)},Promise.prototype.then=function(didFulfill,didReject){if(debug.warnings()&&arguments.length>0&&"function"!=typeof didFulfill&&"function"!=typeof didReject){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);arguments.length>1&&(msg+=", "+util.classString(didReject)),this._warn(msg)}return this._then(didFulfill,didReject,void 0,void 0,void 0)},Promise.prototype.done=function(didFulfill,didReject){var promise=this._then(didFulfill,didReject,void 0,void 0,void 0);promise._setIsFinal()},Promise.prototype.spread=function(fn){return"function"!=typeof fn?apiRejection("expecting a function but got "+util.classString(fn)):this.all()._then(fn,void 0,void 0,APPLY,void 0)},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new PromiseArray(this).promise()},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.getNewLibraryCopy=module.exports,Promise.is=function(val){return val instanceof Promise},Promise.fromNode=Promise.fromCallback=function(fn){var ret=new Promise(INTERNAL);ret._captureStackTrace();var multiArgs=arguments.length>1&&!!Object(arguments[1]).multiArgs,result=tryCatch(fn)(nodebackForPromise(ret,multiArgs));return result===errorObj&&ret._rejectCallback(result.e,!0),
ret._isFateSealed()||ret._setAsyncGuaranteed(),ret},Promise.all=function(promises){return new PromiseArray(promises).promise()},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);return ret instanceof Promise||(ret=new Promise(INTERNAL),ret._captureStackTrace(),ret._setFulfilled(),ret._rejectionHandler0=obj),ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));return async.setScheduler(fn)},Promise.prototype._then=function(didFulfill,didReject,_,receiver,internalData){var haveInternalData=void 0!==internalData,promise=haveInternalData?internalData:new Promise(INTERNAL),target=this._target(),bitField=target._bitField;haveInternalData||(promise._propagateFrom(this,3),promise._captureStackTrace(),void 0===receiver&&0!==(2097152&this._bitField)&&(receiver=0!==(50397184&bitField)?this._boundValue():target===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,promise));var domain=getDomain();if(0!==(50397184&bitField)){var handler,value,settler=target._settlePromiseCtx;0!==(33554432&bitField)?(value=target._rejectionHandler0,handler=didFulfill):0!==(16777216&bitField)?(value=target._fulfillmentHandler0,handler=didReject,target._unsetRejectionIsUnhandled()):(settler=target._settlePromiseLateCancellationObserver,value=new CancellationError("late cancellation observer"),target._attachExtraTrace(value),handler=didReject),async.invoke(settler,target,{handler:null===domain?handler:"function"==typeof handler&&domain.bind(handler),promise:promise,receiver:receiver,value:value})}else target._addCallbacks(didFulfill,didReject,promise,receiver,domain);return promise},Promise.prototype._length=function(){return 65535&this._bitField},Promise.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},Promise.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},Promise.prototype._setLength=function(len){this._bitField=this._bitField&-65536|65535&len},Promise.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Promise.prototype._isFinal=function(){return(4194304&this._bitField)>0},Promise.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},Promise.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Promise.prototype._setAsyncGuaranteed=function(){async.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},Promise.prototype._receiverAt=function(index){var ret=0===index?this._receiver0:this[4*index-4+3];if(ret!==UNDEFINED_BINDING)return void 0===ret&&this._isBound()?this._boundValue():ret},Promise.prototype._promiseAt=function(index){return this[4*index-4+2]},Promise.prototype._fulfillmentHandlerAt=function(index){return this[4*index-4+0]},Promise.prototype._rejectionHandlerAt=function(index){return this[4*index-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(follower){var fulfill=(follower._bitField,follower._fulfillmentHandler0),reject=follower._rejectionHandler0,promise=follower._promise0,receiver=follower._receiverAt(0);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._migrateCallbackAt=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._addCallbacks=function(fulfill,reject,promise,receiver,domain){var index=this._length();if(index>=65531&&(index=0,this._setLength(0)),0===index)this._promise0=promise,this._receiver0=receiver,"function"==typeof fulfill&&(this._fulfillmentHandler0=null===domain?fulfill:domain.bind(fulfill)),"function"==typeof reject&&(this._rejectionHandler0=null===domain?reject:domain.bind(reject));else{var base=4*index-4;this[base+2]=promise,this[base+3]=receiver,"function"==typeof fulfill&&(this[base+0]=null===domain?fulfill:domain.bind(fulfill)),"function"==typeof reject&&(this[base+1]=null===domain?reject:domain.bind(reject))}return this._setLength(index+1),index},Promise.prototype._proxy=function(proxyable,arg){this._addCallbacks(void 0,void 0,arg,proxyable,null)},Promise.prototype._resolveCallback=function(value,shouldBind){if(0===(117506048&this._bitField)){if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);shouldBind&&this._propagateFrom(maybePromise,2);var promise=maybePromise._target();if(promise===this)return void this._reject(makeSelfResolutionError());var bitField=promise._bitField;if(0===(50397184&bitField)){var len=this._length();len>0&&promise._migrateCallback0(this);for(var i=1;i<len;++i)promise._migrateCallbackAt(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(promise)}else if(0!==(33554432&bitField))this._fulfill(promise._value());else if(0!==(16777216&bitField))this._reject(promise._reason());else{var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason),this._reject(reason)}}},Promise.prototype._rejectCallback=function(reason,synchronous,ignoreNonErrorWarnings){var trace=util.ensureErrorObject(reason),hasStack=trace===reason;if(!hasStack&&!ignoreNonErrorWarnings&&debug.warnings()){var message="a promise was rejected with a non-error: "+util.classString(reason);this._warn(message,!0)}this._attachExtraTrace(trace,!!synchronous&&hasStack),this._reject(reason)},Promise.prototype._resolveFromExecutor=function(executor){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=this._execute(executor,function(value){promise._resolveCallback(value)},function(reason){promise._rejectCallback(reason,synchronous)});synchronous=!1,this._popContext(),void 0!==r&&promise._rejectCallback(r,!0)},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){var bitField=promise._bitField;if(0===(65536&bitField)){promise._pushContext();var x;receiver===APPLY?value&&"number"==typeof value.length?x=tryCatch(handler).apply(this._boundValue(),value):(x=errorObj,x.e=new TypeError("cannot .spread() a non-array: "+util.classString(value))):x=tryCatch(handler).call(receiver,value);var promiseCreated=promise._popContext();bitField=promise._bitField,0===(65536&bitField)&&(x===NEXT_FILTER?promise._reject(value):x===errorObj?promise._rejectCallback(x.e,!1):(debug.checkForgottenReturns(x,promiseCreated,"",promise,this),promise._resolveCallback(x)))}},Promise.prototype._target=function(){for(var ret=this;ret._isFollowing();)ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._settlePromise=function(promise,handler,receiver,value){var isPromise=promise instanceof Promise,bitField=this._bitField,asyncGuaranteed=0!==(134217728&bitField);0!==(65536&bitField)?(isPromise&&promise._invokeInternalOnCancel(),receiver instanceof PassThroughHandlerContext&&receiver.isFinallyHandler()?(receiver.cancelPromise=promise,tryCatch(handler).call(receiver,value)===errorObj&&promise._reject(errorObj.e)):handler===reflectHandler?promise._fulfill(reflectHandler.call(receiver)):receiver instanceof Proxyable?receiver._promiseCancelled(promise):isPromise||promise instanceof PromiseArray?promise._cancel():receiver.cancel()):"function"==typeof handler?isPromise?(asyncGuaranteed&&promise._setAsyncGuaranteed(),this._settlePromiseFromHandler(handler,receiver,value,promise)):handler.call(receiver,value,promise):receiver instanceof Proxyable?receiver._isResolved()||(0!==(33554432&bitField)?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(asyncGuaranteed&&promise._setAsyncGuaranteed(),0!==(33554432&bitField)?promise._fulfill(value):promise._reject(value))},Promise.prototype._settlePromiseLateCancellationObserver=function(ctx){var handler=ctx.handler,promise=ctx.promise,receiver=ctx.receiver,value=ctx.value;"function"==typeof handler?promise instanceof Promise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):promise instanceof Promise&&promise._reject(value)},Promise.prototype._settlePromiseCtx=function(ctx){this._settlePromise(ctx.promise,ctx.handler,ctx.receiver,ctx.value)},Promise.prototype._settlePromise0=function(handler,value,bitField){var promise=this._promise0,receiver=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(promise,handler,receiver,value)},Promise.prototype._clearCallbackDataAtIndex=function(index){var base=4*index-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=void 0},Promise.prototype._fulfill=function(value){var bitField=this._bitField;if(!((117506048&bitField)>>>16)){if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._reject(err)}this._setFulfilled(),this._rejectionHandler0=value,(65535&bitField)>0&&(0!==(134217728&bitField)?this._settlePromises():async.settlePromises(this))}},Promise.prototype._reject=function(reason){var bitField=this._bitField;if(!((117506048&bitField)>>>16))return this._setRejected(),this._fulfillmentHandler0=reason,this._isFinal()?async.fatalError(reason,util.isNode):void((65535&bitField)>0?async.settlePromises(this):this._ensurePossibleRejectionHandled())},Promise.prototype._fulfillPromises=function(len,value){for(var i=1;i<len;i++){var handler=this._fulfillmentHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,value)}},Promise.prototype._rejectPromises=function(len,reason){for(var i=1;i<len;i++){var handler=this._rejectionHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,reason)}},Promise.prototype._settlePromises=function(){var bitField=this._bitField,len=65535&bitField;if(len>0){if(0!==(16842752&bitField)){var reason=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,reason,bitField),this._rejectPromises(len,reason)}else{var value=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,value,bitField),this._fulfillPromises(len,value)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var bitField=this._bitField;return 0!==(33554432&bitField)?this._rejectionHandler0:0!==(16777216&bitField)?this._fulfillmentHandler0:void 0},Promise.defer=Promise.pending=function(){debug.deprecated("Promise.defer","new Promise");var promise=new Promise(INTERNAL);return{promise:promise,resolve:deferResolve,reject:deferReject}},util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError),_dereq_("./method")(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug),_dereq_("./bind")(Promise,INTERNAL,tryConvertToPromise,debug),_dereq_("./cancel")(Promise,PromiseArray,apiRejection,debug),_dereq_("./direct_resolve")(Promise),_dereq_("./synchronous_inspection")(Promise),_dereq_("./join")(Promise,PromiseArray,tryConvertToPromise,INTERNAL,debug),Promise.Promise=Promise,Promise.version="3.4.0",_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./call_get.js")(Promise),_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug),_dereq_("./timers.js")(Promise,INTERNAL,debug),_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug),_dereq_("./nodeify.js")(Promise),_dereq_("./promisify.js")(Promise,INTERNAL),_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection),_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./settle.js")(Promise,PromiseArray,debug),_dereq_("./some.js")(Promise,PromiseArray,apiRejection),_dereq_("./filter.js")(Promise,INTERNAL),_dereq_("./each.js")(Promise,INTERNAL),_dereq_("./any.js")(Promise),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(INTERNAL)),debug.setBounds(Async.firstLineError,util.lastLineError),Promise}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable){function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&promise._propagateFrom(values,3),promise._setOnCancel(this),this._values=values,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var util=_dereq_("./util");util.isArray;return util.inherits(PromiseArray,Proxyable),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();var bitField=values._bitField;if(this._values=values,0===(50397184&bitField))return this._promise._setAsyncGuaranteed(),values._then(init,this._reject,void 0,this,resolveValueIfEmpty);if(0===(33554432&bitField))return 0!==(16777216&bitField)?this._reject(values._reason()):this._cancel();values=values._value()}if(values=util.asArray(values),null===values){var err=apiRejection("expecting an array or an iterable object but got "+util.classString(values)).reason();return void this._promise._rejectCallback(err,!1)}return 0===values.length?void(resolveValueIfEmpty===-5?this._resolveEmptyArray():this._resolve(toResolutionValue(resolveValueIfEmpty))):void this._iterate(values)},PromiseArray.prototype._iterate=function(values){var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;for(var result=this._promise,isResolved=!1,bitField=null,i=0;i<len;++i){var maybePromise=tryConvertToPromise(values[i],result);maybePromise instanceof Promise?(maybePromise=maybePromise._target(),bitField=maybePromise._bitField):bitField=null,isResolved?null!==bitField&&maybePromise.suppressUnhandledRejections():null!==bitField?0===(50397184&bitField)?(maybePromise._proxy(this,i),this._values[i]=maybePromise):isResolved=0!==(33554432&bitField)?this._promiseFulfilled(maybePromise._value(),i):0!==(16777216&bitField)?this._promiseRejected(maybePromise._reason(),i):this._promiseCancelled(i):isResolved=this._promiseFulfilled(maybePromise,i)}isResolved||result._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1)},PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;return totalResolved>=this._length&&(this._resolve(this._values),!0)},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(reason){return this._totalResolved++,this._reject(reason),!0},PromiseArray.prototype._resultCancelled=function(){if(!this._isResolved()){var values=this._values;if(this._cancel(),values instanceof Promise)values.cancel();else for(var i=0;i<values.length;++i)values[i]instanceof Promise&&values[i].cancel()}},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},{"./util":36}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===!0}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return!!val&&isPromisified(val)}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key))for(var keyWithoutAsyncSuffix=key.replace(suffixRegexp,""),j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",suffix))}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){for(var keys=util.inheritedDataKeys(obj),ret=[],i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter||defaultFilter(key,value,obj);"function"!=typeof value||isPromisified(value)||hasPromisified(obj,key,suffix)||!filter(key,value,obj,passesDefaultFilter)||ret.push(key,value)}return checkValid(ret,suffix,suffixRegexp),ret}function makeNodePromisifiedClosure(callback,receiver,_,fn,__,multiArgs){function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this);var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb="string"==typeof method&&this!==defaultThis?this[method]:callback,fn=nodebackForPromise(promise,multiArgs);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),!0,!0)}return promise._isFateSealed()||promise._setAsyncGuaranteed(),promise}var defaultThis=function(){return this}(),method=callback;return"string"==typeof method&&(callback=fn),util.notEnumerableProp(promisified,"__isPromisified__",!0),promisified}function promisifyAll(obj,suffix,filter,promisifier,multiArgs){for(var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter),i=0,len=methods.length;i<len;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;if(promisifier===makeNodePromisified)obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix,multiArgs);else{var promisified=promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)});util.notEnumerableProp(promisified,"__isPromisified__",!0),obj[promisifiedKey]=promisified}}return util.toFastProperties(obj),obj}function promisify(callback,receiver,multiArgs){return makeNodePromisified(callback,receiver,void 0,callback,null,multiArgs)}var makeNodePromisifiedEval,THIS={},util=_dereq_("./util"),nodebackForPromise=_dereq_("./nodeback"),withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=_dereq_("./errors").TypeError,defaultSuffix="Async",defaultPromisified={__isPromisified__:!0},noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$"),defaultFilter=function(name){return util.isIdentifier(name)&&"_"!==name.charAt(0)&&"constructor"!==name},escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")},makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;Promise.promisify=function(fn,options){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));if(isPromisified(fn))return fn;options=Object(options);var receiver=void 0===options.context?THIS:options.context,multiArgs=!!options.multiArgs,ret=promisify(fn,receiver,multiArgs);return util.copyDescriptors(fn,ret,propsFilter),ret},Promise.promisifyAll=function(target,options){if("function"!=typeof target&&"object"!=typeof target)throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");options=Object(options);var multiArgs=!!options.multiArgs,suffix=options.suffix;"string"!=typeof suffix&&(suffix=defaultSuffix);var filter=options.filter;"function"!=typeof filter&&(filter=defaultFilter);var promisifier=options.promisifier;if("function"!=typeof promisifier&&(promisifier=makeNodePromisified),!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var keys=util.inheritedDataKeys(target),i=0;i<keys.length;++i){var value=target[keys[i]];"constructor"!==keys[i]&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier,multiArgs),promisifyAll(value,suffix,filter,promisifier,multiArgs))}return promisifyAll(target,suffix,filter,promisifier,multiArgs)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){function PropertiesPromiseArray(obj){var entries,isMap=!1;if(void 0!==Es6Map&&obj instanceof Es6Map)entries=mapToEntries(obj),isMap=!0;else{var keys=es5.keys(obj),len=keys.length;entries=new Array(2*len);for(var i=0;i<len;++i){var key=keys[i];entries[i]=obj[key],entries[i+len]=key}}this.constructor$(entries),this._isMap=isMap,this._init$(void 0,-3)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(ret=castValue instanceof Promise?castValue._then(Promise.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(castValue).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,2),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var Es6Map,util=_dereq_("./util"),isObject=util.isObject,es5=_dereq_("./es5");"function"==typeof Map&&(Es6Map=Map);var mapToEntries=function(){function extractEntry(value,key){this[index]=value,this[index+size]=key,index++}var index=0,size=0;return function(map){size=map.size,index=0;var ret=new Array(2*map.size);return map.forEach(extractEntry,ret),ret}}(),entriesToMap=function(entries){for(var ret=new Es6Map,length=entries.length/2|0,i=0;i<length;++i){var key=entries[length+i],value=entries[i];ret.set(key,value)}return ret};util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val;if(this._isMap)val=entriesToMap(this._values);else{val={};for(var keyOffset=this.length(),i=0,len=this.length();i<len;++i)val[this._values[i+keyOffset]]=this._values[i]}return this._resolve(val),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},{"./es5":13,"./util":36}],26:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg,this._length=length+1},Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front,i=(front-1&capacity-1^capacity)-capacity;this[i]=value,this._front=i,this._length=this.length()+1},Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg),this._unshiftOne(receiver),this._unshiftOne(fn)},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length))return this._pushOne(fn),this._pushOne(receiver),void this._pushOne(arg);var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=void 0,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front,length=this._length,moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)},module.exports=Queue},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return raceLater(maybePromise);if(promises=util.asArray(promises),null===promises)return apiRejection("expecting an array or an iterable object but got "+util.classString(promises));var ret=new Promise(INTERNAL);void 0!==parent&&ret._propagateFrom(parent,3);for(var fulfill=ret._fulfill,reject=ret._reject,i=0,len=promises.length;i<len;++i){var val=promises[i];(void 0!==val||i in promises)&&Promise.cast(val)._then(fulfill,reject,void 0,ret,null)}return ret}var util=_dereq_("./util"),raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};Promise.race=function(promises){return race(promises,void 0)},Promise.prototype.race=function(){return race(this,void 0)}}},{"./util":36}],28:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function ReductionPromiseArray(promises,fn,initialValue,_each){this.constructor$(promises);var domain=getDomain();this._fn=null===domain?fn:domain.bind(fn),void 0!==initialValue&&(initialValue=Promise.resolve(initialValue),initialValue._attachCancellationCallback(this)),this._initialValue=initialValue,this._currentCancellable=null,this._eachValues=_each===INTERNAL?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function completed(valueOrReason,array){this.isFulfilled()?array._resolve(valueOrReason):array._reject(valueOrReason)}function reduce(promises,fn,initialValue,_each){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}function gotAccum(accum){this.accum=accum,this.array._gotAccum(accum);var value=tryConvertToPromise(this.value,this.array._promise);return value instanceof Promise?(this.array._currentCancellable=value,value._then(gotValue,void 0,void 0,this,void 0)):gotValue.call(this,value)}function gotValue(value){var array=this.array,promise=array._promise,fn=tryCatch(array._fn);promise._pushContext();var ret;ret=void 0!==array._eachValues?fn.call(promise._boundValue(),value,this.index,this.length):fn.call(promise._boundValue(),this.accum,value,this.index,this.length),ret instanceof Promise&&(array._currentCancellable=ret);var promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,void 0!==array._eachValues?"Promise.each":"Promise.reduce",promise),ret}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch;util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._gotAccum=function(accum){void 0!==this._eachValues&&accum!==INTERNAL&&this._eachValues.push(accum)},ReductionPromiseArray.prototype._eachComplete=function(value){return this._eachValues.push(value),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(value){this._promise._resolveCallback(value),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(sender){return sender===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof Promise&&this._currentCancellable.cancel(),this._initialValue instanceof Promise&&this._initialValue.cancel()))},ReductionPromiseArray.prototype._iterate=function(values){this._values=values;var value,i,length=values.length;if(void 0!==this._initialValue?(value=this._initialValue,i=0):(value=Promise.resolve(values[0]),i=1),this._currentCancellable=value,!value.isRejected())for(;i<length;++i){var ctx={accum:null,value:values[i],index:i,length:length,array:this};value=value._then(gotAccum,void 0,void 0,ctx,void 0)}void 0!==this._eachValues&&(value=value._then(this._eachComplete,void 0,void 0,this,void 0)),value._then(completed,completed,void 0,value,this)},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./util":36}],29:[function(_dereq_,module,exports){"use strict";var schedule,util=_dereq_("./util"),noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},NativePromise=util.getNativePromise();if(util.isNode&&"undefined"==typeof MutationObserver){var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if("function"==typeof NativePromise){var nativePromise=NativePromise.resolve();schedule=function(fn){nativePromise.then(fn)}}else schedule="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(fn){setImmediate(fn)}:"undefined"!=typeof setTimeout?function(fn){setTimeout(fn,0)}:noAsyncScheduler:function(){var div=document.createElement("div"),opts={attributes:!0},toggleScheduled=!1,div2=document.createElement("div"),o2=new MutationObserver(function(){div.classList.toggle("foo"),toggleScheduled=!1});o2.observe(div2,opts);var scheduleToggle=function(){toggleScheduled||(toggleScheduled=!0,div2.classList.toggle("foo"))};return function(fn){var o=new MutationObserver(function(){o.disconnect(),fn()});o.observe(div,opts),scheduleToggle()}}();module.exports=schedule},{"./util":36}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,debug){
function SettledPromiseArray(values){this.constructor$(values)}var PromiseInspection=Promise.PromiseInspection,util=_dereq_("./util");util.inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;return totalResolved>=this._length&&(this._resolve(this._values),!0)},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;return ret._bitField=33554432,ret._settledValueField=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;return ret._bitField=16777216,ret._settledValueField=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return debug.deprecated(".settle()",".reflect()"),new SettledPromiseArray(promises).promise()},Promise.prototype.settle=function(){return Promise.settle(this)}}},{"./util":36}],31:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((0|howMany)!==howMany||howMany<0)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}var util=_dereq_("./util"),RangeError=_dereq_("./errors").RangeError,AggregateError=_dereq_("./errors").AggregateError,isArray=util.isArray,CANCELLATION={};util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){return this._addFulfilled(value),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},SomePromiseArray.prototype._promiseRejected=function(reason){return this._addRejected(reason),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof Promise||null==this._values?this._cancel():(this._addRejected(CANCELLATION),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new AggregateError,i=this.length();i<this._values.length;++i)this._values[i]!==CANCELLATION&&e.push(this._values[i]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},{"./errors":12,"./util":36}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){void 0!==promise?(promise=promise._target(),this._bitField=promise._bitField,this._settledValueField=promise._isFateSealed()?promise._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var value=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},reason=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},isFulfilled=PromiseInspection.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},isRejected=PromiseInspection.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},isPending=PromiseInspection.prototype.isPending=function(){return 0===(50397184&this._bitField)},isResolved=PromiseInspection.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};PromiseInspection.prototype.isCancelled=Promise.prototype._isCancelled=function(){return 65536===(65536&this._bitField)},Promise.prototype.isCancelled=function(){return this._target()._isCancelled()},Promise.prototype.isPending=function(){return isPending.call(this._target())},Promise.prototype.isRejected=function(){return isRejected.call(this._target())},Promise.prototype.isFulfilled=function(){return isFulfilled.call(this._target())},Promise.prototype.isResolved=function(){return isResolved.call(this._target())},Promise.prototype.value=function(){return value.call(this._target())},Promise.prototype.reason=function(){var target=this._target();return target._unsetRejectionIsUnhandled(),reason.call(target)},Promise.prototype._value=function(){return this._settledValue()},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},Promise.PromiseInspection=PromiseInspection}},{}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;var then=getThen(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if("function"==typeof then){if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);return obj._then(ret._fulfill,ret._reject,void 0,ret,null),ret}return doThenable(obj,then,context)}}return obj}function doGetThen(obj){return obj.then}function getThen(obj){try{return doGetThen(obj)}catch(e){return errorObj.e=e,errorObj}}function isAnyBluebirdPromise(obj){try{return hasProp.call(obj,"_promise0")}catch(e){return!1}}function doThenable(x,then,context){function resolve(value){promise&&(promise._resolveCallback(value),promise=null)}function reject(reason){promise&&(promise._rejectCallback(reason,synchronous,!0),promise=null)}var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext(),promise._captureStackTrace(),context&&context._popContext();var synchronous=!0,result=util.tryCatch(then).call(x,resolve,reject);return synchronous=!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null),ret}var util=_dereq_("./util"),errorObj=util.errorObj,isObject=util.isObject,hasProp={}.hasOwnProperty;return tryConvertToPromise}},{"./util":36}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,debug){function HandleWrapper(handle){this.handle=handle}function successClear(value){return clearTimeout(this.handle),value}function failureClear(reason){throw clearTimeout(this.handle),reason}var util=_dereq_("./util"),TimeoutError=Promise.TimeoutError;HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(ms,value){var ret,handle;return void 0!==value?(ret=Promise.resolve(value)._then(afterValue,null,null,ms,void 0),debug.cancellation()&&value instanceof Promise&&ret._setOnCancel(value)):(ret=new Promise(INTERNAL),handle=setTimeout(function(){ret._fulfill()},+ms),debug.cancellation()&&ret._setOnCancel(new HandleWrapper(handle))),ret._setAsyncGuaranteed(),ret};Promise.prototype.delay=function(ms){return delay(ms,this)};var afterTimeout=function(promise,message,parent){var err;err="string"!=typeof message?message instanceof Error?message:new TimeoutError("operation timed out"):new TimeoutError(message),util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._reject(err),null!=parent&&parent.cancel()};Promise.prototype.timeout=function(ms,message){ms=+ms;var ret,parent,handleWrapper=new HandleWrapper(setTimeout(function(){ret.isPending()&&afterTimeout(ret,message,parent)},ms));return debug.cancellation()?(parent=this.then(),ret=parent._then(successClear,failureClear,void 0,handleWrapper,void 0),ret._setOnCancel(handleWrapper)):ret=this._then(successClear,failureClear,void 0,handleWrapper,void 0),ret}}},{"./util":36}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug){function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&"function"==typeof thenable._isDisposable&&"function"==typeof thenable._getDisposer&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}function dispose(resources,inspection){function iterator(){if(i>=len)return ret._fulfill();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}var i=0,len=resources.length,ret=new Promise(INTERNAL);return iterator(),ret}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}function ResourceList(length){this.length=length,this.promise=null,this[length-1]=null}var util=_dereq_("./util"),TypeError=_dereq_("./errors").TypeError,inherits=_dereq_("./util").inherits,errorObj=util.errorObj,tryCatch=util.tryCatch,NULL={};Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():NULL},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;void 0!==context&&context._pushContext();var ret=resource!==NULL?this.doDispose(resource,inspection):null;return void 0!==context&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return null!=d&&"function"==typeof d.resource&&"function"==typeof d.tryDispose},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)},ResourceList.prototype._resultCancelled=function(){for(var len=this.length,i=0;i<len;++i){var item=this[i];item instanceof Promise&&item.cancel()}},Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var input,spreadArgs=!0;2===len&&Array.isArray(arguments[0])?(input=arguments[0],len=input.length,spreadArgs=!1):(input=arguments,len--);for(var resources=new ResourceList(len),i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise(),resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},void 0))}resources[i]=resource}for(var reflectedResources=new Array(resources.length),i=0;i<reflectedResources.length;++i)reflectedResources[i]=Promise.resolve(resources[i]).reflect();var resultPromise=Promise.all(reflectedResources).then(function(inspections){for(var i=0;i<inspections.length;++i){var inspection=inspections[i];if(inspection.isRejected())return errorObj.e=inspection.error(),errorObj;if(!inspection.isFulfilled())return void resultPromise.cancel();inspections[i]=inspection.value()}promise._pushContext(),fn=tryCatch(fn);var ret=spreadArgs?fn.apply(void 0,inspections):fn(inspections),promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,"Promise.using",promise),ret}),promise=resultPromise.lastly(function(){var inspection=new Promise.PromiseInspection(resultPromise);return dispose(resources,inspection)});return resources.promise=promise,promise._setOnCancel(resources),promise},Promise.prototype._setDisposable=function(disposer){this._bitField=131072|this._bitField,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(131072&this._bitField)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},Promise.prototype.disposer=function(fn){if("function"==typeof fn)return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";function tryCatcher(){try{var target=tryCatchTarget;return tryCatchTarget=null,target.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}function isPrimitive(val){return null==val||val===!0||val===!1||"string"==typeof val||"number"==typeof val}function isObject(value){return"function"==typeof value||"object"==typeof value&&null!==value}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(safeToString(maybeError)):maybeError}function withAppended(target,appendee){var i,len=target.length,ret=new Array(len+1);for(i=0;i<len;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:void 0;var desc=Object.getOwnPropertyDescriptor(obj,key);return null!=desc?null==desc.get&&null==desc.set?desc.value:defaultValue:void 0}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}function isClass(fn){try{if("function"==typeof fn){var keys=es5.names(fn.prototype),hasMethods=es5.isES5&&keys.length>1,hasMethodsOtherThanConstructor=keys.length>0&&!(1===keys.length&&"constructor"===keys[0]),hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods)return!0}return!1}catch(e){return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){for(var ret=new Array(count),i=0;i<count;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function isError(obj){return null!==obj&&"object"==typeof obj&&"string"==typeof obj.message&&"string"==typeof obj.name}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function canAttachTrace(obj){return isError(obj)&&es5.propertyIsWritable(obj,"stack")}function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){for(var keys=es5.names(from),i=0;i<keys.length;++i){var key=keys[i];if(filter(key))try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}function env(key,def){return isNode?process.env[key]:def}function getNativePromise(){if("function"==typeof Promise)try{var promise=new Promise(function(){});if("[object Promise]"==={}.toString.call(promise))return Promise}catch(e){}}var es5=_dereq_("./es5"),canEvaluate="undefined"==typeof navigator,errorObj={e:{}},tryCatchTarget,globalObject="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,inherits=function(Child,Parent){function T(){this.constructor=Child,this.constructor$=Parent;for(var propertyName in Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&"$"!==propertyName.charAt(propertyName.length-1)&&(this[propertyName+"$"]=Parent.prototype[propertyName])}var hasProp={}.hasOwnProperty;return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype},inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype],isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i)if(excludedPrototypes[i]===val)return!0;return!1};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){for(var ret=[],visitedKeys=Object.create(null);null!=obj&&!isExcludedProto(obj);){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(!visitedKeys[key]){visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);null!=desc&&null==desc.get&&null==desc.set&&ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj)if(hasProp.call(obj,key))ret.push(key);else{for(var i=0;i<excludedPrototypes.length;++i)if(hasProp.call(excludedPrototypes[i],key))continue enumeration;ret.push(key)}return ret}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/,rident=/^[a-z$_][a-z$_0-9]*$/i,ensureErrorObject=function(){return"stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}(),asArray=function(v){return es5.isArray(v)?v:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var ArrayFrom="function"==typeof Array.from?function(v){return Array.from(v)}:function(v){for(var itResult,ret=[],it=v[Symbol.iterator]();!(itResult=it.next()).done;)ret.push(itResult.value);return ret};asArray=function(v){return es5.isArray(v)?v:null!=v&&"function"==typeof v[Symbol.iterator]?ArrayFrom(v):null}}var isNode="undefined"!=typeof process&&"[object process]"===classString(process).toLowerCase(),ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:isNode,env:env,global:globalObject,getNativePromise:getNativePromise};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return 0===version[0]&&version[1]>10||version[0]>0}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}(this),_retrieveGlobal()}),$__System.register("1",["a3","a1","ba","c3","c4","c5"],function(_export,_context4){"use strict";function renderAsync(){var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],scene=_ref.scene,_ref$params=_ref.params,params=void 0===_ref$params?{}:_ref$params,_ref$camera=_ref.camera,camera=void 0===_ref$camera?"main":_ref$camera,_ref$width=_ref.width,width=void 0===_ref$width?320:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?240:_ref$height;return new Promise$1(function(resolve,reject,onCancel){var worker=new Worker("scripts/render-worker.js");worker.onmessage=function(event){"ready"===event.data&&(worker.onmessage=function(event){if(event.data&&event.data.rendered)resolve(event.data.rendered);else if(event.data&&event.data.error){var message=event.data.message?"Uncaught exception in worker: "+event.data.error+": "+event.data.message:"Uncaught exception in worker: "+event.data.error;reject(new Error(message)),worker.terminate()}},worker.postMessage({render:{scene:scene,params:params,camera:camera,dimensions:{width:width,height:height}}}))},onCancel(function(){worker.terminate()})})}function has(object,property){return Object.prototype.hasOwnProperty.call(object,property)}function get(object,property){var defaultValue=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];return has(object,property)?object[property]:defaultValue}function merge(){for(var _len=arguments.length,sources=Array(_len),_key=0;_key<_len;_key++)sources[_key]=arguments[_key];return Object.assign.apply(Object,[{}].concat(sources))}function all(predicate,iterable){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=iterable[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value;if(!predicate(item))return!1}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!0}function zero(n){return Math.abs(n)<=EPSILON}function _equal(x,y){return Math.abs(x-y)<=EPSILON}function clamp(v,min,max){return min<max?Math.max(min,Math.min(v,max)):Math.max(max,Math.min(v,min))}function lerp(a,b,p){return a+p*(b-a)}function deg2rad(deg){return deg*Math.PI/180}function rad2deg(rad){return 180*rad/Math.PI}function hexChannel(c){var ci=Math.round(255*clamp(c,0,1)),cs=ci.toString(16);return 1===cs.length?"0"+cs:cs}function blend(c1,c2,p){return new RGBA(lerp(c1.r,c2.r,p),lerp(c1.g,c2.g,p),lerp(c1.b,c2.b,p),lerp(c1.alpha(),c2.alpha(),p))}function compose(c1,c2){var alpha=c2.alpha();return new RGBA(lerp(c1.r,c2.r,alpha),lerp(c1.g,c2.g,alpha),lerp(c1.b,c2.b,alpha),clamp(c1.alpha()+alpha,0,1))}function multiply(c1,c2){return new RGBA(c1.r*c2.r,c1.g*c2.g,c1.b*c2.b,c1.alpha()*c2.alpha())}function idFromPath(path){return"parameter/"+path.join("/")}function rad2degDisplay(rad){var deg=rad2deg(rad);return Math.round(100*deg)/100}function replaceElement(array,index,newElement){var newArray=Array.from(array);return newArray[index]=newElement,newArray}function translate2D(){var tx=void 0,ty=void 0;return 1===arguments.length?(tx=arguments[0][0],ty=arguments[0][1]):(tx=arguments[0],ty=arguments[1]),new Matrix$1([1,0,tx],[0,1,ty],[0,0,1])}function scale2D(){var sx=void 0,sy=void 0;return 2===arguments.length?(sx=arguments[0],sy=arguments[1]):"number"==typeof arguments[0]?(sx=arguments[0],sy=arguments[0]):(sx=arguments[0][0],sy=arguments[0][1]),new Matrix$1([sx,0,0],[0,sy,0],[0,0,1])}function rotate2D(theta){var s=Math.sin(theta),c=Math.cos(theta);return new Matrix$1([c,-s,0],[s,c,0],[0,0,1])}function translate3D(){var tx=void 0,ty=void 0,tz=void 0;return 1===arguments.length?(tx=arguments[0][0],ty=arguments[0][1],tz=arguments[0][2]):(tx=arguments[0],ty=arguments[1],tz=arguments[2]),new Matrix$1([1,0,0,tx],[0,1,0,ty],[0,0,1,tz],[0,0,0,1])}function scale3D(){var sx=void 0,sy=void 0,sz=void 0;return 3===arguments.length?(sx=arguments[0],sy=arguments[1],sz=arguments[2]):"number"==typeof arguments[0]?(sx=arguments[0],sy=arguments[0],sz=arguments[0]):(sx=arguments[0][0],sy=arguments[0][1],sz=arguments[0][2]),new Matrix$1([sx,0,0,0],[0,sy,0,0],[0,0,sz,0],[0,0,0,1])}function rotate3DX(theta){var s=Math.sin(theta),c=Math.cos(theta);return new Matrix$1([1,0,0,0],[0,c,s,0],[0,-s,c,0],[0,0,0,1])}function rotate3DY(theta){var s=Math.sin(theta),c=Math.cos(theta);return new Matrix$1([c,0,-s,0],[0,1,0,0],[s,0,c,0],[0,0,0,1])}function rotate3DZ(theta){var s=Math.sin(theta),c=Math.cos(theta);return new Matrix$1([c,s,0,0],[-s,c,0,0],[0,0,1,0],[0,0,0,1])}function rotate3DAxis(axis,theta){var a=axis.unit(),s=Math.sin(theta),c=Math.cos(theta),cc=1-c;return new Matrix$1([a[0]*a[0]*cc+c,a[0]*a[1]*cc-a[2]*s,a[0]*a[2]*cc+a[1]*s,0],[a[0]*a[1]*cc+a[2]*s,a[1]*a[1]*cc+c,a[1]*a[2]*cc-a[0]*s,0],[a[0]*a[2]*cc-a[1]*s,a[1]*a[2]*cc+a[0]*s,a[2]*a[2]*cc+c,0],[0,0,0,1])}function applyTransform(transform,value){return Matrix$1.unserialise(value).premultiply(transform).serialise()}function rotationClass(direction){return"p-rotate-"+direction}function rotationLabel(direction){var stepDeg=arguments.length<=1||void 0===arguments[1]?ROTATION_STEP_DEG:arguments[1];return"Rotate "+stepDeg+"° "+direction+" about origin"}function translationClass(axis,direction){return"p-translate-"+axis+"-"+direction}function translationLabel(axis,direction){var step=arguments.length<=2||void 0===arguments[2]?TRANSLATION_STEP:arguments[2];return"Translate "+step+" units in "+direction+" "+axis+" direction"}function scaleUniformLabel(factor){var percent=Math.round(100*factor);return"Scale by "+percent+"%"}function scaleNonUniformClass(axis,direction){return"p-scale-"+axis+"-"+direction}function scaleNonUniformLabel(axis,factor){var percent=Math.round(100*factor);return"Scale by "+percent+"% in "+axis+" axis"}function applyTransform$1(transform,value){return Matrix$1.unserialise(value).premultiply(transform).serialise()}function rotationClass$1(axis,direction){return"p-rotate-"+axis+"-"+direction}function rotationLabel$1(axis,direction){var stepDeg=arguments.length<=2||void 0===arguments[2]?ROTATION_STEP_DEG$1:arguments[2];return"Rotate "+stepDeg+"° "+direction+" about "+axis+" axis"}function translationClass$1(axis,direction){return"p-translate-"+axis+"-"+direction}function translationLabel$1(axis,direction){var step=arguments.length<=2||void 0===arguments[2]?TRANSLATION_STEP$1:arguments[2];return"Translate "+step+" units in "+direction+" "+axis+" direction"}function scaleUniformLabel$1(factor){var percent=Math.round(100*factor);return"Scale by "+percent+"%"}function scaleNonUniformClass$1(axis,direction){return"p-scale-"+axis+"-"+direction}function scaleNonUniformLabel$1(axis,factor){var percent=Math.round(100*factor);return"Scale by "+percent+"% in "+axis+" axis"}function controlComponentClass(param){var pair=CLASSES.find(function(_ref){var _ref2=_slicedToArray(_ref,2),ParamDef=_ref2[0];_ref2[1];return param instanceof ParamDef});return pair?pair[1]:UnsupportedParameter}function VisibleObjectMixin(Base){return function(_Base){function _class(){_classCallCheck(this,_class);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(_class).call(this));return _this2.material=null,_this2.t3d_anchor=null,_this2.casts_shadows=!0,_this2}return _inherits(_class,_Base),_createClass(_class,[{key:"closestIntersection",value:function(ray_world){var ints=this.intersections(ray_world);return ints.length>0?ints[0]:null}},{key:"intersections",value:function(ray_world){throw new AbstractMethodError}},{key:"intersects",value:function(ray_world){var max_distance=arguments.length<=1||void 0===arguments[1]?1/0:arguments[1],intersection=this.closestIntersection(ray_world);return null!==intersection&&intersection.getDistanceWorld()<=max_distance}},{key:"containsObject",value:function(pos_object){throw new AbstractMethodError}},{key:"containsWorld",value:function(pos_world){return this.containsObject(pos_world.transformPos(this.world_to_object))}},{key:"getMaterial",value:function(){return this.material?this.material:this.parent&&"function"==typeof this.parent.getMaterial?this.parent.getMaterial():null}},{key:"setMaterial",value:function(material){return this.material=material,this}},{key:"setT3DAnchorObject",value:function(object){return this.t3d_anchor=object,this}},{key:"getT3DAnchorObject",value:function(){if(this.t3d_anchor){for(var anchor=this.t3d_anchor;anchor&&anchor.t3d_anchor&&anchor!==anchor.t3d_anchor;)anchor=anchor.t3d_anchor;return anchor}for(var _anchor=this;!_anchor.material&&_anchor.parent.getMaterial;)_anchor=_anchor.parent;return _anchor}},{key:"objectToT3DAnchor",value:function(point){var anchor=this.getT3DAnchorObject();return anchor===this?point:point.transformPos(this.object_to_world).transformPos(anchor.world_to_object)}},{key:"uvAtPoint",value:function(point){throw new AbstractMethodError}},{key:"normalAtPoint",value:function(point){throw new AbstractMethodError}}]),_class}(Base)}function isVisibleObject(object){return object&&"function"==typeof object.closestIntersection}function isLight(object){return object&&"function"==typeof object.lightVectorLight}function regular(colours,blend,midpoint){return new Gradient(colours.map(function(colour,i){return[i/(colours.length-1),colour,blend,midpoint]}))}function sawtooth(t){return t-Math.floor(t)}function fade(t){return t*t*t*(t*(6*t-15)+10)}function grad(hash,x,y,z){var h=15&hash,u=h<8?x:y,v=h<4?y:12===h||14===h?x:z;return(0===(1&h)?u:-u)+(0===(2&h)?v:-v)}function getSceneById(id){var scene=scenesById[id];if(scene)return scene;throw new Error("Scene '"+id+"' not found in registry")}function setParameter$1(paramState,path,value){if(0===path.length)return value;var _path=_toArray(path),path1=_path[0],pathRest=_path.slice(1);return merge(paramState,_defineProperty({},path1,setParameter$1(get(paramState,path1,{}),pathRest,value)))}function objectMapReducer(valueReducer){var defaultObjectValue=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return function(){var state=arguments.length<=0||void 0===arguments[0]?defaultObjectValue:arguments[0],action=arguments[1];return Object.keys(state).reduce(function(newState,key){var oldValue=get(newState,key),newValue=valueReducer(oldValue,action,key);return newValue===oldValue?newState:merge(newState,_defineProperty({},key,newValue))},state)}}function initApp(){render(React.createElement(Provider,{store:store},React.createElement(App,null)),document.getElementById("app-root"),function(){console.log("[Ready]")})}var React,PropTypes,render,createStore,combineReducers,connect,Provider,createSelector,Promise$1,Link,actionTypes,select,clear,ClearSelectedSceneLink,SelectedScene,SelectSceneLink,SelectScene,_classCallCheck,_createClass,_possibleConstructorReturn,_get,_inherits,DEFAULT_CANVAS_DIMENSIONS,RenderCanvas$2,removed,resize,setScale,started,finished,error,RenderCanvas,RenderCanvas$1,STATUSES,INITIAL,RENDERING,status,RenderStatus$1,statusValues,RenderStatus,fconst,noop,NumberInput,ScaleControl,RenderControls$1,RenderControls,RenderDisplay,_toConsumableArray,_slicedToArray,Param,ParamGroup,ParameterGroup,UnsupportedParameter,EPSILON,_regeneratorRuntime,Vector$1,Vector2,Vector3,Origin3D,XAxis3D,YAxis3D,ZAxis3D,NegXAxis3D,NegYAxis3D,NegZAxis3D,Matrix$1,Identity2,Identity3,Identity4,RGB$1,RGBA,Black,White,Red,Green,Blue,Cyan,Magenta,Yellow,TransBlack,TransWhite,_Boolean,Choice,_Number,Integer,Angle,RGB,Vector,Matrix,Transform2D,Transform3D,RandomSeed,BooleanParameter,ChoiceParameter,NumberParameter,IntegerParameter,AngleParameter,VectorParameter,ROTATION_STEP_DEG,ROTATION_STEP,TRANSLATION_STEP,SCALE_STEP_INC,SCALE_STEP_DEC,TRANSFORMS,rotateControls,translateControls,scaleUniformControls,scaleNonUniformControls,Transform2DParameter,ROTATION_STEP_DEG$1,ROTATION_STEP$1,TRANSLATION_STEP$1,SCALE_STEP_INC$1,SCALE_STEP_DEC$1,TRANSFORMS$1,rotateControls$1,translateControls$1,scaleUniformControls$1,scaleNonUniformControls$1,Transform3DParameter,RGBParameter,RandomSeedParameter,CLASSES,Parameter,ParameterList,SceneParameters$1,setParameter,resetScene,AbstractMethodError,SceneObject,Group,VisibleObject,Ray,Intersection,Light,UniformLight,PointLight,DirectionalLight,Background,SolidBackground,ElevationGradientBackground,AngleBackground,Atmosphere,TransformableAtmosphere,EmptyAtmosphere,FoggyAtmosphere,FoggyTransformableAtmosphere,ConstantFog,LinearGradientFog,World,Scene,ParametricScene,Camera,PerspectiveCamera,StereoCamera,OrthographicCamera,SingleCameraParametricScene,Spherical,Geographic,Cylindrical,Polar,Sphere,Plane,LevelPlane,InfiniteCylinder,Cylinder,Cone,Material,CompositeMaterial,BlendedCompositeMaterial,AdditiveCompositeMaterial,Selective3DCompositeMaterial,Selective2DCompositeMaterial,Checks2D,Stripes2D,Checks3D,Stripes3D,PhongMaterial,PhongParams,Mirror,SolidShadedMaterial,SolidPhongMaterial,SolidMattMaterial,SolidShinyMaterial,PhongMirror,SolidMetallicMaterial,AliceBlue,AntiqueWhite,AntiqueWhite1,AntiqueWhite2,AntiqueWhite3,AntiqueWhite4,Aquamarine,Aquamarine1,Aquamarine2,Aquamarine3,Aquamarine4,Azure,Azure1,Azure2,Azure3,Azure4,Beige,Bisque,Bisque1,Bisque2,Bisque3,Bisque4,Black$1,BlanchedAlmond,Blue$1,Blue1,Blue2,Blue3,Blue4,BlueViolet,Brown,Brown1,Brown2,Brown3,Brown4,Burlywood,Burlywood1,Burlywood2,Burlywood3,Burlywood4,CadetBlue,CadetBlue1,CadetBlue2,CadetBlue3,CadetBlue4,Chartreuse,Chartreuse1,Chartreuse2,Chartreuse3,Chartreuse4,Chocolate,Chocolate1,Chocolate2,Chocolate3,Chocolate4,Coral,Coral1,Coral2,Coral3,Coral4,CornflowerBlue,Cornsilk,Cornsilk1,Cornsilk2,Cornsilk3,Cornsilk4,Cyan$1,Cyan1,Cyan2,Cyan3,Cyan4,DarkBlue,DarkCyan,DarkGoldenrod,DarkGoldenrod1,DarkGoldenrod2,DarkGoldenrod3,DarkGoldenrod4,DarkGreen,DarkGrey,DarkKhaki,DarkMagenta,DarkOliveGreen,DarkOliveGreen1,DarkOliveGreen2,DarkOliveGreen3,DarkOliveGreen4,DarkOrange,DarkOrange1,DarkOrange2,DarkOrange3,DarkOrange4,DarkOrchid,DarkOrchid1,DarkOrchid2,DarkOrchid3,DarkOrchid4,DarkRed,DarkSalmon,DarkSeaGreen,DarkSeaGreen1,DarkSeaGreen2,DarkSeaGreen3,DarkSeaGreen4,DarkSlateBlue,DarkSlateGrey,DarkSlateGrey1,DarkSlateGrey2,DarkSlateGrey3,DarkSlateGrey4,DarkTurquoise,DarkViolet,DebianRed,DeepPink,DeepPink1,DeepPink2,DeepPink3,DeepPink4,DeepSkyBlue,DeepSkyBlue1,DeepSkyBlue2,DeepSkyBlue3,DeepSkyBlue4,DimGrey,DodgerBlue,DodgerBlue1,DodgerBlue2,DodgerBlue3,DodgerBlue4,Firebrick,Firebrick1,Firebrick2,Firebrick3,Firebrick4,FloralWhite,ForestGreen,Gainsboro,GhostWhite,Gold,Gold1,Gold2,Gold3,Gold4,Goldenrod,Goldenrod1,Goldenrod2,Goldenrod3,Goldenrod4,Green$1,Green1,Green2,Green3,Green4,GreenYellow,Grey,Grey0,Grey1,Grey10,Grey100,Grey11,Grey12,Grey13,Grey14,Grey15,Grey16,Grey17,Grey18,Grey19,Grey2,Grey20,Grey21,Grey22,Grey23,Grey24,Grey25,Grey26,Grey27,Grey28,Grey29,Grey3,Grey30,Grey31,Grey32,Grey33,Grey34,Grey35,Grey36,Grey37,Grey38,Grey39,Grey4,Grey40,Grey41,Grey42,Grey43,Grey44,Grey45,Grey46,Grey47,Grey48,Grey49,Grey5,Grey50,Grey51,Grey52,Grey53,Grey54,Grey55,Grey56,Grey57,Grey58,Grey59,Grey6,Grey60,Grey61,Grey62,Grey63,Grey64,Grey65,Grey66,Grey67,Grey68,Grey69,Grey7,Grey70,Grey71,Grey72,Grey73,Grey74,Grey75,Grey76,Grey77,Grey78,Grey79,Grey8,Grey80,Grey81,Grey82,Grey83,Grey84,Grey85,Grey86,Grey87,Grey88,Grey89,Grey9,Grey90,Grey91,Grey92,Grey93,Grey94,Grey95,Grey96,Grey97,Grey98,Grey99,Honeydew,Honeydew1,Honeydew2,Honeydew3,Honeydew4,HotPink,HotPink1,HotPink2,HotPink3,HotPink4,IndianRed,IndianRed1,IndianRed2,IndianRed3,IndianRed4,Ivory,Ivory1,Ivory2,Ivory3,Ivory4,Khaki,Khaki1,Khaki2,Khaki3,Khaki4,Lavender,LavenderBlush,LavenderBlush1,LavenderBlush2,LavenderBlush3,LavenderBlush4,LawnGreen,LemonChiffon,LemonChiffon1,LemonChiffon2,LemonChiffon3,LemonChiffon4,LightBlue,LightBlue1,LightBlue2,LightBlue3,LightBlue4,LightCoral,LightCyan,LightCyan1,LightCyan2,LightCyan3,LightCyan4,LightGoldenrod,LightGoldenrod1,LightGoldenrod2,LightGoldenrod3,LightGoldenrod4,LightGoldenrodYellow,LightGreen,LightGrey,LightPink,LightPink1,LightPink2,LightPink3,LightPink4,LightSalmon,LightSalmon1,LightSalmon2,LightSalmon3,LightSalmon4,LightSeaGreen,LightSkyBlue,LightSkyBlue1,LightSkyBlue2,LightSkyBlue3,LightSkyBlue4,LightSlateBlue,LightSlateGrey,LightSteelBlue,LightSteelBlue1,LightSteelBlue2,LightSteelBlue3,LightSteelBlue4,LightYellow,LightYellow1,LightYellow2,LightYellow3,LightYellow4,LimeGreen,Linen,Magenta$1,Magenta1,Magenta2,Magenta3,Magenta4,Maroon,Maroon1,Maroon2,Maroon3,Maroon4,MediumAquamarine,MediumBlue,MediumOrchid,MediumOrchid1,MediumOrchid2,MediumOrchid3,MediumOrchid4,MediumPurple,MediumPurple1,MediumPurple2,MediumPurple3,MediumPurple4,MediumSeaGreen,MediumSlateBlue,MediumSpringGreen,MediumTurquoise,MediumVioletRed,MidnightBlue,MintCream,MistyRose,MistyRose1,MistyRose2,MistyRose3,MistyRose4,Moccasin,NavajoWhite,NavajoWhite1,NavajoWhite2,NavajoWhite3,NavajoWhite4,Navy,NavyBlue,OldLace,OliveDrab,OliveDrab1,OliveDrab2,OliveDrab3,OliveDrab4,Orange,Orange1,Orange2,Orange3,Orange4,OrangeRed,OrangeRed1,OrangeRed2,OrangeRed3,OrangeRed4,Orchid,Orchid1,Orchid2,Orchid3,Orchid4,PaleGoldenrod,PaleGreen,PaleGreen1,PaleGreen2,PaleGreen3,PaleGreen4,PaleTurquoise,PaleTurquoise1,PaleTurquoise2,PaleTurquoise3,PaleTurquoise4,PaleVioletRed,PaleVioletRed1,PaleVioletRed2,PaleVioletRed3,PaleVioletRed4,PapayaWhip,PeachPuff,PeachPuff1,PeachPuff2,PeachPuff3,PeachPuff4,Peru,Pink,Pink1,Pink2,Pink3,Pink4,Plum,Plum1,Plum2,Plum3,Plum4,PowderBlue,Purple,Purple1,Purple2,Purple3,Purple4,Red$1,Red1,Red2,Red3,Red4,RosyBrown,RosyBrown1,RosyBrown2,RosyBrown3,RosyBrown4,RoyalBlue,RoyalBlue1,RoyalBlue2,RoyalBlue3,RoyalBlue4,SaddleBrown,Salmon,Salmon1,Salmon2,Salmon3,Salmon4,SandyBrown,SeaGreen,SeaGreen1,SeaGreen2,SeaGreen3,SeaGreen4,Seashell,Seashell1,Seashell2,Seashell3,Seashell4,Sienna,Sienna1,Sienna2,Sienna3,Sienna4,SkyBlue,SkyBlue1,SkyBlue2,SkyBlue3,SkyBlue4,SlateBlue,SlateBlue1,SlateBlue2,SlateBlue3,SlateBlue4,SlateGrey,SlateGrey1,SlateGrey2,SlateGrey3,SlateGrey4,Snow,Snow1,Snow2,Snow3,Snow4,SpringGreen,SpringGreen1,SpringGreen2,SpringGreen3,SpringGreen4,SteelBlue,SteelBlue1,SteelBlue2,SteelBlue3,SteelBlue4,Tan,Tan1,Tan2,Tan3,Tan4,Thistle,Thistle1,Thistle2,Thistle3,Thistle4,Tomato,Tomato1,Tomato2,Tomato3,Tomato4,Turquoise,Turquoise1,Turquoise2,Turquoise3,Turquoise4,Violet,VioletRed,VioletRed1,VioletRed2,VioletRed3,VioletRed4,Wheat,Wheat1,Wheat2,Wheat3,Wheat4,White$1,WhiteSmoke,Yellow$1,Yellow1,Yellow2,Yellow3,Yellow4,YellowGreen,Gradient,Segment,Blend,BlueSkyBackground,rainbowGradient,GroundPlane,ObjectExhibit,SphereExhibit,PlaneExhibit,LevelPlaneExhibit,InfiniteCylinderExhibit,CylinderExhibit,InfiniteConeExhibit,ConeExhibit,Complex,ZERO,ONE,NEG_ONE,I,NEG_I,ConditionalUV,ConditionalLevelPlane,StaticLamina,InstanceLamina,Square,Disc,Triangle,RegularPolygon,Mandelbrot,SquareExhibit,DiscExhibit,TriangleExhibit,RegularPolygonExhibit,MandelbrotExhibit,CSGRayIntersection,CSGNode,CSGUnion,CSGIntersection,CSGDifference,CSGClip,CSGNAryIntersection,Polyhedron,Tetrahedron,Cube,Octahedron,Dodecahedron,Icosahedron,TetrahedronExhibit,CubeExhibit,OctahedronExhibit,DodecahedronExhibit,IcosahedronExhibit,GeneralParaboloid,EllipticalParaboloid,HyperbolicParaboloid,ExtrudedParabola,GeneralHyperboloid,OneSurfaceHyperboloid,TwoSurfaceHyperboloid,PARABOLOID_CLASSES,ParaboloidExhibit,HYPERBOLOID_CLASSES,HyperboloidExhibit,PhongParamsExhibit,SolidColouredMaterialExhibit,TextureExhibit,Textured3DPhongMaterial,Textured2DPhongMaterial,Textured3DMattMaterial,Textured2DMattMaterial,Textured3DShinyMaterial,Textured2DShinyMaterial,Texture,Texture2D,Texture3D,CompositeTexture,SolidTexture,FunctionTexture,MapTexture,Transformable2DTexture,Transformable3DTexture,ScalarPointwiseAddTexture,ScalarPointwiseMultiplyTexture,ScalarMultiplyTexture,GradientTexture,Linear,Radial,Random,Perlin3D,Octave,Linear$1,Spherical$1,Cylindrical$1,Perlin,PerlinPerturb,GradientTexture2DExhibit,GradientTexture3DExhibit,PerlinTextureExhibit,PerlinPerturbTextureExhibit,groups,scenesById,SceneParameters,App$1,App,id,_defineProperty,_toArray,singleSceneParameters,mapReducer,parameters,scene,dimensions,scale,display,render$1,reducer,store;
return{setters:[function(_a){React=_a.default,PropTypes=_a.PropTypes},function(_a2){render=_a2.render},function(_ba){createStore=_ba.createStore,combineReducers=_ba.combineReducers},function(_c){connect=_c.connect,Provider=_c.Provider},function(_c2){createSelector=_c2.createSelector},function(_c3){Promise$1=_c3.default}],execute:function(){Link=function(_ref){var children=_ref.children,title=_ref.title,_onClick=_ref.onClick;return React.createElement("a",{href:"#",title:title,onClick:function(event){event.preventDefault(),_onClick()}},children)},Link.propTypes={children:React.PropTypes.node.isRequired,title:React.PropTypes.string,onClick:React.PropTypes.func.isRequired},actionTypes={selectScene:{select:"select-scene/select",clear:"select-scene/clear"},parameters:{setParameter:"parameters/set-parameter",resetScene:"parameters/reset-scene",resetAllScenes:"parameters/reset-all-scenes"},display:{removed:"display/removed",resize:"display/resize",setScale:"display/set-scale"},render:{started:"render/started",finished:"render/finished",error:"render/error"}},select=function(sceneId){return{type:actionTypes.selectScene.select,sceneId:sceneId}},clear=function(){return{type:actionTypes.selectScene.clear}},ClearSelectedSceneLink=connect(null,function(dispatch){return{onClick:function(){dispatch(clear())}}})(Link),SelectedScene=function(_ref){var Scene=_ref.Scene;return React.createElement("nav",{className:"selected-scene"},React.createElement("p",{className:"p-current-scene"},Scene.label()),React.createElement("p",{className:"p-select-scene"},React.createElement(ClearSelectedSceneLink,null,"Select another scene")))},SelectedScene.propTypes={Scene:React.PropTypes.func.isRequired},SelectSceneLink=connect(null,function(dispatch,ownProps){return{onClick:function(){dispatch(select(ownProps.sceneId))}}})(Link),Object.assign(SelectSceneLink.propTypes,{sceneId:PropTypes.string.isRequired}),SelectScene=function(_ref){var sceneGroups=_ref.sceneGroups;return React.createElement("section",{className:"select-scene"},React.createElement("h2",null,"Select scene"),React.createElement("ul",null,sceneGroups.map(function(group,index){return React.createElement("li",{key:index},React.createElement("h3",null,group.label),React.createElement("ul",null,group.scenes.map(function(scene){return React.createElement("li",{key:scene.id},React.createElement(SelectSceneLink,{sceneId:scene.id},scene.constructor.label()))})))})))},SelectScene.propTypes={sceneGroups:PropTypes.arrayOf(PropTypes.shape({label:PropTypes.string.isRequired,scenes:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.string.isRequired,constructor:PropTypes.func.isRequired}).isRequired).isRequired}).isRequired).isRequired},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_possibleConstructorReturn=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call},_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)},Promise$1.config({cancellation:!0}),DEFAULT_CANVAS_DIMENSIONS={width:320,height:240},RenderCanvas$2=function(_React$Component){function RenderCanvas(){var _Object$getPrototypeO;_classCallCheck(this,RenderCanvas);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_Object$getPrototypeO=Object.getPrototypeOf(RenderCanvas)).call.apply(_Object$getPrototypeO,[this].concat(args)));return _this.state={displayDimensions:null,renderedDimensions:DEFAULT_CANVAS_DIMENSIONS},_this._renderPromise=null,_this._canvas=null,_this._canvasContext=null,_this._resizeTimeout=null,_this._setCanvasNode=_this._setCanvasNode.bind(_this),_this._handleWindowResize=_this._handleWindowResize.bind(_this),_this._checkResize=_this._checkResize.bind(_this),_this}return _inherits(RenderCanvas,_React$Component),_createClass(RenderCanvas,[{key:"render",value:function(){return React.createElement("canvas",{ref:this._setCanvasNode,width:this.state.renderedDimensions.width,height:this.state.renderedDimensions.height})}},{key:"_startRender",value:function(){var _this2=this;this._cancelRender();var width=Math.round(this.state.displayDimensions.width/this.props.scale),height=Math.round(this.state.displayDimensions.height/this.props.scale),startTime=Date.now();this._renderPromise=renderAsync({scene:this.props.sceneId,params:this.props.sceneParams,camera:this.props.cameraId,width:width,height:height}),this._renderPromise.then(function(imageData){_this2._renderPromise=null,_this2.setState({renderedDimensions:{width:width,height:height}}),_this2._canvasContext.putImageData(imageData,0,0),_this2.props.onRenderFinished&&_this2.props.onRenderFinished.call(_this2,{dimensions:{width:width,height:height},time:Date.now()-startTime})}).catch(function(error){_this2._renderPromise=null,_this2.props.onRenderError&&_this2.props.onRenderError.call(_this2,error)}),this.props.onRenderStarted&&this.props.onRenderStarted.call(this)}},{key:"_cancelRender",value:function(){this._renderPromise&&this._renderPromise.cancel(),this._renderPromise=null}},{key:"componentDidUpdate",value:function(prevProps,prevState){this.props.sceneId===prevProps.sceneId&&this.props.sceneParams===prevProps.sceneParams&&this.props.cameraId===prevProps.cameraId&&this.props.scale===prevProps.scale&&this.state.displayDimensions===prevState.displayDimensions||this._startRender()}},{key:"componentDidMount",value:function(){this._checkResize(),window.addEventListener("resize",this._handleWindowResize)}},{key:"componentWillUnmount",value:function(){this._cancelRender(),null!==this._resizeTimeout&&(window.clearTimeout(this._resizeTimeout),this._resizeTimeout=null),window.removeEventListener("resize",this._handleWindowResize)}},{key:"_setCanvasNode",value:function(node){this._canvas=node,this._canvasContext=node?node.getContext("2d"):null}},{key:"_handleWindowResize",value:function(event){null!==this._resizeTimeout&&window.clearTimeout(this._resizeTimeout),this._resizeTimeout=window.setTimeout(this._checkResize,0)}},{key:"_checkResize",value:function(){var old=this.state.displayDimensions,width=this._canvas.scrollWidth,height=this._canvas.scrollHeight;old&&old.width===width&&old.height===height||(this.setState({displayDimensions:{width:width,height:height}}),this.props.onResize&&this.props.onResize.call(this,width,height))}}]),RenderCanvas}(React.Component),RenderCanvas$2.propTypes={sceneId:React.PropTypes.string.isRequired,sceneParams:React.PropTypes.object.isRequired,cameraId:React.PropTypes.string.isRequired,scale:React.PropTypes.number.isRequired,onRenderStarted:React.PropTypes.func,onRenderFinished:React.PropTypes.func,onRenderError:React.PropTypes.func,onResize:React.PropTypes.func},removed=function(){return{type:actionTypes.display.removed}},resize=function(width,height){return{type:actionTypes.display.resize,width:width,height:height}},setScale=function(scale){return{type:actionTypes.display.setScale,scale:scale}},started=function(){return{type:actionTypes.render.started}},finished=function(renderedDimensions,renderingTime){return{type:actionTypes.render.finished,rendered:{dimensions:renderedDimensions,time:renderingTime}}},error=function(_error){return{type:actionTypes.render.error,error:{type:_error.name,message:_error.message}}},RenderCanvas=function(_RenderCanvas_){function RenderCanvas(){return _classCallCheck(this,RenderCanvas),_possibleConstructorReturn(this,Object.getPrototypeOf(RenderCanvas).apply(this,arguments))}return _inherits(RenderCanvas,_RenderCanvas_),_createClass(RenderCanvas,[{key:"componentWillUnmount",value:function(){_get(Object.getPrototypeOf(RenderCanvas.prototype),"componentWillUnmount",this).call(this),this.props.onRemove()}}]),RenderCanvas}(RenderCanvas$2),RenderCanvas.propTypes=Object.assign({},RenderCanvas$2.propTypes,{onRemove:PropTypes.func}),RenderCanvas$1=connect(createSelector([function(state){return state.scene.id},function(state){return get(state.scene.parameters,state.scene.id)},function(state){return state.display.scale}],function(sceneId,sceneParams,scale){return{sceneId:sceneId,sceneParams:sceneParams||{},cameraId:"main",scale:scale}}),function(dispatch){return{onResize:function(width,height){return dispatch(resize(width,height))},onRenderStarted:function(){return dispatch(started())},onRenderFinished:function(_ref){var dimensions=_ref.dimensions,time=_ref.time;return dispatch(finished(dimensions,time))},onRenderError:function(error$$){return dispatch(error(error$$))},onRemove:function(){return dispatch(removed())}}})(RenderCanvas),STATUSES={initial:"initial",rendering:"rendering",rendered:"rendered",error:"error"},INITIAL={status:STATUSES.initial},RENDERING={status:STATUSES.rendering},status=function(){var state=arguments.length<=0||void 0===arguments[0]?INITIAL:arguments[0],action=arguments[1];return action.type===actionTypes.render.started?RENDERING:action.type===actionTypes.render.finished?{status:STATUSES.rendered,rendered:action.rendered}:action.type===actionTypes.render.error?{status:STATUSES.error,error:action.error}:action.type===actionTypes.display.removed?INITIAL:state},RenderStatus$1=function(_ref){var status=_ref.status,rendered=_ref.rendered,error=_ref.error,message=null;if(status===STATUSES.rendering)message="Rendering…";else if(status===STATUSES.rendered){var time=rendered.time<1e3?rendered.time+" ms":(rendered.time/1e3).toFixed(3)+" s";message="Rendered at "+rendered.dimensions.width+" × "+rendered.dimensions.height+" in "+time}else status===STATUSES.error&&(message=error?"Error"!==error.type?error.message?"Error rendering: "+error.type+": "+error.message:"Error rendering: "+error.type:error.message?"Error rendering: "+error.message:"Error rendering":"Error rendering");return React.createElement("div",{className:"p-status v-"+status},message)},statusValues=Object.keys(STATUSES).map(function(k){return STATUSES[k]}),RenderStatus$1.propTypes={status:PropTypes.oneOf(statusValues).isRequired,rendered:PropTypes.shape({dimensions:PropTypes.shape({width:PropTypes.number.isRequired,height:PropTypes.number.isRequired}).isRequired,time:PropTypes.number.isRequired}),error:PropTypes.shape({type:PropTypes.string.isRequired,message:PropTypes.string})},RenderStatus=connect(function(state){return{status:state.render.status.status,rendered:state.render.status.rendered,error:state.render.status.error}})(RenderStatus$1),fconst=function(x){return function(){return x}},noop=fconst(void 0),NumberInput=function(_ref){var id=_ref.id,value=_ref.value,min=_ref.min,max=_ref.max,step=_ref.step,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$onChange=_ref.onChange,_onChange=void 0===_ref$onChange?noop:_ref$onChange;return React.createElement("input",{type:"number",id:id,value:null===value?"":value,min:min,max:max,step:step,disabled:disabled,onChange:function(event){return _onChange(Number(event.target.value))}})},NumberInput.propTypes={id:PropTypes.string,value:PropTypes.number,min:PropTypes.number,max:PropTypes.number,step:PropTypes.number,disabled:PropTypes.bool,onChange:PropTypes.func},ScaleControl=function(_ref){var value=_ref.value,onChange=_ref.onChange;return React.createElement("label",null,"Pixel scale:"," ",React.createElement(NumberInput,{value:value,min:1,max:50,step:1,onChange:onChange}))},ScaleControl.propTypes={value:React.PropTypes.number.isRequired,onChange:React.PropTypes.func},RenderControls$1=function(_ref){var scale=_ref.scale,onScaleChange=_ref.onScaleChange;return React.createElement("form",{className:"p-controls"},React.createElement(ScaleControl,{value:scale,onChange:onScaleChange}))},RenderControls$1.propTypes={scale:React.PropTypes.number.isRequired,onScaleChange:React.PropTypes.func},RenderControls=connect(function(state){return{scale:state.display.scale}},function(dispatch){return{onScaleChange:function(scale){return dispatch(setScale(scale))}}})(RenderControls$1),RenderDisplay=function(){return React.createElement("section",{className:"render-display"},React.createElement("figure",null,React.createElement(RenderCanvas$1,null)),React.createElement("aside",null,React.createElement(RenderStatus,null),React.createElement(RenderControls,null)))},_toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Param=function(){function Param(){var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref.id,_ref$label=_ref.label,label=void 0===_ref$label?id:_ref$label,_ref$defaultValue=_ref.defaultValue,defaultValue=void 0===_ref$defaultValue?void 0:_ref$defaultValue;if(_classCallCheck(this,Param),void 0===id)throw new TypeError("Param: id must be provided");this.id=id,this.label=label,this.defaultValue=defaultValue}return _createClass(Param,[{key:"interpret",value:function(serialised){return void 0!==serialised?this.interpretValue(serialised):this.defaultValue}},{key:"interpretValue",value:function(serialised){return serialised}},{key:"defaultValueSerialised",value:function(){return this.defaultValue}}]),Param}(),ParamGroup=function(_Param){function ParamGroup(){var _ref2=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref2.id,label=_ref2.label,_ref2$params=_ref2.params,params=void 0===_ref2$params?[]:_ref2$params;_classCallCheck(this,ParamGroup);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ParamGroup).call(this,{id:id,label:label}));return _this.params=params,_this}return _inherits(ParamGroup,_Param),_createClass(ParamGroup,[{key:"interpret",value:function(){var serialised=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if("object"==typeof serialised)return this.params.reduce(function(result,param){return result[param.id]=param.interpret(serialised[param.id]),result},{});throw new TypeError("ParamGroup: serialised value must be an object")}},{key:"defaultValueSerialised",value:function(){return this.params.reduce(function(result,param){return result[param.id]=param.defaultValueSerialised(),result},{})}}]),ParamGroup}(Param),ParameterGroup=function(_React$Component){function ParameterGroup(){var _Object$getPrototypeO;_classCallCheck(this,ParameterGroup);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_Object$getPrototypeO=Object.getPrototypeOf(ParameterGroup)).call.apply(_Object$getPrototypeO,[this].concat(args)));return _this.state={expanded:!1},_this.toggleExpanded=_this.toggleExpanded.bind(_this),_this}return _inherits(ParameterGroup,_React$Component),_createClass(ParameterGroup,[{key:"render",value:function(){return React.createElement("section",{className:"parameter parameter-group "+(this.state.expanded?"v-expanded":"v-collapsed")},React.createElement("h3",null,React.createElement(Link,{onClick:this.toggleExpanded},this.props.param.label)),this.state.expanded?React.createElement(ParameterList,{params:this.props.param.params,value:this.props.value,path:this.props.path,onParameterChange:this.props.onParameterChange}):null)}},{key:"toggleExpanded",value:function(){this.setState({expanded:!this.state.expanded})}}]),ParameterGroup}(React.Component),ParameterGroup.propTypes={param:PropTypes.instanceOf(ParamGroup).isRequired,value:PropTypes.object.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onParameterChange:PropTypes.func},ParameterGroup.defaultProps={onParameterChange:noop},UnsupportedParameter=function(_ref){var param=_ref.param;return React.createElement("div",{className:"parameter parameter-unsupported"},"Unsupported parameter:"," ",param.label," ","(",React.createElement("code",null,param.constructor.name),")")},UnsupportedParameter.propTypes={param:React.PropTypes.instanceOf(Param).isRequired},EPSILON=1e-10,_regeneratorRuntime=function(module){return!function(global){function wrap(innerFn,outerFn,self,tryLocsList){var generator=Object.create((outerFn||Generator).prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AwaitArgument(arg){this.arg=arg}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value instanceof AwaitArgument?Promise.resolve(value.arg).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof process&&process.domain&&(invoke=process.domain.bind(invoke));var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(;;){var delegate=context.delegate;if(delegate){if("return"===method||"throw"===method&&delegate.iterator[method]===undefined){context.delegate=null;var returnMethod=delegate.iterator.return;if(returnMethod){var record=tryCatch(returnMethod,delegate.iterator,arg);if("throw"===record.type){method="throw",arg=record.arg;continue}}if("return"===method)continue}var record=tryCatch(delegate.iterator[method],delegate.iterator,arg);if("throw"===record.type){context.delegate=null,method="throw",arg=record.arg;continue}method="next",arg=undefined;var info=record.arg;if(!info.done)return state=GenStateSuspendedYield,info;context[delegate.resultName]=info.value,context.next=delegate.nextLoc,context.delegate=null}if("next"===method)context.sent=context._sent=arg;else if("throw"===method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,arg;context.dispatchException(arg)&&(method="next",arg=undefined)}else"return"===method&&context.abrupt("return",arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){state=context.done?GenStateCompleted:GenStateSuspendedYield;var info={value:record.arg,done:context.done};if(record.arg!==ContinueSentinel)return info;context.delegate&&"next"===method&&(arg=undefined)}else"throw"===record.type&&(state=GenStateCompleted,method="throw",arg=record.arg)}}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,hasOwn=Object.prototype.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},Gp=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return new AwaitArgument(arg)},defineIteratorMethods(AsyncIterator.prototype),runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[iteratorSymbol]=function(){return this},Gp[toStringTagSymbol]="Generator",Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?this.next=finallyEntry.finallyLoc:this.complete(record),ContinueSentinel},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=record.arg,this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc)},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},ContinueSentinel}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this),module.exports}({exports:{}}),Vector$1=function(){function Vector(init){if(_classCallCheck(this,Vector),"number"==typeof init)this.length=init;else{if(!Array.isArray(init))throw new TypeError("Vector: constructor argument must be a number or array");this.length=init.length;for(var i=0;i<this.length;i++)this[i]=init[i]}}return _createClass(Vector,[{key:"toString",value:function(){for(var r="[",i=0;i<this.length;i++)i>0&&(r+=", "),r+=this[i].toPrecision(3);return r+="]"}},{key:Symbol.iterator,value:_regeneratorRuntime.mark(function value(){var i;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<this.length)){_context.next=7;break}return _context.next=4,this[i];case 4:i++,_context.next=1;break;case 7:case"end":return _context.stop()}},value,this)})},{key:"zero",value:function(){return all(zero,this)}},{key:"equal",value:function(u){return Vector.equal(this,u)}},{key:"norm",value:function(){return Math.sqrt(this.normSquared())}},{key:"normSquared",value:function(){for(var r=0,i=0;i<this.length;i++)r+=this[i]*this[i];return r}},{key:"unit",value:function(){for(var r=new Vector(this.length),norm=this.norm(),i=0;i<r.length;i++)r[i]=this[i]/norm;return r}},{key:"add",value:function(u){return Vector.add(this,u)}},{key:"subtract",value:function(u){return Vector.subtract(this,u)}},{key:"scalarMul",value:function(s){return Vector.scalarMul(s,this)}},{key:"reverse",value:function(){return Vector.scalarMul(-1,this)}},{key:"dot",value:function(u){return Vector.dot(this,u)}},{key:"scalarProjection",value:function(u){return Vector.scalarProjection(this,u)}},{key:"vectorProjection",value:function(u){return Vector.vectorProjection(this,u)}},{key:"distance",value:function(u){return Vector.distance(this,u)}},{key:"parallel",value:function(u){return Vector.parallel(this,u)}},{key:"reflect",value:function(n){return this.subtract(n.scalarMul(2*this.dot(n)))}},{key:"matrixMul",value:function(m){if(this.length!==m.cols)throw new TypeError("Vector.matrixMul: size mismatch");for(var r=new Vector(m.rows),i=0;i<r.length;i++){r[i]=0;for(var j=0;j<this.length;j++)r[i]+=this[j]*m[i][j]}return r}},{key:"matrixMulExt",value:function(e,m){if(this.length+1!==m.cols)throw new TypeError("Vector.matrixMulExt: size mismatch");for(var r=new Vector(this.length),i=0;i<r.length;i++){r[i]=e*m[i][this.length];for(var j=0;j<this.length;j++)r[i]+=this[j]*m[i][j]}return r}},{key:"transformPos",value:function(m){return this.matrixMulExt(1,m)}},{key:"transformDir",value:function(m){return this.matrixMulExt(0,m)}},{key:"serialise",value:function(){return Array.from(this)}}],[{key:"equal",value:function(v1,v2){if(v1.length===v2.length){for(var i=0;i<v1.length;i++)if(!_equal(v1[i],v2[i]))return!1;return!0}return!1}},{key:"add",value:function(v1,v2){if(v1.length!==v2.length)throw new TypeError("Vector.add: vector length mismatch");for(var r=new Vector(v1.length),i=0;i<r.length;i++)r[i]=v1[i]+v2[i];return r}},{key:"subtract",value:function(v1,v2){if(v1.length!==v2.length)throw new TypeError("Vector.subtract: vector length mismatch");for(var r=new Vector(v1.length),i=0;i<r.length;i++)r[i]=v1[i]-v2[i];return r}},{key:"scalarMul",value:function(s,v){for(var r=new Vector(v.length),i=0;i<r.length;i++)r[i]=s*v[i];return r}},{key:"dot",value:function(v1,v2){if(v1.length!==v2.length)throw new TypeError("Vector.dot: vector length mismatch");for(var r=0,i=0;i<v1.length;i++)r+=v1[i]*v2[i];return r}},{key:"scalarProjection",value:function(u,v){return u.dot(v.unit())}},{key:"vectorProjection",value:function(u,v){var vUnit=v.unit();return vUnit.scalarMul(u.dot(vUnit))}},{key:"distance",value:function(v1,v2){if(v1.length!==v2.length)throw new TypeError("Vector.distance: vector length mismatch");for(var d2=0,i=0;i<v1.length;i++){var di=v2[i]-v1[i];d2+=di*di}return Math.sqrt(d2)}},{key:"parallel",value:function(u,v){var dot=u.unit().dot(v.unit());return _equal(dot,1)||_equal(dot,-1)}},{key:"unserialise",value:function(serialised){if(Array.isArray(serialised))return 2===serialised.length?new(Function.prototype.bind.apply(Vector2,[null].concat(_toConsumableArray(serialised)))):3===serialised.length?new(Function.prototype.bind.apply(Vector3,[null].concat(_toConsumableArray(serialised)))):new Vector(serialised);throw new TypeError("Vector.unserialise: serialised form must be an array")}}]),Vector}(),Vector2=function(_Vector){function Vector2(x,y){_classCallCheck(this,Vector2);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Vector2).call(this,2));return _this[0]=x,_this[1]=y,_this}return _inherits(Vector2,_Vector),_createClass(Vector2,[{key:Symbol.iterator,value:_regeneratorRuntime.mark(function value(){return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this[0];case 2:return _context2.next=4,this[1];case 4:case"end":return _context2.stop()}},value,this)})},{key:"zero",value:function(){return zero(this[0])&&zero(this[1])}},{key:"equal",value:function(u){return 2===u.length&&_equal(this[0],u[0])&&_equal(this[1],u[1])}},{key:"norm",value:function(){return Math.sqrt(this[0]*this[0]+this[1]*this[1])}},{key:"normSquared",value:function(){return this[0]*this[0]+this[1]*this[1]}},{key:"unit",
value:function(){var norm=Math.sqrt(this[0]*this[0]+this[1]*this[1]);return new Vector2(this[0]/norm,this[1]/norm)}},{key:"add",value:function(u){return new Vector2(this[0]+u[0],this[1]+u[1])}},{key:"subtract",value:function(u){return new Vector2(this[0]-u[0],this[1]-u[1])}},{key:"scalarMul",value:function(s){return new Vector2(s*this[0],s*this[1])}},{key:"reverse",value:function(){return new Vector2((-this[0]),(-this[1]))}},{key:"dot",value:function(u){return this[0]*u[0]+this[1]*u[1]}},{key:"scalarProjection",value:function(u){var norm=Math.sqrt(u[0]*u[0]+u[1]*u[1]);return(this[0]*u[0]+this[1]*u[1])/norm}},{key:"vectorProjection",value:function(u){var s=(this[0]*u[0]+this[1]*u[1])/(u[0]*u[0]+u[1]*u[1]);return new Vector2(s*u[0],s*u[1])}},{key:"distance",value:function(u){var dx=this[0]-u[0],dy=this[1]-u[1];return Math.sqrt(dx*dx+dy*dy)}},{key:"reflect",value:function(n){var s=2*(this[0]*n[0]+this[1]*n[1]);return new Vector2(this[0]-s*n[0],this[1]-s*n[1])}},{key:"matrixMul",value:function(m){return new Vector2(this[0]*m[0][0]+this[1]*m[0][1],this[0]*m[1][0]+this[1]*m[1][1])}},{key:"transformPos",value:function(m){return new Vector2(this[0]*m[0][0]+this[1]*m[0][1]+m[0][2],this[0]*m[1][0]+this[1]*m[1][1]+m[1][2])}},{key:"transformDir",value:function(m){return new Vector2(this[0]*m[0][0]+this[1]*m[0][1],this[0]*m[1][0]+this[1]*m[1][1])}}]),Vector2}(Vector$1),Vector3=function(_Vector2){function Vector3(x,y,z){_classCallCheck(this,Vector3);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(Vector3).call(this,3));return _this2[0]=x,_this2[1]=y,_this2[2]=z,_this2}return _inherits(Vector3,_Vector2),_createClass(Vector3,[{key:Symbol.iterator,value:_regeneratorRuntime.mark(function value(){return _regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this[0];case 2:return _context3.next=4,this[1];case 4:return _context3.next=6,this[2];case 6:case"end":return _context3.stop()}},value,this)})},{key:"zero",value:function(){return zero(this[0])&&zero(this[1])&&zero(this[2])}},{key:"equal",value:function(u){return 3===u.length&&_equal(this[0],u[0])&&_equal(this[1],u[1])&&_equal(this[2],u[2])}},{key:"norm",value:function(){return Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2])}},{key:"normSquared",value:function(){return this[0]*this[0]+this[1]*this[1]+this[2]*this[2]}},{key:"unit",value:function(){var norm=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]);return new Vector3(this[0]/norm,this[1]/norm,this[2]/norm)}},{key:"add",value:function(u){return new Vector3(this[0]+u[0],this[1]+u[1],this[2]+u[2])}},{key:"subtract",value:function(u){return new Vector3(this[0]-u[0],this[1]-u[1],this[2]-u[2])}},{key:"scalarMul",value:function(s){return new Vector3(s*this[0],s*this[1],s*this[2])}},{key:"reverse",value:function(){return new Vector3((-this[0]),(-this[1]),(-this[2]))}},{key:"dot",value:function(u){return this[0]*u[0]+this[1]*u[1]+this[2]*u[2]}},{key:"scalarProjection",value:function(u){var norm=Math.sqrt(u[0]*u[0]+u[1]*u[1]+u[2]*u[2]);return(this[0]*u[0]+this[1]*u[1]+this[2]*u[2])/norm}},{key:"vectorProjection",value:function(u){var s=(this[0]*u[0]+this[1]*u[1]+this[2]*u[2])/(u[0]*u[0]+u[1]*u[1]+u[2]*u[2]);return new Vector3(s*u[0],s*u[1],s*u[2])}},{key:"distance",value:function(u){var dx=this[0]-u[0],dy=this[1]-u[1],dz=this[2]-u[2];return Math.sqrt(dx*dx+dy*dy+dz*dz)}},{key:"reflect",value:function(n){var s=2*(this[0]*n[0]+this[1]*n[1]+this[2]*n[2]);return new Vector3(this[0]-s*n[0],this[1]-s*n[1],this[2]-s*n[2])}},{key:"matrixMul",value:function(m){return new Vector3(this[0]*m[0][0]+this[1]*m[0][1]+this[2]*m[0][2],this[0]*m[1][0]+this[1]*m[1][1]+this[2]*m[1][2],this[0]*m[2][0]+this[1]*m[2][1]+this[2]*m[2][2])}},{key:"transformPos",value:function(m){return new Vector3(this[0]*m[0][0]+this[1]*m[0][1]+this[2]*m[0][2]+m[0][3],this[0]*m[1][0]+this[1]*m[1][1]+this[2]*m[1][2]+m[1][3],this[0]*m[2][0]+this[1]*m[2][1]+this[2]*m[2][2]+m[2][3])}},{key:"transformDir",value:function(m){return new Vector3(this[0]*m[0][0]+this[1]*m[0][1]+this[2]*m[0][2],this[0]*m[1][0]+this[1]*m[1][1]+this[2]*m[1][2],this[0]*m[2][0]+this[1]*m[2][1]+this[2]*m[2][2])}},{key:"cross",value:function(u){return new Vector3(this[1]*u[2]-this[2]*u[1],this[2]*u[0]-this[0]*u[2],this[0]*u[1]-this[1]*u[0])}}],[{key:"cross",value:function(u,v){return new Vector3(u[1]*v[2]-u[2]*v[1],u[2]*v[0]-u[0]*v[2],u[0]*v[1]-u[1]*v[0])}}]),Vector3}(Vector$1),Origin3D=new Vector3(0,0,0),XAxis3D=new Vector3(1,0,0),YAxis3D=new Vector3(0,1,0),ZAxis3D=new Vector3(0,0,1),NegXAxis3D=new Vector3((-1),0,0),NegYAxis3D=new Vector3(0,(-1),0),NegZAxis3D=new Vector3(0,0,(-1)),Matrix$1=function(){function Matrix(){if(_classCallCheck(this,Matrix),1===arguments.length&&"number"==typeof arguments[0]){this.rows=arguments[0],this.cols=arguments[0];for(var i=0;i<this.rows;i++)this[i]=new Array(this.cols)}else if(2===arguments.length&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){this.rows=arguments[0],this.cols=arguments[1];for(var _i=0;_i<this.rows;_i++)this[_i]=new Array(this.cols)}else if(1===arguments.length){this.rows=arguments[0].length,this.cols=arguments[0][0].length;for(var _i2=0;_i2<this.rows;_i2++){this[_i2]=new Array(this.cols);for(var j=0;j<this.cols;j++)this[_i2][j]=arguments[0][_i2][j]}}else{this.rows=arguments.length,this.cols=arguments[0].length;for(var _i3=0;_i3<this.rows;_i3++){this[_i3]=new Array(this.cols);for(var _j=0;_j<this.cols;_j++)this[_i3][_j]=arguments[_i3][_j]}}}return _createClass(Matrix,[{key:"toString",value:function(){for(var r="[",i=0;i<this.rows;i++){i>0&&(r+=" || ");for(var j=0;j<this.rows;j++)j>0&&(r+=", "),r+=this[i][j].toPrecision(3)}return r+="]"}},{key:"add",value:function(m2){return Matrix.add(this,m2)}},{key:"subtract",value:function(m2){return Matrix.subtract(this,m2)}},{key:"multiply",value:function(m2){return Matrix.multiply(this,m2)}},{key:"premultiply",value:function(m2){return Matrix.multiply(m2,this)}},{key:"scalarMul",value:function(s){return Matrix.scalarMul(s,this)}},{key:"transpose",value:function(){for(var r=new Matrix(this.cols,this.rows),i=0;i<this.rows;i++)for(var j=0;j<this.cols;j++)r[j][i]=this[i][j];return r}},{key:"isSquare",value:function(){return this.rows===this.cols}},{key:"determinant",value:function(){if(this.rows!==this.cols)throw new TypeError("Matrix.determinant: matrix is not square");if(2===this.rows)return this[0][0]*this[1][1]-this[0][1]*this[1][0];if(3===this.rows)return this[0][0]*this[1][1]*this[2][2]-this[0][0]*this[1][2]*this[2][1]-this[0][1]*this[1][0]*this[2][2]+this[0][1]*this[1][2]*this[2][0]+this[0][2]*this[1][0]*this[2][1]-this[0][2]*this[1][1]*this[2][0];if(4===this.rows)return this[0][0]*(this[1][1]*this[2][2]*this[3][3]+this[1][2]*this[2][3]*this[3][1]+this[1][3]*this[2][1]*this[3][2]-this[1][1]*this[2][3]*this[3][2]-this[1][2]*this[2][1]*this[3][3]-this[1][3]*this[2][2]*this[3][1])+this[0][1]*(this[1][0]*this[2][3]*this[3][2]+this[1][2]*this[2][0]*this[3][3]+this[1][3]*this[2][2]*this[3][0]-this[1][0]*this[2][2]*this[3][3]-this[1][2]*this[2][3]*this[3][0]-this[1][3]*this[2][0]*this[3][2])+this[0][2]*(this[1][0]*this[2][1]*this[3][3]+this[1][1]*this[2][3]*this[3][0]+this[1][3]*this[2][2]*this[3][0]-this[1][0]*this[2][3]*this[3][1]-this[1][1]*this[2][0]*this[3][3]-this[1][3]*this[2][1]*this[3][0])+this[0][3]*(this[1][0]*this[2][2]*this[3][1]+this[1][1]*this[2][0]*this[3][2]+this[1][2]*this[2][1]*this[3][0]-this[1][0]*this[2][1]*this[3][2]-this[1][1]*this[2][2]*this[3][0]-this[1][2]*this[2][0]*this[3][1]);throw new TypeError("Matrix.determinant: matrices larger than 4x4 not supported")}},{key:"isSingular",value:function(){return zero(this.determinant())}},{key:"inverse",value:function(){if(this.rows!==this.cols)throw new TypeError("Matrix.inverse: matrix is not square");var determinant=this.determinant();if(zero(determinant))throw new TypeError("Matrix.inverse: matrix is singular");var r=new Matrix(this.rows,this.cols);if(2===this.rows)r[0][0]=this[1][1],r[0][1]=-this[0][1],r[1][0]=-this[1][0],r[1][1]=this[0][0];else if(3===this.rows)r[0][0]=this[1][1]*this[2][2]-this[1][2]*this[2][1],r[0][1]=this[0][2]*this[2][1]-this[0][1]*this[2][2],r[0][2]=this[0][1]*this[1][2]-this[0][2]*this[1][1],r[1][0]=this[1][2]*this[2][0]-this[1][0]*this[2][2],r[1][1]=this[0][0]*this[2][2]-this[0][2]*this[2][0],r[1][2]=this[0][2]*this[1][0]-this[0][0]*this[1][2],r[2][0]=this[1][0]*this[2][1]-this[1][1]*this[2][0],r[2][1]=this[0][1]*this[2][0]-this[0][0]*this[2][1],r[2][2]=this[0][0]*this[1][1]-this[0][1]*this[1][0];else{if(4!==this.rows)throw new TypeError("Matrix.inverse: matrices larger than 4x4 not supported");r[0][0]=this[1][1]*(this[2][2]*this[3][3]-this[2][3]*this[3][2])+this[1][2]*(this[2][3]*this[3][1]-this[2][1]*this[3][3])+this[1][3]*(this[2][1]*this[3][2]-this[2][2]*this[3][1]),r[0][1]=this[0][1]*(this[2][3]*this[3][2]-this[2][2]*this[3][3])+this[0][2]*(this[2][1]*this[3][3]-this[2][3]*this[3][1])+this[0][3]*(this[2][2]*this[3][1]-this[2][1]*this[3][2]),r[0][2]=this[0][1]*(this[1][2]*this[3][3]-this[1][3]*this[3][2])+this[0][2]*(this[1][3]*this[3][1]-this[1][1]*this[3][3])+this[0][3]*(this[1][1]*this[3][2]-this[1][2]*this[3][1]),r[0][3]=this[0][1]*(this[1][3]*this[2][2]-this[1][2]*this[2][3])+this[0][2]*(this[1][1]*this[2][3]-this[1][3]*this[2][1])+this[0][3]*(this[1][2]*this[2][1]-this[1][1]*this[2][2]),r[1][0]=this[1][0]*(this[2][3]*this[3][2]-this[2][2]*this[3][3])+this[1][2]*(this[2][0]*this[3][3]-this[2][3]*this[3][0])+this[1][3]*(this[2][2]*this[3][0]-this[2][0]*this[3][2]),r[1][1]=this[0][0]*(this[2][2]*this[3][3]-this[2][3]*this[3][2])+this[0][2]*(this[2][3]*this[3][0]-this[2][0]*this[3][3])+this[0][3]*(this[2][0]*this[3][2]-this[2][2]*this[3][0]),r[1][2]=this[0][0]*(this[1][3]*this[3][2]-this[1][2]*this[3][3])+this[0][2]*(this[1][0]*this[3][3]-this[1][3]*this[3][0])+this[0][3]*(this[1][2]*this[3][0]-this[1][0]*this[3][2]),r[1][3]=this[0][0]*(this[1][2]*this[2][3]-this[1][3]*this[2][2])+this[0][2]*(this[1][3]*this[2][0]-this[1][0]*this[2][3])+this[0][3]*(this[1][0]*this[2][2]-this[1][2]*this[2][0]),r[2][0]=this[1][0]*(this[2][1]*this[3][3]-this[2][3]*this[3][1])+this[1][1]*(this[2][3]*this[3][0]-this[2][0]*this[3][3])+this[1][3]*(this[2][0]*this[3][1]-this[2][1]*this[3][0]),r[2][1]=this[0][0]*(this[2][3]*this[3][1]-this[2][1]*this[3][3])+this[0][1]*(this[2][0]*this[3][3]-this[2][3]*this[3][0])+this[0][3]*(this[2][1]*this[3][0]-this[2][0]*this[3][1]),r[2][2]=this[0][0]*(this[1][1]*this[3][3]-this[1][3]*this[3][1])+this[0][1]*(this[1][3]*this[3][0]-this[1][0]*this[3][3])+this[0][3]*(this[1][0]*this[3][1]-this[1][1]*this[3][0]),r[2][3]=this[0][0]*(this[1][3]*this[2][1]-this[1][1]*this[2][3])+this[0][1]*(this[1][0]*this[2][3]-this[1][3]*this[2][0])+this[0][3]*(this[1][1]*this[2][0]-this[1][0]*this[2][1]),r[3][0]=this[1][0]*(this[2][2]*this[3][1]-this[2][1]*this[3][2])+this[1][1]*(this[2][0]*this[3][2]-this[2][2]*this[3][0])+this[1][2]*(this[2][1]*this[3][0]-this[2][0]*this[3][1]),r[3][1]=this[0][0]*(this[2][1]*this[3][2]-this[2][2]*this[3][1])+this[0][1]*(this[2][2]*this[3][0]-this[2][0]*this[3][2])+this[0][2]*(this[2][0]*this[3][1]-this[2][1]*this[3][0]),r[3][2]=this[0][0]*(this[1][2]*this[3][1]-this[1][1]*this[3][2])+this[0][1]*(this[1][0]*this[3][2]-this[1][2]*this[3][0])+this[0][2]*(this[1][1]*this[3][0]-this[1][0]*this[3][1]),r[3][3]=this[0][0]*(this[1][1]*this[2][2]-this[1][2]*this[2][1])+this[0][1]*(this[1][2]*this[2][0]-this[1][0]*this[2][2])+this[0][2]*(this[1][0]*this[2][1]-this[1][1]*this[2][0])}for(var i=0;i<r.rows;i++)for(var j=0;j<r.cols;j++)r[i][j]/=determinant;return r}},{key:"serialise",value:function(){return Array.from(Object.assign({length:this.rows},this))}}],[{key:"add",value:function(m1,m2){if(m1.rows!==m2.rows||m1.cols!==m2.cols)throw new TypeError("Matrix.add: matrix size mismatch");for(var r=new Matrix(m1.rows,m1.cols),i=0;i<r.rows;i++)for(var j=0;j<r.cols;j++)r[i][j]=m1[i][j]+m2[i][j];return r}},{key:"subtract",value:function(m1,m2){if(m1.rows!==m2.rows||m1.cols!==m2.cols)throw new TypeError("Matrix.subtract: matrix size mismatch");for(var r=new Matrix(m1.rows,m1.cols),i=0;i<r.rows;i++)for(var j=0;j<r.cols;j++)r[i][j]=m1[i][j]-m2[i][j];return r}},{key:"multiply",value:function(m1,m2){if(m1.cols!==m2.rows)throw new TypeError("Matrix.multiply: matrix size mismatch");for(var r=new Matrix(m1.rows,m2.cols),i=0;i<m1.rows;i++)for(var j=0;j<m2.cols;j++){r[i][j]=0;for(var k=0;k<m1.cols;k++)r[i][j]+=m1[i][k]*m2[k][j]}return r}},{key:"scalarMul",value:function(s,m){for(var r=new Matrix(m.rows,m.cols),i=0;i<r.rows;i++)for(var j=0;j<r.cols;j++)r[i][j]=s*m[i][j];return r}},{key:"identity",value:function(size){for(var r=new Matrix(size),i=0;i<size;i++)for(var j=0;j<size;j++)r[i][j]=i===j?1:0;return r}},{key:"unserialise",value:function(serialised){if(Array.isArray(serialised))return new Matrix(serialised);throw new TypeError("Matrix.unserialise: serialised form must be an array")}}]),Matrix}(),Identity2=Matrix$1.identity(2),Identity3=Matrix$1.identity(3),Identity4=Matrix$1.identity(4),RGB$1=function(){function RGB(r,g,b){_classCallCheck(this,RGB),this.r=r,this.g=g,this.b=b}return _createClass(RGB,[{key:"toString",value:function(){return"{RGB "+this.r.toPrecision(3)+", "+this.g.toPrecision(3)+", "+this.b.toPrecision(3)+"}"}},{key:"alpha",value:function(){return 1}},{key:"clamp",value:function(){return new RGB(clamp(this.r,0,1),clamp(this.g,0,1),clamp(this.b,0,1))}},{key:"transparent",value:function(alpha){return new RGBA(this.r,this.g,this.b,this.alpha()*alpha)}},{key:"htmlString",value:function(){return"#"+hexChannel(this.r)+hexChannel(this.g)+hexChannel(this.b)}}],[{key:"fromHtmlString",value:function(s){if("string"==typeof s){var match=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(s);if(match){var r=parseInt(match[1],16)/255,g=parseInt(match[2],16)/255,b=parseInt(match[3],16)/255;return new RGB(r,g,b)}throw new TypeError("RGB.fromHtmlString(): argument is not a valid HTML simple colour string")}throw new TypeError("RGB.fromHtmlString(): argument is not a string")}}]),RGB}(),RGBA=function(_RGB){function RGBA(r,g,b,a){_classCallCheck(this,RGBA);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(RGBA).call(this,r,g,b));return _this.a=a,_this}return _inherits(RGBA,_RGB),_createClass(RGBA,[{key:"toString",value:function(){return"{RGB "+this.r.toPrecision(3)+", "+this.g.toPrecision(3)+", "+this.b.toPrecision(3)+", "+this.a.toPrecision(3)+"}"}},{key:"alpha",value:function(){return this.a}},{key:"clamp",value:function(){return new RGBA(clamp(this.r,0,1),clamp(this.g,0,1),clamp(this.b,0,1),clamp(this.a,0,1))}}]),RGBA}(RGB$1),Black=new RGBA(0,0,0,1),White=new RGBA(1,1,1,1),Red=new RGBA(1,0,0,1),Green=new RGBA(0,1,0,1),Blue=new RGBA(0,0,1,1),Cyan=new RGBA(0,1,1,1),Magenta=new RGBA(1,0,1,1),Yellow=new RGBA(1,1,0,1),TransBlack=new RGBA(0,0,0,0),TransWhite=new RGBA(1,1,1,0),_Boolean=function(_Param){function Boolean(){var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref.id,label=_ref.label,_ref$defaultValue=_ref.defaultValue,defaultValue=void 0!==_ref$defaultValue&&_ref$defaultValue;return _classCallCheck(this,Boolean),_possibleConstructorReturn(this,Object.getPrototypeOf(Boolean).call(this,{id:id,label:label,defaultValue:defaultValue}))}return _inherits(Boolean,_Param),_createClass(Boolean,[{key:"interpretValue",value:function(serialised){if("boolean"==typeof serialised)return serialised;throw new TypeError("$(this.constructor.name} parameter: value must be a boolean")}}]),Boolean}(Param),Choice=function(_Param2){function Choice(){var _ref2=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref2.id,label=_ref2.label,_ref2$defaultValue=_ref2.defaultValue,defaultValue=void 0===_ref2$defaultValue?options[0].value:_ref2$defaultValue,_ref2$options=_ref2.options,options=void 0===_ref2$options?[]:_ref2$options;_classCallCheck(this,Choice);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(Choice).call(this,{id:id,label:label,defaultValue:defaultValue}));return Object.assign(_this2,{options:options}),_this2}return _inherits(Choice,_Param2),Choice}(Param),_Number=function(_Param3){function Number(){var _ref3=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref3.id,label=_ref3.label,defaultValue=_ref3.defaultValue,_ref3$min=_ref3.min,min=void 0===_ref3$min?-(1/0):_ref3$min,_ref3$max=_ref3.max,max=void 0===_ref3$max?1/0:_ref3$max,_ref3$uiStep=_ref3.uiStep,uiStep=void 0===_ref3$uiStep?.01:_ref3$uiStep;_classCallCheck(this,Number);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(Number).call(this,{id:id,label:label,defaultValue:defaultValue}));return Object.assign(_this3,{min:min,max:max,uiStep:uiStep}),_this3}return _inherits(Number,_Param3),_createClass(Number,[{key:"interpretValue",value:function(serialised){if("number"==typeof serialised)return clamp(serialised,this.min,this.max);throw new TypeError(this.constructor.name+" parameter: value must be a number")}}]),Number}(Param),Integer=function(_Number){function Integer(){var _ref4=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref4.id,label=_ref4.label,defaultValue=_ref4.defaultValue,_ref4$min=_ref4.min,min=void 0===_ref4$min?-(1/0):_ref4$min,_ref4$max=_ref4.max,max=void 0===_ref4$max?1/0:_ref4$max,_ref4$uiStep=_ref4.uiStep,uiStep=void 0===_ref4$uiStep?1:_ref4$uiStep;return _classCallCheck(this,Integer),_possibleConstructorReturn(this,Object.getPrototypeOf(Integer).call(this,{id:id,label:label,defaultValue:defaultValue,min:min,max:max,uiStep:uiStep}))}return _inherits(Integer,_Number),_createClass(Integer,[{key:"interpretValue",value:function(serialised){if("number"==typeof serialised)return clamp(Math.round(serialised),this.min,this.max);throw new TypeError(this.constructor.name+" parameter: value must be a number")}}]),Integer}(_Number),Angle=function(_Number2){function Angle(){var _ref5=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref5.id,label=_ref5.label,defaultValue=_ref5.defaultValue,_ref5$min=_ref5.min,min=void 0===_ref5$min?-(1/0):_ref5$min,_ref5$max=_ref5.max,max=void 0===_ref5$max?1/0:_ref5$max,_ref5$uiStep=_ref5.uiStep,uiStep=void 0===_ref5$uiStep?deg2rad(uiStepDeg):_ref5$uiStep,_ref5$uiStepDeg=_ref5.uiStepDeg,uiStepDeg=void 0===_ref5$uiStepDeg?5:_ref5$uiStepDeg;_classCallCheck(this,Angle);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(Angle).call(this,{id:id,label:label,defaultValue:defaultValue,min:min,max:max,uiStep:uiStep}));return Object.assign(_this5,{uiStepDeg:uiStepDeg}),_this5}return _inherits(Angle,_Number2),Angle}(_Number),RGB=function(_Param4){function RGB(){return _classCallCheck(this,RGB),_possibleConstructorReturn(this,Object.getPrototypeOf(RGB).apply(this,arguments))}return _inherits(RGB,_Param4),_createClass(RGB,[{key:"interpretValue",value:function(serialised){return RGB$1.fromHtmlString(serialised)}},{key:"defaultValueSerialised",value:function(){return this.defaultValue.htmlString()}}]),RGB}(Param),Vector=function(_Param5){function Vector(){var _ref6=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref6.id,label=_ref6.label,defaultValue=_ref6.defaultValue,_ref6$length=_ref6.length,length=void 0===_ref6$length?3:_ref6$length,_ref6$uiStep=_ref6.uiStep,uiStep=void 0===_ref6$uiStep?.01:_ref6$uiStep,uiElementLabels=_ref6.uiElementLabels;_classCallCheck(this,Vector);var _this7=_possibleConstructorReturn(this,Object.getPrototypeOf(Vector).call(this,{id:id,label:label,defaultValue:defaultValue}));return Object.assign(_this7,{length:length,uiStep:uiStep,uiElementLabels:uiElementLabels}),_this7}return _inherits(Vector,_Param5),_createClass(Vector,[{key:"interpretValue",value:function(serialised){if(Array.isArray(serialised)&&serialised.length===this.length)return Vector$1.unserialise(serialised);throw new TypeError(this.constructor.name+" parameter: value must be an array of length "+this.length)}},{key:"defaultValueSerialised",value:function(){return this.defaultValue.serialise()}}]),Vector}(Param),Matrix=function(_Param6){function Matrix(){var _ref7=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref7.id,label=_ref7.label,defaultValue=_ref7.defaultValue,_ref7$rows=_ref7.rows,rows=void 0===_ref7$rows?4:_ref7$rows,_ref7$cols=_ref7.cols,cols=void 0===_ref7$cols?4:_ref7$cols;_classCallCheck(this,Matrix);var _this8=_possibleConstructorReturn(this,Object.getPrototypeOf(Matrix).call(this,{id:id,label:label,defaultValue:defaultValue}));return Object.assign(_this8,{rows:rows,cols:cols}),_this8}return _inherits(Matrix,_Param6),_createClass(Matrix,[{key:"interpretValue",value:function(serialised){var _this9=this;if(Array.isArray(serialised)&&serialised.length===this.rows&&all(function(r){return Array.isArray(r)&&r.length===_this9.cols},serialised))return Matrix$1.unserialise(serialised);throw new TypeError(this.constructor.name+" parameter: value must be a "+this.rows+"×"+this.cols+" 2D array")}},{key:"defaultValueSerialised",value:function(){return this.defaultValue.serialise()}}]),Matrix}(Param),Transform2D=function(_Matrix){function Transform2D(){var _ref8=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref8.id,label=_ref8.label,_ref8$defaultValue=_ref8.defaultValue,defaultValue=void 0===_ref8$defaultValue?Identity3:_ref8$defaultValue,_ref8$uiRotate=_ref8.uiRotate,uiRotate=void 0===_ref8$uiRotate||_ref8$uiRotate,_ref8$uiTranslate=_ref8.uiTranslate,uiTranslate=void 0===_ref8$uiTranslate||_ref8$uiTranslate,_ref8$uiScaleUniform=_ref8.uiScaleUniform,uiScaleUniform=void 0===_ref8$uiScaleUniform||_ref8$uiScaleUniform,_ref8$uiScaleNonUnifo=_ref8.uiScaleNonUniform,uiScaleNonUniform=void 0===_ref8$uiScaleNonUnifo||_ref8$uiScaleNonUnifo,_ref8$uiInvertRotate=_ref8.uiInvertRotate,uiInvertRotate=void 0!==_ref8$uiInvertRotate&&_ref8$uiInvertRotate,_ref8$uiInvertTransla=_ref8.uiInvertTranslate,uiInvertTranslate=void 0!==_ref8$uiInvertTransla&&_ref8$uiInvertTransla,_ref8$uiInvertScale=_ref8.uiInvertScale,uiInvertScale=void 0!==_ref8$uiInvertScale&&_ref8$uiInvertScale;_classCallCheck(this,Transform2D);var _this10=_possibleConstructorReturn(this,Object.getPrototypeOf(Transform2D).call(this,{id:id,label:label,defaultValue:defaultValue,rows:3,cols:3}));return Object.assign(_this10,{uiRotate:uiRotate,uiTranslate:uiTranslate,uiScaleUniform:uiScaleUniform,uiScaleNonUniform:uiScaleNonUniform,uiInvertRotate:uiInvertRotate,uiInvertTranslate:uiInvertTranslate,uiInvertScale:uiInvertScale}),_this10}return _inherits(Transform2D,_Matrix),Transform2D}(Matrix),Transform3D=function(_Matrix2){function Transform3D(){var _ref9=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref9.id,label=_ref9.label,_ref9$defaultValue=_ref9.defaultValue,defaultValue=void 0===_ref9$defaultValue?Identity4:_ref9$defaultValue,_ref9$uiRotate=_ref9.uiRotate,uiRotate=void 0===_ref9$uiRotate||_ref9$uiRotate,_ref9$uiTranslate=_ref9.uiTranslate,uiTranslate=void 0===_ref9$uiTranslate||_ref9$uiTranslate,_ref9$uiScaleUniform=_ref9.uiScaleUniform,uiScaleUniform=void 0===_ref9$uiScaleUniform||_ref9$uiScaleUniform,_ref9$uiScaleNonUnifo=_ref9.uiScaleNonUniform,uiScaleNonUniform=void 0===_ref9$uiScaleNonUnifo||_ref9$uiScaleNonUnifo,_ref9$uiInvertRotate=_ref9.uiInvertRotate,uiInvertRotate=void 0!==_ref9$uiInvertRotate&&_ref9$uiInvertRotate,_ref9$uiInvertTransla=_ref9.uiInvertTranslate,uiInvertTranslate=void 0!==_ref9$uiInvertTransla&&_ref9$uiInvertTransla,_ref9$uiInvertScale=_ref9.uiInvertScale,uiInvertScale=void 0!==_ref9$uiInvertScale&&_ref9$uiInvertScale;_classCallCheck(this,Transform3D);var _this11=_possibleConstructorReturn(this,Object.getPrototypeOf(Transform3D).call(this,{id:id,label:label,defaultValue:defaultValue,rows:4,cols:4}));return Object.assign(_this11,{uiRotate:uiRotate,uiTranslate:uiTranslate,uiScaleUniform:uiScaleUniform,uiScaleNonUniform:uiScaleNonUniform,uiInvertRotate:uiInvertRotate,uiInvertTranslate:uiInvertTranslate,uiInvertScale:uiInvertScale}),_this11}return _inherits(Transform3D,_Matrix2),Transform3D}(Matrix),RandomSeed=function(_Param7){function RandomSeed(){var _ref10=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],id=_ref10.id,label=_ref10.label,_ref10$defaultValue=_ref10.defaultValue,defaultValue=void 0===_ref10$defaultValue?null:_ref10$defaultValue;return _classCallCheck(this,RandomSeed),_possibleConstructorReturn(this,Object.getPrototypeOf(RandomSeed).call(this,{id:id,label:label,defaultValue:defaultValue}))}return _inherits(RandomSeed,_Param7),_createClass(RandomSeed,[{key:"interpretValue",value:function(serialised){if("number"==typeof serialised)return Math.round(serialised);if(null===serialised)return null;throw new TypeError("$(this.constructor.name} parameter: value must be a number or null")}}]),RandomSeed}(Param),BooleanParameter=function(_ref){var param=_ref.param,value=_ref.value,_ref$onChange=(_ref.path,_ref.onChange),_onChange=void 0===_ref$onChange?noop:_ref$onChange;return React.createElement("div",{className:"parameter parameter-boolean"},React.createElement("label",null,React.createElement("span",{className:"p-checkbox"},React.createElement("input",{type:"checkbox",value:"true",checked:value,onChange:function(event){return _onChange(event.target.checked)}}))," ",React.createElement("span",{className:"p-label"},param.label)))},BooleanParameter.propTypes={param:PropTypes.instanceOf(_Boolean).isRequired,value:PropTypes.bool.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},ChoiceParameter=function(_ref){var param=_ref.param,value=_ref.value,path=_ref.path,_ref$onChange=_ref.onChange,_onChange=void 0===_ref$onChange?noop:_ref$onChange,inputName=idFromPath(path)+"/options";return React.createElement("div",{className:"parameter parameter-choice"},React.createElement("p",{className:"p-label"},param.label),React.createElement("ul",{className:"p-input"},param.options.map(function(option){return React.createElement("li",{key:option.value},React.createElement("label",null,React.createElement("span",{className:"p-checkbox"},React.createElement("input",{type:"radio",name:inputName,value:option.value,checked:option.value===value,onChange:function(event){event.target.checked&&_onChange(option.value)}}))," ",React.createElement("span",{className:"p-label"},option.label)))})))},ChoiceParameter.propTypes={param:PropTypes.instanceOf(Choice).isRequired,value:PropTypes.any.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},NumberParameter=function(_ref){var param=_ref.param,value=_ref.value,onChange=(_ref.path,_ref.onChange);return React.createElement("div",{className:"parameter parameter-number"},React.createElement("label",null,React.createElement("span",{className:"p-label"},param.label)," ",React.createElement("span",{className:"p-input"},React.createElement(NumberInput,{value:value,min:param.min,max:param.max,step:param.uiStep,onChange:onChange}))))},NumberParameter.propTypes={param:PropTypes.instanceOf(_Number).isRequired,value:PropTypes.number.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},IntegerParameter=function(_ref){var param=_ref.param,value=_ref.value,_ref$onChange=(_ref.path,_ref.onChange),_onChange=void 0===_ref$onChange?noop:_ref$onChange;return React.createElement("div",{className:"parameter parameter-number parameter-integer"},React.createElement("label",null,React.createElement("span",{className:"p-label"},param.label)," ",React.createElement("span",{className:"p-input"},React.createElement(NumberInput,{value:value,min:param.min,max:param.max,step:1,onChange:function(value){return _onChange(Math.round(value))}}))))},IntegerParameter.propTypes={param:PropTypes.instanceOf(Integer).isRequired,value:PropTypes.number.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},AngleParameter=function(_ref){var param=_ref.param,value=_ref.value,_ref$onChange=(_ref.path,_ref.onChange),_onChange=void 0===_ref$onChange?noop:_ref$onChange;return React.createElement("div",{className:"parameter parameter-number parameter-angle"},React.createElement("label",null,React.createElement("span",{className:"p-label"},param.label)," ",React.createElement("span",{className:"p-input"},React.createElement(NumberInput,{value:rad2degDisplay(value),min:rad2deg(param.min),max:rad2deg(param.max),step:param.uiStepDeg,onChange:function(value){return _onChange(deg2rad(value))}}),"°")))},AngleParameter.propTypes={param:PropTypes.instanceOf(Angle).isRequired,value:PropTypes.number.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},VectorParameter=function(_ref){var param=_ref.param,value=_ref.value,_ref$onChange=(_ref.path,_ref.onChange),_onChange=void 0===_ref$onChange?noop:_ref$onChange;return React.createElement("div",{className:"parameter parameter-vector parameter-vector-length-"+param.length},React.createElement("div",{className:"p-label"},param.label)," ",React.createElement("ol",{className:"p-input"},value.map(function(elementValue,index){return React.createElement("li",{key:index},React.createElement("label",null,param.uiElementLabels?param.uiElementLabels[index]:index," ",React.createElement(NumberInput,{value:elementValue,step:param.uiStep,onChange:function(v){return _onChange(replaceElement(value,index,v))}})))})))},VectorParameter.propTypes={param:PropTypes.instanceOf(Vector).isRequired,value:PropTypes.arrayOf(PropTypes.number.isRequired).isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},ROTATION_STEP_DEG=5,ROTATION_STEP=deg2rad(ROTATION_STEP_DEG),TRANSLATION_STEP=.1,SCALE_STEP_INC=1.1,SCALE_STEP_DEC=1/SCALE_STEP_INC,TRANSFORMS={rotatePos:rotate2D(+ROTATION_STEP),rotateNeg:rotate2D(-ROTATION_STEP),translateXPos:translate2D(+TRANSLATION_STEP,0),translateXNeg:translate2D(-TRANSLATION_STEP,0),translateYPos:translate2D(0,+TRANSLATION_STEP),translateYNeg:translate2D(0,-TRANSLATION_STEP),scaleUniformInc:scale2D(SCALE_STEP_INC),scaleUniformDec:scale2D(SCALE_STEP_DEC),scaleXInc:scale2D(SCALE_STEP_INC,1),scaleXDec:scale2D(SCALE_STEP_DEC,1),scaleYInc:scale2D(1,SCALE_STEP_INC),scaleYDec:scale2D(1,SCALE_STEP_DEC)},rotateControls=function(transform,inverted){var CW=inverted?"acw":"cw",ACW=inverted?"cw":"acw",CLOCKWISE=inverted?"Anti-clockwise":"Clockwise",ANTICLOCKWISE=inverted?"Clockwise":"Anti-clockwise";return React.createElement("li",{className:"p-rotate"},React.createElement("p",null,"Rotate"),React.createElement("ul",null,React.createElement("li",{className:rotationClass(ACW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.rotatePos)},title:rotationLabel(ANTICLOCKWISE)},ANTICLOCKWISE)),React.createElement("li",{className:rotationClass(CW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.rotateNeg)},title:rotationLabel(CLOCKWISE)},CLOCKWISE))))},translateControls=function(transform,inverted){var POS=inverted?"neg":"pos",NEG=inverted?"pos":"neg",POSITIVE=inverted?"negative":"positive",NEGATIVE=inverted?"positive":"negative";return React.createElement("li",{className:"p-translate"},React.createElement("p",null,"Translate"),React.createElement("ul",null,React.createElement("li",{className:translationClass("x",POS)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.translateXPos)},title:translationLabel("X",POSITIVE)},"X ",POSITIVE)),React.createElement("li",{className:translationClass("x",NEG)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.translateXNeg)},title:translationLabel("X",NEGATIVE)},"X ",NEGATIVE)),React.createElement("li",{className:translationClass("y",POS)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.translateYPos)},title:translationLabel("Y",POSITIVE)},"Y ",POSITIVE)),React.createElement("li",{className:translationClass("y",NEG)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.translateYNeg)},title:translationLabel("Y",NEGATIVE)
},"Y ",NEGATIVE))))},scaleUniformControls=function(transform,inverted){var INC=inverted?"dec":"inc",DEC=inverted?"inc":"dec",INCREASE=inverted?"Decrease":"Increase",DECREASE=inverted?"Increase":"Decrease",INC_FACTOR=inverted?SCALE_STEP_DEC:SCALE_STEP_INC,DEC_FACTOR=inverted?SCALE_STEP_INC:SCALE_STEP_DEC;return React.createElement("li",{className:"p-scale-uniform"},React.createElement("p",null,"Scale"),React.createElement("ul",null,React.createElement("li",{className:"p-scale-uniform-"+INC},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.scaleUniformInc)},title:scaleUniformLabel(INC_FACTOR)},INCREASE)),React.createElement("li",{className:"p-scale-uniform-"+DEC},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.scaleUniformDec)},title:scaleUniformLabel(DEC_FACTOR)},DECREASE))))},scaleNonUniformControls=function(transform,inverted){var INC=inverted?"dec":"inc",DEC=inverted?"inc":"dec",INCREASE=inverted?"Decrease":"Increase",DECREASE=inverted?"Increase":"Decrease",INC_FACTOR=inverted?SCALE_STEP_DEC:SCALE_STEP_INC,DEC_FACTOR=inverted?SCALE_STEP_INC:SCALE_STEP_DEC;return React.createElement("li",{className:"p-scale-nonuniform"},React.createElement("p",null,"Scale (non-uniform)"),React.createElement("ul",null,React.createElement("li",{className:scaleNonUniformClass("x",INC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.scaleXInc)},title:scaleNonUniformLabel("X",INC_FACTOR)},INCREASE," X scale")),React.createElement("li",{className:scaleNonUniformClass("x",DEC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.scaleXDec)},title:scaleNonUniformLabel("X",DEC_FACTOR)},DECREASE," X scale")),React.createElement("li",{className:scaleNonUniformClass("y",INC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.scaleYInc)},title:scaleNonUniformLabel("Y",INC_FACTOR)},INCREASE," Y scale")),React.createElement("li",{className:scaleNonUniformClass("y",DEC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS.scaleYDec)},title:scaleNonUniformLabel("Y",DEC_FACTOR)},DECREASE," Y scale"))))},Transform2DParameter=function(_ref){var param=_ref.param,value=_ref.value,_ref$onChange=(_ref.path,_ref.onChange),onChange=void 0===_ref$onChange?noop:_ref$onChange,transform=function(transformation){return onChange(applyTransform(transformation,value))};return React.createElement("div",{className:"parameter parameter-transform parameter-transform-2d"},React.createElement("p",{className:"p-label"},param.label),React.createElement("ul",{className:"p-input"},param.uiRotate?rotateControls(transform,param.uiInvertRotate):null,param.uiTranslate?translateControls(transform,param.uiInvertTranslate):null,param.uiScaleUniform?scaleUniformControls(transform,param.uiInvertScale):null,param.uiScaleNonUniform?scaleNonUniformControls(transform,param.uiInvertScale):null,React.createElement("li",{className:"p-reset"},React.createElement(Link,{onClick:function(){return onChange(param.defaultValueSerialised())},title:"Reset transformation to default"},"Reset"))))},Transform2DParameter.propTypes={param:PropTypes.instanceOf(Transform2D).isRequired,value:PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number.isRequired).isRequired).isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},ROTATION_STEP_DEG$1=5,ROTATION_STEP$1=deg2rad(ROTATION_STEP_DEG$1),TRANSLATION_STEP$1=.1,SCALE_STEP_INC$1=1.1,SCALE_STEP_DEC$1=1/SCALE_STEP_INC$1,TRANSFORMS$1={rotateXPos:rotate3DX(+ROTATION_STEP$1),rotateXNeg:rotate3DX(-ROTATION_STEP$1),rotateYPos:rotate3DY(+ROTATION_STEP$1),rotateYNeg:rotate3DY(-ROTATION_STEP$1),rotateZPos:rotate3DZ(+ROTATION_STEP$1),rotateZNeg:rotate3DZ(-ROTATION_STEP$1),translateXPos:translate3D(+TRANSLATION_STEP$1,0,0),translateXNeg:translate3D(-TRANSLATION_STEP$1,0,0),translateYPos:translate3D(0,+TRANSLATION_STEP$1,0),translateYNeg:translate3D(0,-TRANSLATION_STEP$1,0),translateZPos:translate3D(0,0,+TRANSLATION_STEP$1),translateZNeg:translate3D(0,0,-TRANSLATION_STEP$1),scaleUniformInc:scale3D(SCALE_STEP_INC$1),scaleUniformDec:scale3D(SCALE_STEP_DEC$1),scaleXInc:scale3D(SCALE_STEP_INC$1,1,1),scaleXDec:scale3D(SCALE_STEP_DEC$1,1,1),scaleYInc:scale3D(1,SCALE_STEP_INC$1,1),scaleYDec:scale3D(1,SCALE_STEP_DEC$1,1),scaleZInc:scale3D(1,1,SCALE_STEP_INC$1),scaleZDec:scale3D(1,1,SCALE_STEP_DEC$1)},rotateControls$1=function(transform,inverted){var CW=inverted?"acw":"cw",ACW=inverted?"cw":"acw",CLOCKWISE=inverted?"anti-clockwise":"clockwise",ANTICLOCKWISE=inverted?"clockwise":"anti-clockwise";return React.createElement("li",{className:"p-rotate"},React.createElement("p",null,"Rotate"),React.createElement("ul",null,React.createElement("li",{className:rotationClass$1("x",ACW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.rotateXPos)},title:rotationLabel$1("X",ANTICLOCKWISE)},"X ",ANTICLOCKWISE)),React.createElement("li",{className:rotationClass$1("x",CW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.rotateXNeg)},title:rotationLabel$1("X",CLOCKWISE)},"X ",CLOCKWISE)),React.createElement("li",{className:rotationClass$1("y",ACW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.rotateYPos)},title:rotationLabel$1("Y",ANTICLOCKWISE)},"Y ",ANTICLOCKWISE)),React.createElement("li",{className:rotationClass$1("y",CW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.rotateYNeg)},title:rotationLabel$1("Y",CLOCKWISE)},"Y ",CLOCKWISE)),React.createElement("li",{className:rotationClass$1("z",ACW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.rotateZPos)},title:rotationLabel$1("Z",ANTICLOCKWISE)},"Z ",ANTICLOCKWISE)),React.createElement("li",{className:rotationClass$1("z",CW)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.rotateZNeg)},title:rotationLabel$1("Z",CLOCKWISE)},"Z ",CLOCKWISE))))},translateControls$1=function(transform,inverted){var POS=inverted?"neg":"pos",NEG=inverted?"pos":"neg",POSITIVE=inverted?"negative":"positive",NEGATIVE=inverted?"positive":"negative";return React.createElement("li",{className:"p-translate"},React.createElement("p",null,"Translate"),React.createElement("ul",null,React.createElement("li",{className:translationClass$1("x",POS)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.translateXPos)},title:translationLabel$1("X",POSITIVE)},"X ",POSITIVE)),React.createElement("li",{className:translationClass$1("x",NEG)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.translateXNeg)},title:translationLabel$1("X",NEGATIVE)},"X ",NEGATIVE)),React.createElement("li",{className:translationClass$1("y",POS)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.translateYPos)},title:translationLabel$1("Y",POSITIVE)},"Y ",POSITIVE)),React.createElement("li",{className:translationClass$1("y",NEG)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.translateYNeg)},title:translationLabel$1("Y",NEGATIVE)},"Y ",NEGATIVE)),React.createElement("li",{className:translationClass$1("z",POS)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.translateZPos)},title:translationLabel$1("Z",POSITIVE)},"Z ",POSITIVE)),React.createElement("li",{className:translationClass$1("z",NEG)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.translateZNeg)},title:translationLabel$1("Z",NEGATIVE)},"Z ",NEGATIVE))))},scaleUniformControls$1=function(transform,inverted){var INC=inverted?"dec":"inc",DEC=inverted?"inc":"dec",INCREASE=inverted?"Decrease":"Increase",DECREASE=inverted?"Increase":"Decrease",INC_FACTOR=inverted?SCALE_STEP_DEC$1:SCALE_STEP_INC$1,DEC_FACTOR=inverted?SCALE_STEP_INC$1:SCALE_STEP_DEC$1;return React.createElement("li",{className:"p-scale-uniform"},React.createElement("p",null,"Scale"),React.createElement("ul",null,React.createElement("li",{className:"p-scale-uniform-"+INC},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleUniformInc)},title:scaleUniformLabel$1(INC_FACTOR)},INCREASE)),React.createElement("li",{className:"p-scale-uniform-"+DEC},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleUniformDec)},title:scaleUniformLabel$1(DEC_FACTOR)},DECREASE))))},scaleNonUniformControls$1=function(transform,inverted){var INC=inverted?"dec":"inc",DEC=inverted?"inc":"dec",INCREASE=inverted?"Decrease":"Increase",DECREASE=inverted?"Increase":"Decrease",INC_FACTOR=inverted?SCALE_STEP_DEC$1:SCALE_STEP_INC$1,DEC_FACTOR=inverted?SCALE_STEP_INC$1:SCALE_STEP_DEC$1;return React.createElement("li",{className:"p-scale-nonuniform"},React.createElement("p",null,"Scale (non-uniform)"),React.createElement("ul",null,React.createElement("li",{className:scaleNonUniformClass$1("x",INC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleXInc)},title:scaleNonUniformLabel$1("X",INC_FACTOR)},INCREASE," X scale")),React.createElement("li",{className:scaleNonUniformClass$1("x",DEC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleXDec)},title:scaleNonUniformLabel$1("X",DEC_FACTOR)},DECREASE," X scale")),React.createElement("li",{className:scaleNonUniformClass$1("y",INC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleYInc)},title:scaleNonUniformLabel$1("Y",INC_FACTOR)},INCREASE," Y scale")),React.createElement("li",{className:scaleNonUniformClass$1("y",DEC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleYDec)},title:scaleNonUniformLabel$1("Y",DEC_FACTOR)},DECREASE," Y scale")),React.createElement("li",{className:scaleNonUniformClass$1("z",INC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleZInc)},title:scaleNonUniformLabel$1("Z",INC_FACTOR)},INCREASE," Z scale")),React.createElement("li",{className:scaleNonUniformClass$1("z",DEC)},React.createElement(Link,{onClick:function(){return transform(TRANSFORMS$1.scaleZDec)},title:scaleNonUniformLabel$1("Z",DEC_FACTOR)},DECREASE," Z scale"))))},Transform3DParameter=function(_ref){var param=_ref.param,value=_ref.value,_ref$onChange=(_ref.path,_ref.onChange),onChange=void 0===_ref$onChange?noop:_ref$onChange,transform=function(transformation){return onChange(applyTransform$1(transformation,value))};return React.createElement("div",{className:"parameter parameter-transform parameter-transform-3d"},React.createElement("p",{className:"p-label"},param.label),React.createElement("ul",{className:"p-input"},param.uiRotate?rotateControls$1(transform,param.uiInvertRotate):null,param.uiTranslate?translateControls$1(transform,param.uiInvertTranslate):null,param.uiScaleUniform?scaleUniformControls$1(transform,param.uiInvertScale):null,param.uiScaleNonUniform?scaleNonUniformControls$1(transform,param.uiInvertScale):null,React.createElement("li",{className:"p-reset"},React.createElement(Link,{onClick:function(){return onChange(param.defaultValueSerialised())},title:"Reset transformation to default"},"Reset"))))},Transform3DParameter.propTypes={param:PropTypes.instanceOf(Transform3D).isRequired,value:PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number.isRequired).isRequired).isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},RGBParameter=function(_ref){var param=_ref.param,value=_ref.value,_ref$onChange=(_ref.path,_ref.onChange),_onChange=void 0===_ref$onChange?noop:_ref$onChange;return React.createElement("div",{className:"parameter parameter-rgb"},React.createElement("label",null,React.createElement("span",{className:"p-label"},param.label)," ",React.createElement("span",{className:"p-input"},React.createElement("input",{type:"color",value:value,onChange:function(event){return _onChange(event.target.value)}}))))},RGBParameter.propTypes={param:PropTypes.instanceOf(RGB).isRequired,value:PropTypes.string.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},RandomSeedParameter=function(_React$Component){function RandomSeedParameter(){_classCallCheck(this,RandomSeedParameter);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(RandomSeedParameter).call(this));return _this.state={fixedValue:null},_this}return _inherits(RandomSeedParameter,_React$Component),_createClass(RandomSeedParameter,[{key:"componentWillMount",value:function(){this.setState({fixedValue:null!==this.props.value?this.props.value:1})}},{key:"componentWillReceiveProps",value:function(nextProps){"number"==typeof nextProps.value&&this.setState({fixedValue:nextProps.value})}},{key:"render",value:function(){var _this2=this,idPrefix=idFromPath(this.props.path),radioName=idPrefix+"/type",fixedRadioId=idPrefix+"/fixed-radio",isAuto=null===this.props.value;return React.createElement("div",{className:"parameter parameter-random-seed"},React.createElement("p",{className:"p-label"},this.props.param.label),React.createElement("ul",{className:"p-input"},React.createElement("li",{className:"p-seed-fixed"},React.createElement("span",{className:"p-checkbox"},React.createElement("input",{type:"radio",id:fixedRadioId,name:radioName,value:"fixed",checked:!isAuto,onChange:function(event){event.target.checked&&_this2.props.onChange(_this2.state.fixedValue)}}))," ",React.createElement("span",{className:"p-label"},React.createElement("label",{htmlFor:fixedRadioId},"Fixed")," – ",React.createElement("label",null,"value:"," ",React.createElement(NumberInput,{value:this.state.fixedValue,min:0,max:4294967295,disabled:isAuto,onChange:this.props.onChange})))),React.createElement("li",{className:"p-seed-auto"},React.createElement("label",null,React.createElement("span",{className:"p-checkbox"},React.createElement("input",{type:"radio",name:radioName,value:"auto",checked:isAuto,onChange:function(event){event.target.checked&&_this2.props.onChange(null)}}))," ",React.createElement("span",{className:"p-label"},"Automatic (changes each render)")))))}}]),RandomSeedParameter}(React.Component),RandomSeedParameter.propTypes={param:PropTypes.instanceOf(RandomSeed).isRequired,value:PropTypes.number,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func},RandomSeedParameter.defaultProps={onChange:noop},CLASSES=[[ParamGroup,ParameterGroup],[_Boolean,BooleanParameter],[Choice,ChoiceParameter],[_Number,NumberParameter],[Integer,IntegerParameter],[Angle,AngleParameter],[Vector,VectorParameter],[Transform2D,Transform2DParameter],[Transform3D,Transform3DParameter],[RGB,RGBParameter],[RandomSeed,RandomSeedParameter]].reverse(),Parameter=function(_ref3){var param=_ref3.param,value=_ref3.value,path=_ref3.path,onChange=_ref3.onChange,onParameterChange=_ref3.onParameterChange,Control=controlComponentClass(param);return void 0===value&&(value=param.defaultValueSerialised()),React.createElement(Control,{param:param,value:value,path:path,onChange:onChange,onParameterChange:onParameterChange})},Parameter.propTypes={param:PropTypes.instanceOf(Param).isRequired,value:PropTypes.any,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onChange:PropTypes.func,onParameterChange:PropTypes.func},ParameterList=function(_ref){var params=_ref.params,value=_ref.value,path=_ref.path,_ref$onParameterChang=_ref.onParameterChange,_onParameterChange=void 0===_ref$onParameterChang?noop:_ref$onParameterChang;return React.createElement("ul",{className:"parameter-list"},params.map(function(param){return React.createElement("li",{key:param.id},React.createElement(Parameter,{param:param,value:get(value,param.id),path:[].concat(_toConsumableArray(path),[param.id]),onChange:function(v){return _onParameterChange([param.id],v)},onParameterChange:function(p,v){return _onParameterChange([param.id].concat(_toConsumableArray(p)),v)}}))}))},ParameterList.propTypes={params:PropTypes.arrayOf(Parameter.propTypes.param).isRequired,value:PropTypes.object.isRequired,path:PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,onParameterChange:PropTypes.func},SceneParameters$1=function(_ref){var params=(_ref.sceneId,_ref.params),paramValues=_ref.paramValues,onParameterChange=_ref.onParameterChange,onReset=_ref.onReset;return React.createElement("section",{className:"scene-parameters"},React.createElement("h2",null,"Scene parameters"),params&&params.length>0?React.createElement(ParameterList,{params:params,path:[],value:paramValues,onParameterChange:onParameterChange}):React.createElement("p",null,"No scene parameters."),params&&params.length>0?React.createElement("p",{className:"p-reset"},React.createElement(Link,{onClick:onReset},"Reset all parameters")):null)},SceneParameters$1.propTypes={sceneId:React.PropTypes.string.isRequired,params:ParameterList.propTypes.params,paramValues:React.PropTypes.object.isRequired,onParameterChange:React.PropTypes.func,onReset:React.PropTypes.func},setParameter=function(sceneId,path,value){return{type:actionTypes.parameters.setParameter,sceneId:sceneId,path:path,value:value}},resetScene=function(sceneId){return{type:actionTypes.parameters.resetScene,sceneId:sceneId}},AbstractMethodError=function(_Error){function AbstractMethodError(message){_classCallCheck(this,AbstractMethodError);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(AbstractMethodError).call(this,message));return _this.message=message,_this.name="AbstractMethodError",_this}return _inherits(AbstractMethodError,_Error),AbstractMethodError}(Error),SceneObject=function(){function SceneObject(){_classCallCheck(this,SceneObject),this.parent=null,this.parent_to_object=Identity4,this.object_to_parent=Identity4,this.world_to_object=Identity4,this.object_to_world=Identity4,this.normal_object_to_parent=Identity4,this.normal_object_to_world=Identity4,this.name=null}return _createClass(SceneObject,[{key:"toString",value:function(){return this.name?"{{"+this.constructor.name+": "+this.name+"}}":"{{"+this.constructor.name+"}}"}},{key:"setName",value:function(name){return this.name=name,this}},{key:"setParent",value:function(parent){return this.parent=parent,this.updateWorldTransform(),this}},{key:"updateWorldTransform",value:function(){this.parent&&(this.world_to_object=this.parent_to_object.multiply(this.parent.world_to_object),this.object_to_world=this.world_to_object.inverse(),this.normal_object_to_parent=this.parent_to_object.transpose(),this.normal_object_to_world=this.world_to_object.transpose())}},{key:"resetTransform",value:function(){return this.parent_to_object=Identity4,this.object_to_parent=Identity4,this.updateWorldTransform(),this}},{key:"setTransform",value:function(matrix){return this.object_to_parent=matrix,this.parent_to_object=this.object_to_parent.inverse(),this.updateWorldTransform(),this}},{key:"transform",value:function(matrix){return this.object_to_parent=matrix.multiply(this.object_to_parent),this.parent_to_object=this.object_to_parent.inverse(),this.updateWorldTransform(),this}},{key:"translate",value:function(){return this.transform(translate3D.apply(void 0,arguments))}},{key:"scale",value:function(){return this.transform(scale3D.apply(void 0,arguments))}},{key:"rotateX",value:function(){return this.transform(rotate3DX.apply(void 0,arguments))}},{key:"rotateY",value:function(){return this.transform(rotate3DY.apply(void 0,arguments))}},{key:"rotateZ",value:function(){return this.transform(rotate3DZ.apply(void 0,arguments))}},{key:"rotateAxis",value:function(){return this.transform(rotate3DAxis.apply(void 0,arguments))}},{key:"rotateXDeg",value:function(angle){return this.rotateX(deg2rad(angle))}},{key:"rotateYDeg",value:function(angle){return this.rotateY(deg2rad(angle))}},{key:"rotateZDeg",value:function(angle){return this.rotateZ(deg2rad(angle))}},{key:"rotateAxisDeg",value:function(axis,angle){return this.rotateAxis(axis,deg2rad(angle))}}]),SceneObject}(),Group=function(_SceneObject){function Group(){_classCallCheck(this,Group);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Group).call(this));return _this.children=[],_this}return _inherits(Group,_SceneObject),_createClass(Group,[{key:"add",value:function(obj){return this.children.push(obj),obj.setParent(this),this}},{key:"clear",value:function(){return this.children=[],this}},{key:"remove",value:function(obj){return this.children=this.children.filter(function(child){return child!==obj}),this}},{key:"find",value:function(predicate){var result=[];predicate(this)&&result.push(this);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.children[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var child=_step.value;"function"==typeof child.find?result=result.concat(child.find(predicate)):predicate(child)&&result.push(child)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return result}},{key:"updateWorldTransform",value:function(){_get(Object.getPrototypeOf(Group.prototype),"updateWorldTransform",this).call(this);var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.children[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var child=_step2.value;child.updateWorldTransform()}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return this}}]),Group}(SceneObject),VisibleObject=function(_VisibleObjectMixin){function VisibleObject(){return _classCallCheck(this,VisibleObject),_possibleConstructorReturn(this,Object.getPrototypeOf(VisibleObject).apply(this,arguments))}return _inherits(VisibleObject,_VisibleObjectMixin),VisibleObject}(VisibleObjectMixin(SceneObject)),Ray=function(){function Ray(origin,direction){var gen=arguments.length<=2||void 0===arguments[2]?0:arguments[2];_classCallCheck(this,Ray),this.origin=origin,this.dir=direction,this.gen=gen}return _createClass(Ray,[{key:"toString",value:function(){return"{Ray "+this.origin+" → "+this.dir+"}"}},{key:"relative",value:function(v){return v.subtract(this.origin)}},{key:"normalise",value:function(){return new Ray(this.origin,this.dir.unit(),this.gen)}},{key:"transform",value:function(m){var o=this.origin,d=this.dir,to=new Vector3(o[0]*m[0][0]+o[1]*m[0][1]+o[2]*m[0][2]+m[0][3],o[0]*m[1][0]+o[1]*m[1][1]+o[2]*m[1][2]+m[1][3],o[0]*m[2][0]+o[1]*m[2][1]+o[2]*m[2][2]+m[2][3]),td=new Vector3(d[0]*m[0][0]+d[1]*m[0][1]+d[2]*m[0][2],d[0]*m[1][0]+d[1]*m[1][1]+d[2]*m[1][2],d[0]*m[2][0]+d[1]*m[2][1]+d[2]*m[2][2]);return new Ray(to,td,this.gen)}},{key:"point",value:function(t){var o=this.origin,d=this.dir;return new Vector3(o[0]+t*d[0],o[1]+t*d[1],o[2]+t*d[2])}},{key:"back",value:function(normal){return normal.dot(this.dir)>0}}]),Ray}(),Ray.NEAR=.001,Ray.MAX_GENERATION=10,Intersection=function(){function Intersection(ray_object,object,t){var pos_object=arguments.length<=3||void 0===arguments[3]?null:arguments[3],material=arguments.length<=4||void 0===arguments[4]?null:arguments[4],uv_object=arguments.length<=5||void 0===arguments[5]?null:arguments[5],normal_object=arguments.length<=6||void 0===arguments[6]?null:arguments[6];_classCallCheck(this,Intersection),this.ray_object=ray_object,this.object=object,this.t=t,this.pos_object=pos_object,this.material=material,this.uv_object=uv_object,this.normal_object=normal_object,this.distance_object=null,this.ray_world=null,this.distance_world=null,this.pos_world=null,this.normal_world=null,this.t3d_anchor=null,this.reflected_world=null,null!==this.normal_object&&this.ray_object.back(this.normal_object)&&(this.normal_object=this.normal_object.reverse())}return _createClass(Intersection,[{key:"toString",value:function(){return"{"+this.constructor.name+"}"}},{key:"getDistanceObject",value:function(){return null===this.distance_object&&(this.distance_object=this.t*this.ray_object.dir.norm()),this.distance_object}},{key:"getPosObject",value:function(){return null===this.pos_object&&(this.pos_object=this.ray_object.point(this.t)),this.pos_object}},{key:"getPosWorld",value:function(){return null===this.pos_world&&(this.pos_world=this.getPosObject().transformPos(this.object.object_to_world)),this.pos_world}},{key:"getRayWorld",value:function(){return null===this.ray_world&&(this.ray_world=this.ray_object.transform(this.object.object_to_world)),this.ray_world}},{key:"getDistanceWorld",value:function(){return null===this.distance_world&&(this.distance_world=this.t*this.getRayWorld().dir.norm()),this.distance_world}},{key:"getMaterial",value:function(){return null===this.material&&(this.material=this.object.getMaterial()),this.material}},{key:"getUVObject",value:function(){return null===this.uv_object&&(this.uv_object=this.object.uvAtPoint(this.getPosObject())),this.uv_object}},{key:"getT3DAnchor",value:function(){return null===this.t3d_anchor&&(this.t3d_anchor=this.object.objectToT3DAnchor(this.getPosObject())),this.t3d_anchor}},{key:"getNormalObject",value:function(){if(null===this.normal_object){var n=this.object.normalAtPoint(this.getPosObject());this.ray_object.back(n)&&(n=n.reverse()),this.normal_object=n}return this.normal_object}},{key:"getNormalWorld",value:function(){return null===this.normal_world&&(this.normal_world=this.getNormalObject().transformDir(this.object.normal_object_to_world).unit()),this.normal_world}},{key:"getReflectedWorld",value:function(){return null===this.reflected_world&&(this.reflected_world=this.getRayWorld().dir.unit().reflect(this.getNormalWorld())),this.reflected_world}},{key:"generation",value:function(){return this.ray_object.gen}}],[{key:"listInsert",value:function(intersection,list){for(var dist=intersection.getDistanceWorld(),res=[],inserted=!1,i=0;i<list.length;i++)!inserted&&dist<list[i].getDistanceWorld()&&(res.push(intersection),inserted=!0),res.push(list[i]);return inserted||res.push(intersection),res}},{key:"listMerge",value:function(list1,list2){for(var res=[],i=0,j=0;i<list1.length&&j<list2.length;)list1[i].getDistanceWorld()<=list2[j].getDistanceWorld()?res.push(list1[i++]):res.push(list2[j++]);for(;i<list1.length;)res.push(list1[i++]);for(;j<list2.length;)res.push(list2[j++]);return res}}]),Intersection}(),Light=function(_SceneObject){function Light(){return _classCallCheck(this,Light),_possibleConstructorReturn(this,Object.getPrototypeOf(Light).apply(this,arguments))}return _inherits(Light,_SceneObject),_createClass(Light,[{key:"lightVectorLight",value:function(point){throw new AbstractMethodError}},{key:"lightVectorWorld",value:function(point){return this.lightVectorLight(point).transformDir(this.object_to_world).unit()}},{key:"lightStrengthColourLight",value:function(point){throw new AbstractMethodError}},{key:"lightStrengthColourWorld",value:function(point){return this.lightStrengthColourLight(point.transformPos(this.world_to_object))}},{key:"shadowStrengthWorld",value:function(point,world){throw new AbstractMethodError}}]),Light}(SceneObject),UniformLight=function(_Light){function UniformLight(){var strength=arguments.length<=0||void 0===arguments[0]?1:arguments[0],colour=arguments.length<=1||void 0===arguments[1]?White:arguments[1];_classCallCheck(this,UniformLight);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(UniformLight).call(this));return _this2.strength=strength,_this2.colour=colour,_this2}return _inherits(UniformLight,_Light),_createClass(UniformLight,[{key:"lightStrengthColourLight",value:function(point){return[this.strength,this.colour]}},{key:"lightStrengthColourWorld",value:function(point){return[this.strength,this.colour]}}]),UniformLight}(Light),PointLight=function(_UniformLight){function PointLight(position){var strength=arguments.length<=1||void 0===arguments[1]?1:arguments[1],colour=arguments.length<=2||void 0===arguments[2]?White:arguments[2];_classCallCheck(this,PointLight);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(PointLight).call(this,strength,colour));return _this3.setPosition(position),_this3}return _inherits(PointLight,_UniformLight),_createClass(PointLight,[{key:"setPosition",value:function(pos){this.pos=pos,this.pos_world=pos?pos.transformPos(this.object_to_world):null}},{key:"updateWorldTransform",value:function(){_get(Object.getPrototypeOf(PointLight.prototype),"updateWorldTransform",this).call(this),this.pos_world=this.pos.transformPos(this.object_to_world)}},{key:"shadowStrengthWorld",value:function(point,world){var lvec=this.lightVectorWorld(point),lray=new Ray(point,lvec),distance=point.distance(this.pos_world),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=world.visible[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var object=_step.value;if(object.casts_shadows&&object.intersects(lray,distance))return 1}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return 0}},{key:"lightVectorLight",value:function(point){return this.pos.subtract(point).unit()}}]),PointLight}(UniformLight),DirectionalLight=function(_UniformLight2){function DirectionalLight(direction){var strength=arguments.length<=1||void 0===arguments[1]?1:arguments[1],colour=arguments.length<=2||void 0===arguments[2]?White:arguments[2];_classCallCheck(this,DirectionalLight);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(DirectionalLight).call(this,strength,colour));return _this4.setDirection(direction),_this4}return _inherits(DirectionalLight,_UniformLight2),_createClass(DirectionalLight,[{key:"setDirection",value:function(direction){this.direction=direction,this.light_vector=direction?direction.reverse().unit():null}},{key:"lightVectorLight",value:function(point){return this.light_vector}},{key:"shadowStrengthWorld",value:function(point,world){var lvec=this.lightVectorWorld(point),lray=new Ray(point,lvec),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=world.visible[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var object=_step2.value;if(object.casts_shadows&&object.intersects(lray))return 1}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return 0}}]),DirectionalLight}(UniformLight),Background=function(){function Background(){_classCallCheck(this,Background)}return _createClass(Background,[{key:"getColour",value:function(ray_world){throw new AbstractMethodError}}]),Background}(),SolidBackground=function(_Background){function SolidBackground(colour){_classCallCheck(this,SolidBackground);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SolidBackground).call(this));return _this.background_colour=colour,_this}return _inherits(SolidBackground,_Background),_createClass(SolidBackground,[{key:"getColour",value:function(ray_world){return this.background_colour}}]),SolidBackground}(Background),ElevationGradientBackground=function(_Background2){function ElevationGradientBackground(gradient){_classCallCheck(this,ElevationGradientBackground);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(ElevationGradientBackground).call(this));return _this2.gradient=gradient,_this2}return _inherits(ElevationGradientBackground,_Background2),_createClass(ElevationGradientBackground,[{key:"getColour",value:function(ray_world){var r=ray_world.dir.norm(),inclination=zero(r)?0:Math.acos(ray_world.dir[2]/r);return this.gradient.colour(inclination/Math.PI)}}]),ElevationGradientBackground}(Background),
AngleBackground=function(_Background3){function AngleBackground(colour){_classCallCheck(this,AngleBackground);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(AngleBackground).call(this));return _this3.base_colour=colour,_this3}return _inherits(AngleBackground,_Background3),_createClass(AngleBackground,[{key:"getColour",value:function(ray_world){var dot=ray_world.dir[0]*ray_world.dir[0]+ray_world.dir[1]*ray_world.dir[1],ang=dot/ray_world.dir.normSquared();return new RGB$1(ang*this.base_colour.r,ang*this.base_colour.g,ang*this.base_colour.b)}}]),AngleBackground}(Background),Atmosphere=function(){function Atmosphere(){_classCallCheck(this,Atmosphere)}return _createClass(Atmosphere,[{key:"toString",value:function(){return"{"+this.constructor.name+"}"}},{key:"adjustColour",value:function(colour,ray,t){throw new AbstractMethodError}}]),Atmosphere}(),TransformableAtmosphere=function(_Atmosphere){function TransformableAtmosphere(){_classCallCheck(this,TransformableAtmosphere);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(TransformableAtmosphere).call(this));return _this.atmosphere_to_world=Identity4,_this.world_to_atmosphere=Identity4,_this}return _inherits(TransformableAtmosphere,_Atmosphere),_createClass(TransformableAtmosphere,[{key:"adjustColour",value:function(colour,ray,t){var wdist=t*ray.dir.norm(),aray=ray.transform(this.world_to_atmosphere),adist=t*aray.dir.norm();return this.adjustColourAtmosphere(colour,aray,t,adist,wdist)}},{key:"adjustColourAtmosphere",value:function(colour,ray_atmosphere,t,distance_atmosphere,distance_world){throw new AbstractMethodError}},{key:"resetTransform",value:function(){return this.atmosphere_to_world=Identity4,this.world_to_atmosphere=Identity4,this}},{key:"setTransform",value:function(atmosphere_to_world){return this.atmosphere_to_world=atmosphere_to_world,this.world_to_atmosphere=this.atmosphere_to_world.inverse(),this}},{key:"transform",value:function(matrix){return this.atmosphere_to_world=matrix.multiply(this.atmosphere_to_world),this.world_to_atmosphere=this.atmosphere_to_world.inverse(),this}},{key:"translate",value:function(){return this.transform(translate3D.apply(void 0,arguments))}},{key:"scale",value:function(){return this.transform(scale3D.apply(void 0,arguments))}},{key:"rotateX",value:function(){return this.transform(rotate3DX.apply(void 0,arguments))}},{key:"rotateY",value:function(){return this.transform(rotate3DY.apply(void 0,arguments))}},{key:"rotateZ",value:function(){return this.transform(rotate3DZ.apply(void 0,arguments))}},{key:"rotateAxis",value:function(){return this.transform(rotate3DAxis.apply(void 0,arguments))}},{key:"rotateXDeg",value:function(angle){return this.rotateX(deg2rad(angle))}},{key:"rotateYDeg",value:function(angle){return this.rotateY(deg2rad(angle))}},{key:"rotateZDeg",value:function(angle){return this.rotateZ(deg2rad(angle))}},{key:"rotateAxisDeg",value:function(axis,angle){return this.rotateAxis(axis,deg2rad(angle))}}]),TransformableAtmosphere}(Atmosphere),EmptyAtmosphere=function(_Atmosphere2){function EmptyAtmosphere(){return _classCallCheck(this,EmptyAtmosphere),_possibleConstructorReturn(this,Object.getPrototypeOf(EmptyAtmosphere).apply(this,arguments))}return _inherits(EmptyAtmosphere,_Atmosphere2),_createClass(EmptyAtmosphere,[{key:"adjustColour",value:function(colour,ray,t){return colour}}]),EmptyAtmosphere}(Atmosphere),FoggyAtmosphere=function(_Atmosphere3){function FoggyAtmosphere(){return _classCallCheck(this,FoggyAtmosphere),_possibleConstructorReturn(this,Object.getPrototypeOf(FoggyAtmosphere).apply(this,arguments))}return _inherits(FoggyAtmosphere,_Atmosphere3),_createClass(FoggyAtmosphere,[{key:"adjustColour",value:function(colour,ray,t){return compose(colour,this.fogColour(ray,t))}},{key:"fogColour",value:function(ray,t){throw new AbstractMethodError}}]),FoggyAtmosphere}(Atmosphere),FoggyTransformableAtmosphere=function(_TransformableAtmosph){function FoggyTransformableAtmosphere(){return _classCallCheck(this,FoggyTransformableAtmosphere),_possibleConstructorReturn(this,Object.getPrototypeOf(FoggyTransformableAtmosphere).apply(this,arguments))}return _inherits(FoggyTransformableAtmosphere,_TransformableAtmosph),_createClass(FoggyTransformableAtmosphere,[{key:"adjustColourAtmosphere",value:function(colour,ray_atmosphere,t,distance_atmosphere,distance_world){return compose(colour,this.fogColour(ray_atmosphere,t,distance_atmosphere,distance_world))}},{key:"fogColour",value:function(ray_atmosphere,t,distance_atmosphere,distance_world){throw new AbstractMethodError}}]),FoggyTransformableAtmosphere}(TransformableAtmosphere),ConstantFog=function(_FoggyAtmosphere){function ConstantFog(solid_distance){var colour=arguments.length<=1||void 0===arguments[1]?White:arguments[1];_classCallCheck(this,ConstantFog);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(ConstantFog).call(this));return _this5.solid_distance=solid_distance,_this5.colour=colour,_this5}return _inherits(ConstantFog,_FoggyAtmosphere),_createClass(ConstantFog,[{key:"fogColour",value:function(ray,t){var strength=clamp(t/this.solid_distance,0,1);return this.colour.transparent(strength)}}]),ConstantFog}(FoggyAtmosphere),LinearGradientFog=function(_FoggyTransformableAt){function LinearGradientFog(){var s0=arguments.length<=0||void 0===arguments[0]?1:arguments[0],s1=arguments.length<=1||void 0===arguments[1]?0:arguments[1],colour=arguments.length<=2||void 0===arguments[2]?White:arguments[2];_classCallCheck(this,LinearGradientFog);var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(LinearGradientFog).call(this));return _this6.s0=s0,_this6.s1=s1,_this6.colour=colour,_this6}return _inherits(LinearGradientFog,_FoggyTransformableAt),_createClass(LinearGradientFog,[{key:"fogColour",value:function(ray_atmosphere,t,distance_atmosphere,distance_world){var z_start=ray_atmosphere.origin[2],z_end=z_start+t*ray_atmosphere.dir[2],z1=Math.min(z_start,z_end),z2=Math.max(z_start,z_end),zd=z2-z1,t1z=Math.min(z2,0)-Math.min(z1,0),t1=this.s0*distance_world*(t1z/zd),t2z1=clamp(z1,0,1),t2z2=clamp(z2,0,1),t2z=t2z2-t2z1,t2=void 0;if(zero(t2z))t2=0;else{var t2s1=this.s0+t2z1*(this.s1-this.s0),t2s2=this.s0+t2z2*(this.s1-this.s0);t2=.5*(t2s1+t2s2)*distance_world*(t2z/zd)}var t3z=Math.max(z2,1)-Math.max(z1,1),t3=this.s1*distance_world*(t3z/zd),strength=t1+t2+t3;return this.colour.transparent(clamp(strength,0,1))}}]),LinearGradientFog}(FoggyTransformableAtmosphere),World=function(_Group){function World(){_classCallCheck(this,World);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(World).call(this));return _this.ambient_light_strength=.2,_this.ambient_light_colour=White,_this.background=new SolidBackground(Black),_this.atmosphere=new EmptyAtmosphere,_this.visible=[],_this.lights=[],_this}return _inherits(World,_Group),_createClass(World,[{key:"preRender",value:function(){this.visible=this.find(isVisibleObject),this.lights=this.find(isLight)}},{key:"render",value:function(drawable,camera){var _this2=this;this.preRender(),drawable.fill(function(px,py){var _drawable$cameraScree=drawable.cameraScreenCoords(px,py),_drawable$cameraScree2=_slicedToArray(_drawable$cameraScree,2),csx=_drawable$cameraScree2[0],csy=_drawable$cameraScree2[1];return _this2.rayColour(camera.worldRay(csx,csy))})}},{key:"getClosestIntersection",value:function(ray_world){var closest_int=null,closest_dist=1/0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.visible[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var object=_step.value,intersection=object.closestIntersection(ray_world);if(intersection){var int_dist=intersection.getDistanceWorld();int_dist<closest_dist&&(closest_int=intersection,closest_dist=int_dist)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return closest_int}},{key:"getAllIntersections",value:function(ray_world){var intersections=[],_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.visible[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var object=_step2.value;intersections=Intersection.listMerge(intersections,object.intersections(ray_world))}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return intersections}},{key:"rayColour",value:function(ray_world){var closest_int=this.getClosestIntersection(ray_world);if(closest_int){var colour=closest_int.getMaterial().getColour(closest_int,this);return this.atmosphere.adjustColour(colour,ray_world,closest_int.t)}var _colour=this.background.getColour(ray_world);return this.atmosphere.adjustColour(_colour,ray_world,1/0)}},{key:"lightsAtPoint",value:function(pos_world){var res=[],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.lights[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var light=_step3.value,lvec=light.lightVectorWorld(pos_world),_light$lightStrengthC=light.lightStrengthColourWorld(pos_world),_light$lightStrengthC2=_slicedToArray(_light$lightStrengthC,2),strength=_light$lightStrengthC2[0],colour=_light$lightStrengthC2[1];zero(strength)||(strength*=1-light.shadowStrengthWorld(pos_world,this),zero(strength)||res.push([light,lvec,strength,colour]))}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return res}}]),World}(Group),Scene=function(){function Scene(){_classCallCheck(this,Scene),this.world=new World,this.name=null,this.anim_frame=0,this.anim_time=0,this.anim_default_time_step=1}return _createClass(Scene,[{key:"toString",value:function(){return this.name?"{"+this.constructor.name+": "+this.name+"}":"{"+this.constructor.name+"}"}},{key:"render",value:function(drawable,camera){this.world.render(drawable,camera)}},{key:"animate",value:function(frame,time,time_step){}},{key:"animInit",value:function(){var default_time_step=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.anim_frame=0,this.anim_time=0,this.anim_default_time_step=default_time_step,this.animate(0,0,this.anim_default_time_step)}},{key:"animateFrame",value:function(){var time_step=arguments.length<=0||void 0===arguments[0]?this.anim_default_time_step:arguments[0];this.anim_time+=time_step,this.animate(++this.anim_frame,this.anim_time,time_step)}}]),Scene}(),ParametricScene=function(){function ParametricScene(){var params=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,ParametricScene),this.params=this.interpretParams(params),this.world=new World,this.cameras={},this.build(this.params)}return _createClass(ParametricScene,[{key:"build",value:function(params){}},{key:"interpretParams",value:function(paramsObject){return this.constructor.params().reduce(function(result,param){return result[param.id]=param.interpret(paramsObject[param.id]),result},{})}},{key:"render",value:function(drawable,cameraId){this.world.render(drawable,this.cameras[cameraId])}}],[{key:"label",value:function(){return this.name}},{key:"params",value:function(){return[]}},{key:"cameras",value:function(){return[]}}]),ParametricScene}(),Camera=function(_SceneObject){function Camera(){return _classCallCheck(this,Camera),_possibleConstructorReturn(this,Object.getPrototypeOf(Camera).apply(this,arguments))}return _inherits(Camera,_SceneObject),_createClass(Camera,[{key:"cameraRay",value:function(x,y){throw new AbstractMethodError}},{key:"worldRay",value:function(x,y){return this.cameraRay(x,y).transform(this.object_to_world).normalise()}}]),Camera}(SceneObject),PerspectiveCamera=function(_Camera){function PerspectiveCamera(view_angle){_classCallCheck(this,PerspectiveCamera);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(PerspectiveCamera).call(this));return _this2.setViewAngle(view_angle),_this2}return _inherits(PerspectiveCamera,_Camera),_createClass(PerspectiveCamera,[{key:"setViewAngle",value:function(view_angle){this.view_angle=view_angle,this.view_plane_distance=1/Math.tan(view_angle/2)}},{key:"cameraRay",value:function(x,y){return new Ray(Origin3D,new Vector3(x,this.view_plane_distance,y))}}]),PerspectiveCamera}(Camera),StereoCamera=function(_Group){function StereoCamera(separation,focus_distance,view_angle){_classCallCheck(this,StereoCamera);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(StereoCamera).call(this));return _this3.separation=separation,_this3.focus_distance=focus_distance,_this3.left=new PerspectiveCamera(view_angle),_this3.right=new PerspectiveCamera(view_angle),_this3.updateCameras(),_this3.add(_this3.left),_this3.add(_this3.right),_this3}return _inherits(StereoCamera,_Group),_createClass(StereoCamera,[{key:"setSeparation",value:function(separation){this.separation=separation,this.updateCameras()}},{key:"setFocusDistance",value:function(focus_distance){this.focus_distance=focus_distance,this.updateCameras()}},{key:"updateCameras",value:function(){this.left.resetTransform(),this.left.rotateZ(Math.atan2(this.separation/2,this.focus_distance)),this.left.translate(-this.separation/2,0,0),this.right.resetTransform(),this.right.rotateZ(-Math.atan2(this.separation/2,this.focus_distance)),this.right.translate(this.separation/2,0,0)}}]),StereoCamera}(Group),OrthographicCamera=function(_Camera2){function OrthographicCamera(view_size){_classCallCheck(this,OrthographicCamera);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(OrthographicCamera).call(this));return _this4.view_size=view_size,_this4}return _inherits(OrthographicCamera,_Camera2),_createClass(OrthographicCamera,[{key:"cameraRay",value:function(x,y){return new Ray(new Vector3(x*this.view_size/2,0,y*this.view_size/2),this.constructor.RAY_DIR)}}]),OrthographicCamera}(Camera),OrthographicCamera.RAY_DIR=new Vector3(0,1,0),SingleCameraParametricScene=function(_ParametricScene){function SingleCameraParametricScene(params){_classCallCheck(this,SingleCameraParametricScene);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SingleCameraParametricScene).call(this,params));return _this.cameras.main=new PerspectiveCamera(_this.params.camera.view_angle).transform(_this.params.camera.transform),_this.initCamera(_this.cameras.main),_this}return _inherits(SingleCameraParametricScene,_ParametricScene),_createClass(SingleCameraParametricScene,[{key:"initCamera",value:function(camera){this.world.add(camera)}},{key:"render",value:function(drawable){_get(Object.getPrototypeOf(SingleCameraParametricScene.prototype),"render",this).call(this,drawable,"main")}}],[{key:"cameras",value:function(){return[{id:"main",label:"Main camera"}]}},{key:"params",value:function(){return[new ParamGroup({id:"camera",label:"Camera",params:[new Transform3D({id:"transform",label:"Transformation",uiRotate:!0,uiTranslate:!0,uiScaleUniform:!1,uiScaleNonUniform:!1,uiInvertRotate:!0}),new Angle({id:"view_angle",label:"Field of view",defaultValue:Math.PI/4,min:EPSILON,max:Math.PI/2})]})].concat(_toConsumableArray(_get(Object.getPrototypeOf(SingleCameraParametricScene),"params",this).call(this)))}}]),SingleCameraParametricScene}(ParametricScene),Spherical=function(){function Spherical(r,inclination,azimuth){_classCallCheck(this,Spherical),this.r=r,this.inclination=inclination,this.azimuth=azimuth}return _createClass(Spherical,[{key:"toString",value:function(){return"{Spherical "+this.r.toPrecision(3)+", "+this.inclination.toPrecision(3)+", "+this.azimuth.toPrecision(3)+"}"}},{key:"toCartesian",value:function(){var s=Math.sin(this.inclination);return new Vector3(this.r*Math.cos(this.azimuth)*s,this.r*Math.sin(this.azimuth)*s,this.r*Math.cos(this.inclination))}},{key:"toGeographic",value:function(){return Geographic.fromSpherical(this)}}],[{key:"fromCartesian",value:function(v){var r=v.norm(),inclination=zero(r)?0:Math.acos(v[2]/r),azimuth=Math.atan2(v[1],v[0]);return new Spherical(r,inclination,azimuth)}},{key:"fromGeographic",value:function(g){return g.toSpherical()}}]),Spherical}(),Geographic=function(){function Geographic(r,longitude,latitude){_classCallCheck(this,Geographic),this.r=r,this.longitude=longitude,this.latitude=latitude}return _createClass(Geographic,[{key:"toString",value:function(){return"{Geographic "+this.r.toPrecision(3)+", "+this.longitude.toPrecision(3)+", "+this.latitude.toPrecision(3)+"}"}},{key:"toSpherical",value:function(){return new Spherical(this.r,Math.PI/2-this.latitude,this.longitude)}},{key:"toCartesian",value:function(){return this.toSpherical().toCartesian()}}],[{key:"fromSpherical",value:function(s){return new Geographic(s.r,s.azimuth,Math.PI/2-s.inclination)}},{key:"fromCartesian",value:function(v){return Geographic.fromSpherical(Spherical.fromCartesian(v))}}]),Geographic}(),Cylindrical=function(){function Cylindrical(radial,azimuth,axial){_classCallCheck(this,Cylindrical),this.radial=radial,this.azimuth=azimuth,this.axial=axial}return _createClass(Cylindrical,[{key:"toString",value:function(){return"{Cylindrical "+this.radial.toPrecision(3)+", "+this.azimuth.toPrecision(3)+", "+this.axial.toPrecision(3)+"}"}},{key:"toCartesian",value:function(){return new Vector3(this.radial*Math.cos(this.azimuth),this.radial*Math.cos(this.azmiuth),this.axial)}}],[{key:"fromCartesian",value:function(v){return new Cylindrical(Math.sqrt(v[0]*v[0]+v[1]*v[1]),Math.atan2(v[0],v[1]),v[2])}}]),Cylindrical}(),Polar=function(){function Polar(r,theta){_classCallCheck(this,Polar),this.r=r,this.theta=theta}return _createClass(Polar,[{key:"toString",value:function(){return"{Polar "+this.r.toPrecision(3)+", "+this.theta.toPrecision(3)+"}"}},{key:"toCartesian",value:function(){return new Vector2(this.r*Math.cos(this.theta),this.r*Math.sin(this.theta))}}],[{key:"fromCartesian",value:function(v){return new Polar(v.norm(),Math.atan2(v[1],v[0]))}},{key:"fromCartesianXY",value:function(x,y){return new Polar(Math.sqrt(x*x+y*y),Math.atan2(y,x))}}]),Polar}(),Sphere=function(_VisibleObject){function Sphere(){return _classCallCheck(this,Sphere),_possibleConstructorReturn(this,Object.getPrototypeOf(Sphere).apply(this,arguments))}return _inherits(Sphere,_VisibleObject),_createClass(Sphere,[{key:"closestIntersection",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),b=2*oray.origin.dot(oray.dir),c=oray.origin.normSquared()-1,det=b*b-4*c;if(det>=0){var sdet=Math.sqrt(det),t1=(-b-sdet)/2,t2=(-b+sdet)/2;if(t2>Ray.NEAR){var t=t1>Ray.NEAR?t1:t2;return new Intersection(oray,this,t,null,this.material)}return null}return null}},{key:"intersections",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),b=2*oray.origin.dot(oray.dir),c=oray.origin.normSquared()-1,det=b*b-4*c,res=[];if(det>=0){var sdet=Math.sqrt(det),t1=(-b-sdet)/2,t2=(-b+sdet)/2;t1>Ray.NEAR&&res.push(new Intersection(oray,this,t1,null,this.material)),t2>Ray.NEAR&&res.push(new Intersection(oray,this,t2,null,this.material))}return res}},{key:"containsObject",value:function(pos_object){return pos_object.normSquared()<=1}},{key:"uvAtPoint",value:function(point){var geo=Geographic.fromCartesian(point);return new Vector2(2*geo.longitude/Math.PI,2*geo.latitude/Math.PI)}},{key:"normalAtPoint",value:function(point){return point}},{key:"place",value:function(pos,radius){this.resetTransform(),this.scale(radius),this.translate(pos)}}]),Sphere}(VisibleObject),Plane=function(_VisibleObject2){function Plane(point,normal){var t2dRef=arguments.length<=2||void 0===arguments[2]?null:arguments[2];_classCallCheck(this,Plane);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(Plane).call(this));return _this2.point=point,_this2.normal=normal.unit(),_this2.t2dRef=t2dRef,_this2.np=normal.dot(point),_this2.t2dBasis=null,_this2}return _inherits(Plane,_VisibleObject2),_createClass(Plane,[{key:"closestIntersection",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),nd=this.normal.dot(oray.dir);if(zero(nd))return null;var t=(this.np-this.normal.dot(oray.origin))/nd;return t>Ray.NEAR?new Intersection(oray,this,t,null,this.material,null,this.normal):null}},{key:"intersections",value:function(ray){var ci=this.closestIntersection(ray);return null!==ci?[ci]:[]}},{key:"containsObject",value:function(pos_object){return this.normal.dot(pos_object)<=this.np}},{key:"uvAtPoint",value:function(point){if(null===this.t2dBasis){var u=this.t2dRef?this.projectVector(this.t2dRef).unit():this.normal.parallel(XAxis3D)?YAxis3D:XAxis3D,v=Vector3.cross(this.normal,u).reverse();this.t2dBasis={u:u,v:v}}return new Vector2(this.t2dBasis.u.dot(point),this.t2dBasis.v.dot(point))}},{key:"normalAtPoint",value:function(point){return this.normal}},{key:"projectVector",value:function(v){return v.subtract(v.vectorProjection(this.normal))}}]),Plane}(VisibleObject),LevelPlane=function(_VisibleObject3){function LevelPlane(){return _classCallCheck(this,LevelPlane),_possibleConstructorReturn(this,Object.getPrototypeOf(LevelPlane).apply(this,arguments))}return _inherits(LevelPlane,_VisibleObject3),_createClass(LevelPlane,[{key:"closestIntersection",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),t=-oray.origin[2]/oray.dir[2];return t>Ray.NEAR?new Intersection(oray,this,t,null,this.material,null,LevelPlane.NORMAL):null}},{key:"intersections",value:function(ray){var ci=this.closestIntersection(ray);return null!==ci?[ci]:[]}},{key:"containsObject",value:function(pos_object){return pos_object[2]<=0}},{key:"uvAtPoint",value:function(point){return new Vector2(point[0],point[1])}},{key:"normalAtPoint",value:function(point){return LevelPlane.NORMAL}}]),LevelPlane}(VisibleObject),LevelPlane.NORMAL=new Vector3(0,0,1),InfiniteCylinder=function(_VisibleObject4){function InfiniteCylinder(){return _classCallCheck(this,InfiniteCylinder),_possibleConstructorReturn(this,Object.getPrototypeOf(InfiniteCylinder).apply(this,arguments))}return _inherits(InfiniteCylinder,_VisibleObject4),_createClass(InfiniteCylinder,[{key:"closestIntersection",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),o=oray.origin,d=oray.dir,a=d[0]*d[0]+d[1]*d[1],b=2*(o[0]*d[0]+o[1]*d[1]),c=o[0]*o[0]+o[1]*o[1]-1,det=b*b-4*a*c;if(det>=0){var sdet=Math.sqrt(det),a2=2*a,t1=(-b-sdet)/a2,t2=(-b+sdet)/a2;if(t2>Ray.NEAR){var t=t1>Ray.NEAR?t1:t2;return new Intersection(oray,this,t,null,this.material)}return null}return null}},{key:"intersections",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),o=oray.origin,d=oray.dir,a=d[0]*d[0]+d[1]*d[1],b=2*(o[0]*d[0]+o[1]*d[1]),c=o[0]*o[0]+o[1]*o[1]-1,det=b*b-4*a*c,res=[];if(det>=0){var sdet=Math.sqrt(det),a2=2*a,t1=(-b-sdet)/a2,t2=(-b+sdet)/a2;t1>Ray.NEAR&&res.push(new Intersection(oray,this,t1,null,this.material)),t2>Ray.NEAR&&res.push(new Intersection(oray,this,t2,null,this.material))}return res}},{key:"containsObject",value:function(pos_object){return pos_object[0]*pos_object[0]+pos_object[1]*pos_object[1]<=1}},{key:"uvAtPoint",value:function(point){var cyl=Cylindrical.fromCartesian(point);return new Vector2(2*cyl.azimuth/Math.PI,cyl.axial)}},{key:"normalAtPoint",value:function(point){return new Vector3(point[0],point[1],0)}}]),InfiniteCylinder}(VisibleObject),Cylinder=function(_InfiniteCylinder){function Cylinder(){return _classCallCheck(this,Cylinder),_possibleConstructorReturn(this,Object.getPrototypeOf(Cylinder).apply(this,arguments))}return _inherits(Cylinder,_InfiniteCylinder),_createClass(Cylinder,[{key:"intersections",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),o=oray.origin,d=oray.dir,a=d[0]*d[0]+d[1]*d[1],b=2*(o[0]*d[0]+o[1]*d[1]),c=o[0]*o[0]+o[1]*o[1]-1,det=b*b-4*a*c,res=[];if(det>=0)for(var sdet=Math.sqrt(det),a2=2*a,ts=[(-b-sdet)/a2,(-b+sdet)/a2],i=0;i<2;i++){var t=ts[i];if(t>Ray.NEAR){var z=o[2]+t*d[2];z>=-1&&z<=1&&res.push(new Intersection(oray,this,t,null,this.material))}}return res}},{key:"containsObject",value:function(pos_object){return pos_object[2]>=-1&&pos_object[2]<=1&&pos_object[0]*pos_object[0]+pos_object[1]*pos_object[1]<=1}}]),Cylinder}(InfiniteCylinder),Cylinder.prototype.closestIntersection=VisibleObject.prototype.closestIntersection,Cone=function(_VisibleObject5){function Cone(){var z1=arguments.length<=0||void 0===arguments[0]?-(1/0):arguments[0],z2=arguments.length<=1||void 0===arguments[1]?1/0:arguments[1];_classCallCheck(this,Cone);var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(Cone).call(this));return _this6.z1=Math.min(z1,z2),_this6.z2=Math.max(z1,z2),_this6}return _inherits(Cone,_VisibleObject5),_createClass(Cone,[{key:"intersections",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),o=oray.origin,d=oray.dir,a=d[0]*d[0]+d[1]*d[1]-d[2]*d[2],b=2*(o[0]*d[0]+o[1]*d[1]-o[2]*d[2]),c=o[0]*o[0]+o[1]*o[1]-o[2]*o[2],det=b*b-4*a*c,res=[];if(det>=0)for(var sdet=Math.sqrt(det),a2=2*a,ts=[(-b-sdet)/a2,(-b+sdet)/a2],i=0;i<2;i++){var t=ts[i];if(t>Ray.NEAR){var z=o[2]+t*d[2];z>=this.z1&&z<=this.z2&&res.push(new Intersection(oray,this,t,null,this.material))}}return res}},{key:"containsObject",value:function(pos_object){return pos_object[2]>=this.z1&&pos_object[2]<=this.z2&&pos_object[0]*pos_object[0]+pos_object[1]*pos_object[1]<=pos_object[2]*pos_object[2]}},{key:"uvAtPoint",value:function(point){var cyl=Cylindrical.fromCartesian(point);return new Vector2(2*cyl.azimuth/Math.PI,cyl.axial*Math.SQRT2)}},{key:"normalAtPoint",value:function(point){var m=Math.sqrt(point[0]*point[0]+point[1]*point[1]),z=point[2]>0?-m:point[2]<0?m:0;return new Vector3(point[0],point[1],z).unit()}}]),Cone}(VisibleObject),Material=function(){function Material(){_classCallCheck(this,Material),this.parent=null,this.t3d_texture_to_parent=Identity4,this.t3d_texture_to_anchor=Identity4,this.t3d_anchor_to_texture=Identity4,this.t2d_texture_to_parent=Identity3,this.t2d_texture_to_object=Identity3,this.t2d_object_to_texture=Identity3}return _createClass(Material,[{key:"toString",value:function(){return"{"+this.constructor.name+"}"}},{key:"getColour",value:function(intersection,world){throw new AbstractMethodError}},{key:"setParent",value:function(parent){return this.parent=parent,this.t3dUpdate(),this.t2dUpdate(),this}},{key:"t3dUpdate",value:function(){return null===this.parent?this.t3d_texture_to_anchor=this.t3d_texture_to_parent:this.t3d_texture_to_anchor=this.t3d_texture_to_parent.multiply(this.parent.t3d_texture_to_anchor),this.t3d_anchor_to_texture=this.t3d_texture_to_anchor.inverse(),this}},{key:"t3dAnchorToTexture",value:function(point){return point.transformPos(this.t3d_anchor_to_texture)}},{key:"t3dReset",value:function(){return this.t3d_texture_to_parent=Identity4,this.t3dUpdate(),this}},{key:"t3dTransform",value:function(matrix){return this.t3d_texture_to_parent=matrix.multiply(this.t3d_texture_to_parent),this.t3dUpdate(),this}},{key:"t3dTranslate",value:function(){return this.t3dTransform(translate3D.apply(void 0,arguments))}},{key:"t3dScale",value:function(){return this.t3dTransform(scale3D.apply(void 0,arguments))}},{key:"t3dRotateX",value:function(){return this.t3dTransform(rotate3DX.apply(void 0,arguments))}},{key:"t3dRotateY",value:function(){return this.t3dTransform(rotate3DY.apply(void 0,arguments))}},{key:"t3dRotateZ",value:function(){return this.t3dTransform(rotate3DZ.apply(void 0,arguments))}},{key:"t3dRotateAxis",value:function(){return this.t3dTransform(rotate3DAxis.apply(void 0,arguments))}},{key:"t3dRotateXDeg",value:function(angle){return this.t3dRotateX(deg2rad(angle))}},{key:"t3dRotateYDeg",value:function(angle){return this.t3dRotateY(deg2rad(angle))}},{key:"t3dRotateZDeg",value:function(angle){return this.t3dRotateZ(deg2rad(angle))}},{key:"t3dRotateAxisDeg",value:function(axis,angle){return this.t3dRotateAxis(axis,deg2rad(angle))}},{key:"t2dUpdate",value:function(){return null===this.parent?this.t2d_texture_to_object=this.t2d_texture_to_parent:this.t2d_texture_to_object=this.t2d_texture_to_parent.multiply(this.parent.t2d_texture_to_object),this.t2d_object_to_texture=this.t2d_texture_to_object.inverse(),this}},{key:"t2dObjectToTexture",value:function(point){return point.transformPos(this.t2d_object_to_texture)}},{key:"t2dReset",value:function(){return this.t2d_texture_to_parent=Identity3,this.t2dUpdate(),this}},{key:"t2dTransform",value:function(matrix){return this.t2d_texture_to_parent=matrix.multiply(this.t2d_texture_to_parent),this.t2dUpdate(),this}},{key:"t2dTranslate",value:function(){return this.t2dTransform(translate2D.apply(void 0,arguments))}},{key:"t2dScale",value:function(){return this.t2dTransform(scale2D.apply(void 0,arguments))}},{key:"t2dRotate",value:function(){return this.t2dTransform(rotate2D.apply(void 0,arguments))}},{key:"t2dRotateDeg",value:function(angle){return this.t2dRotate(deg2rad(angle))}}]),Material}(),CompositeMaterial=function(_Material){function CompositeMaterial(){_classCallCheck(this,CompositeMaterial);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(CompositeMaterial).call(this));return _this.children=[],_this}return _inherits(CompositeMaterial,_Material),_createClass(CompositeMaterial,[{key:"add",value:function(material){return this.children.push(material),material.setParent(this),this}},{key:"t3dUpdate",value:function(){return _get(Object.getPrototypeOf(CompositeMaterial.prototype),"t3dUpdate",this).call(this),this.children.forEach(function(c){c.t3dUpdate()}),this}},{key:"t2dUpdate",value:function(){return _get(Object.getPrototypeOf(CompositeMaterial.prototype),"t2dUpdate",this).call(this),this.children.forEach(function(c){c.t2dUpdate()}),this}}]),CompositeMaterial}(Material),BlendedCompositeMaterial=function(_CompositeMaterial){function BlendedCompositeMaterial(){_classCallCheck(this,BlendedCompositeMaterial);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(BlendedCompositeMaterial).call(this));_this2.material_strengths=[];for(var _len=arguments.length,children=Array(_len),_key=0;_key<_len;_key++)children[_key]=arguments[_key];return children.forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),s=_ref2[0],m=_ref2[1];_this2.add(s,m)}),_this2}return _inherits(BlendedCompositeMaterial,_CompositeMaterial),_createClass(BlendedCompositeMaterial,[{key:"add",value:function(strength,material){_get(Object.getPrototypeOf(BlendedCompositeMaterial.prototype),"add",this).call(this,material),this.material_strengths.push(strength)}},{key:"getColour",value:function(intersection,world){var _this3=this;return this.children.reduce(function(colour,child,i){return blend(colour,child.getColour(intersection,world),_this3.material_strengths[i])},new RGBA(0,0,0,1))}}]),BlendedCompositeMaterial}(CompositeMaterial),AdditiveCompositeMaterial=function(_CompositeMaterial2){function AdditiveCompositeMaterial(){_classCallCheck(this,AdditiveCompositeMaterial);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(AdditiveCompositeMaterial).call(this));_this4.material_strengths=[];for(var _len2=arguments.length,children=Array(_len2),_key2=0;_key2<_len2;_key2++)children[_key2]=arguments[_key2];return children.forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),s=_ref4[0],m=_ref4[1];_this4.add(s,m)}),_this4}return _inherits(AdditiveCompositeMaterial,_CompositeMaterial2),_createClass(AdditiveCompositeMaterial,[{key:"add",value:function(strength,material){_get(Object.getPrototypeOf(AdditiveCompositeMaterial.prototype),"add",this).call(this,material),this.material_strengths.push(strength)}},{key:"getColour",value:function(intersection,world){var _this5=this;return this.children.reduce(function(colour,child,i){var mcol=child.getColour(intersection,world),mstrength=_this5.material_strengths[i]*mcol.alpha();
return colour.r+=mcol.r*mstrength,colour.g+=mcol.g*mstrength,colour.b+=mcol.b*mstrength,colour.a+=mstrength,colour},new RGBA(0,0,0,1))}}]),AdditiveCompositeMaterial}(CompositeMaterial),Selective3DCompositeMaterial=function(_CompositeMaterial3){function Selective3DCompositeMaterial(){return _classCallCheck(this,Selective3DCompositeMaterial),_possibleConstructorReturn(this,Object.getPrototypeOf(Selective3DCompositeMaterial).apply(this,arguments))}return _inherits(Selective3DCompositeMaterial,_CompositeMaterial3),_createClass(Selective3DCompositeMaterial,[{key:"getMaterialT3D",value:function(t3d){throw new AbstractMethodError}},{key:"getColour",value:function(intersection,world){var t3d=this.t3dAnchorToTexture(intersection.getT3DAnchor()),material=this.getMaterialT3D(t3d);return material.getColour(intersection,world)}}]),Selective3DCompositeMaterial}(CompositeMaterial),Selective2DCompositeMaterial=function(_CompositeMaterial4){function Selective2DCompositeMaterial(){return _classCallCheck(this,Selective2DCompositeMaterial),_possibleConstructorReturn(this,Object.getPrototypeOf(Selective2DCompositeMaterial).apply(this,arguments))}return _inherits(Selective2DCompositeMaterial,_CompositeMaterial4),_createClass(Selective2DCompositeMaterial,[{key:"getMaterialT2D",value:function(t2d){throw new AbstractMethodError}},{key:"getColour",value:function(intersection,world){var t2d=this.t2dObjectToTexture(intersection.getUVObject()),material=this.getMaterialT2D(t2d);return material.getColour(intersection,world)}}]),Selective2DCompositeMaterial}(CompositeMaterial),Checks2D=function(_Selective2DComposite){function Checks2D(mat1,mat2){_classCallCheck(this,Checks2D);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Checks2D).call(this));return _this.add(mat1),_this.add(mat2),_this}return _inherits(Checks2D,_Selective2DComposite),_createClass(Checks2D,[{key:"getMaterialT2D",value:function(t2d){var det=Math.floor(t2d[0])+Math.floor(t2d[1]);return this.children[Math.abs(det%2)]}}]),Checks2D}(Selective2DCompositeMaterial),Stripes2D=function(_Selective2DComposite2){function Stripes2D(){_classCallCheck(this,Stripes2D);for(var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(Stripes2D).call(this)),_len=arguments.length,children=Array(_len),_key=0;_key<_len;_key++)children[_key]=arguments[_key];return children.forEach(function(c){_this2.add(c)}),_this2}return _inherits(Stripes2D,_Selective2DComposite2),_createClass(Stripes2D,[{key:"getMaterialT2D",value:function(t2d){var det=Math.floor(t2d[1]);return this.children[Math.abs(det%this.children.length)]}}]),Stripes2D}(Selective2DCompositeMaterial),Checks3D=function(_Selective3DComposite){function Checks3D(mat1,mat2){_classCallCheck(this,Checks3D);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(Checks3D).call(this));return _this3.add(mat1),_this3.add(mat2),_this3}return _inherits(Checks3D,_Selective3DComposite),_createClass(Checks3D,[{key:"getMaterialT3D",value:function(t3d){var det=Math.floor(t3d[0])+Math.floor(t3d[1])+Math.floor(t3d[2]);return this.children[Math.abs(det%2)]}}]),Checks3D}(Selective3DCompositeMaterial),Stripes3D=function(_Selective3DComposite2){function Stripes3D(){_classCallCheck(this,Stripes3D);for(var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(Stripes3D).call(this)),_len2=arguments.length,children=Array(_len2),_key2=0;_key2<_len2;_key2++)children[_key2]=arguments[_key2];return children.forEach(function(c){_this4.add(c)}),_this4}return _inherits(Stripes3D,_Selective3DComposite2),_createClass(Stripes3D,[{key:"getMaterialT3D",value:function(t3d){var det=Math.floor(t3d[2]);return this.children[Math.abs(det%this.children.length)]}}]),Stripes3D}(Selective3DCompositeMaterial);PhongMaterial=function(_Material){function PhongMaterial(){return _classCallCheck(this,PhongMaterial),_possibleConstructorReturn(this,Object.getPrototypeOf(PhongMaterial).apply(this,arguments))}return _inherits(PhongMaterial,_Material),_createClass(PhongMaterial,[{key:"getColour",value:function(intersection,world){var pos_world=intersection.getPosWorld(),t3d=this.t3dAnchorToTexture(intersection.getT3DAnchor()),t2d=this.t2dObjectToTexture(intersection.getUVObject()),pp=this.phongParamsAtPoint(t3d,t2d),ambient=world.ambient_light_strength*pp.aa,alc=world.ambient_light_colour,col=new RGB$1(ambient*alc.r*pp.ac.r,ambient*alc.g*pp.ac.g,ambient*alc.b*pp.ac.b);if(zero(pp.da)&&zero(pp.sa))return col;var _ret=function(){var normal=intersection.getNormalWorld();return world.lightsAtPoint(pos_world).forEach(function(_ref){var _ref2=_slicedToArray(_ref,4),lvec=(_ref2[0],_ref2[1]),ls=_ref2[2],lc=_ref2[3];if(!zero(pp.da)){var diffuse=clamp(ls*pp.da*lvec.dot(normal),0,1);zero(diffuse)||(col.r+=diffuse*pp.dc.r*lc.r,col.g+=diffuse*pp.dc.g*lc.g,col.b+=diffuse*pp.dc.b*lc.b)}if(!zero(pp.sa)){var rvvec=intersection.getReflectedWorld(),dot=clamp(rvvec.dot(lvec),0,1),specular=ls*pp.sa*Math.pow(dot,pp.shininess);zero(specular)||(col.r+=specular*pp.sc.r*lc.r,col.g+=specular*pp.sc.g*lc.g,col.b+=specular*pp.sc.b*lc.b)}}),{v:col}}();return"object"==typeof _ret?_ret.v:void 0}},{key:"phongParamsAtPoint",value:function(t3d,t2d){throw new AbstractMethodError}}]),PhongMaterial}(Material);PhongParams=function(){function PhongParams(ambient_amount,ambient_colour,diffuse_amount,diffuse_colour,specular_amount,specular_colour,shininess){_classCallCheck(this,PhongParams),this.aa=ambient_amount,this.ac=ambient_colour,this.da=diffuse_amount,this.dc=diffuse_colour,this.sa=specular_amount,this.sc=specular_colour,this.shininess=shininess}return _createClass(PhongParams,[{key:"toString",value:function(){return"{PhongParams: ambient "+this.aa.toPrecision(3)+" "+this.ac+", diffuse "+this.da.toPrecision(3)+" "+this.dc+", specular "+this.sa.toPrecision(3)+" "+this.sc+", shininess "+this.shininess.toPrecision(3)+"}"}}]),PhongParams}(),Mirror=function(_Material){function Mirror(){var colour=arguments.length<=0||void 0===arguments[0]?White:arguments[0];_classCallCheck(this,Mirror);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Mirror).call(this));return _this.colour=colour,_this}return _inherits(Mirror,_Material),_createClass(Mirror,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.colour+"}"}},{key:"getColour",value:function(intersection,world){var gen=intersection.generation();if(gen<Ray.MAX_GENERATION){var pos_world=intersection.getPosWorld(),rvec=intersection.getReflectedWorld(),rray=new Ray(pos_world,rvec,gen+1),rcolour=world.rayColour(rray);return multiply(rcolour,this.colour)}return this.colour}}]),Mirror}(Material),SolidShadedMaterial=function(_Material){function SolidShadedMaterial(colour){_classCallCheck(this,SolidShadedMaterial);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SolidShadedMaterial).call(this));return _this.colour=colour,_this}return _inherits(SolidShadedMaterial,_Material),_createClass(SolidShadedMaterial,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.colour+"}"}},{key:"getColour",value:function(intersection,world){return this.colour}}]),SolidShadedMaterial}(Material),SolidPhongMaterial=function(_PhongMaterial){function SolidPhongMaterial(phong_params){_classCallCheck(this,SolidPhongMaterial);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(SolidPhongMaterial).call(this));return _this2.phong_params=phong_params,_this2}return _inherits(SolidPhongMaterial,_PhongMaterial),_createClass(SolidPhongMaterial,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.phong_params+"}"}},{key:"phongParamsAtPoint",value:function(t3d,t2d){return this.phong_params}}]),SolidPhongMaterial}(PhongMaterial),SolidMattMaterial=function(_SolidPhongMaterial){function SolidMattMaterial(colour){return _classCallCheck(this,SolidMattMaterial),_possibleConstructorReturn(this,Object.getPrototypeOf(SolidMattMaterial).call(this,new PhongParams(1,colour,1,colour,0,White,1)))}return _inherits(SolidMattMaterial,_SolidPhongMaterial),_createClass(SolidMattMaterial,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.phong_params.dc+"}"}}]),SolidMattMaterial}(SolidPhongMaterial),SolidShinyMaterial=function(_SolidPhongMaterial2){function SolidShinyMaterial(colour){var shininess=arguments.length<=1||void 0===arguments[1]?10:arguments[1];return _classCallCheck(this,SolidShinyMaterial),_possibleConstructorReturn(this,Object.getPrototypeOf(SolidShinyMaterial).call(this,new PhongParams(1,colour,1,colour,1,White,shininess)))}return _inherits(SolidShinyMaterial,_SolidPhongMaterial2),_createClass(SolidShinyMaterial,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.phong_params.dc+", shininess "+this.phong_params.shininess.toPrecision(3)+"}"}}]),SolidShinyMaterial}(SolidPhongMaterial),PhongMirror=function(_BlendedCompositeMate){function PhongMirror(phong_strength,phong_params){var mirror_strength=arguments.length<=2||void 0===arguments[2]?0:arguments[2],mirror_colour=arguments.length<=3||void 0===arguments[3]?White:arguments[3];_classCallCheck(this,PhongMirror);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(PhongMirror).call(this));return _this5.add(phong_strength,new SolidPhongMaterial(phong_params)),_this5.add(mirror_strength,new Mirror(mirror_colour)),_this5}return _inherits(PhongMirror,_BlendedCompositeMate),PhongMirror}(BlendedCompositeMaterial),SolidMetallicMaterial=function(_PhongMirror){function SolidMetallicMaterial(colour){var mirror_strength=arguments.length<=1||void 0===arguments[1]?.2:arguments[1],mirror_colour=arguments.length<=2||void 0===arguments[2]?colour:arguments[2],shininess=arguments.length<=3||void 0===arguments[3]?10:arguments[3];return _classCallCheck(this,SolidMetallicMaterial),_possibleConstructorReturn(this,Object.getPrototypeOf(SolidMetallicMaterial).call(this,1,new PhongParams(1,colour,1,colour,1,White,shininess),mirror_strength,mirror_colour))}return _inherits(SolidMetallicMaterial,_PhongMirror),SolidMetallicMaterial}(PhongMirror),AliceBlue=new RGB$1(240/255,248/255,1),AntiqueWhite=new RGB$1(250/255,235/255,215/255),AntiqueWhite1=new RGB$1(1,239/255,219/255),AntiqueWhite2=new RGB$1(238/255,223/255,.8),AntiqueWhite3=new RGB$1(205/255,192/255,176/255),AntiqueWhite4=new RGB$1(139/255,131/255,120/255),Aquamarine=new RGB$1(127/255,1,212/255),Aquamarine1=new RGB$1(127/255,1,212/255),Aquamarine2=new RGB$1(118/255,238/255,198/255),Aquamarine3=new RGB$1(.4,205/255,170/255),Aquamarine4=new RGB$1(69/255,139/255,116/255),Azure=new RGB$1(240/255,1,1),Azure1=new RGB$1(240/255,1,1),Azure2=new RGB$1(224/255,238/255,238/255),Azure3=new RGB$1(193/255,205/255,205/255),Azure4=new RGB$1(131/255,139/255,139/255),Beige=new RGB$1(245/255,245/255,220/255),Bisque=new RGB$1(1,228/255,196/255),Bisque1=new RGB$1(1,228/255,196/255),Bisque2=new RGB$1(238/255,213/255,183/255),Bisque3=new RGB$1(205/255,183/255,158/255),Bisque4=new RGB$1(139/255,125/255,107/255),Black$1=new RGB$1(0,0,0),BlanchedAlmond=new RGB$1(1,235/255,205/255),Blue$1=new RGB$1(0,0,1),Blue1=new RGB$1(0,0,1),Blue2=new RGB$1(0,0,238/255),Blue3=new RGB$1(0,0,205/255),Blue4=new RGB$1(0,0,139/255),BlueViolet=new RGB$1(138/255,43/255,226/255),Brown=new RGB$1(165/255,42/255,42/255),Brown1=new RGB$1(1,64/255,64/255),Brown2=new RGB$1(238/255,59/255,59/255),Brown3=new RGB$1(205/255,.2,.2),Brown4=new RGB$1(139/255,35/255,35/255),Burlywood=new RGB$1(222/255,184/255,135/255),Burlywood1=new RGB$1(1,211/255,155/255),Burlywood2=new RGB$1(238/255,197/255,145/255),Burlywood3=new RGB$1(205/255,170/255,125/255),Burlywood4=new RGB$1(139/255,115/255,85/255),CadetBlue=new RGB$1(95/255,158/255,160/255),CadetBlue1=new RGB$1(152/255,245/255,1),CadetBlue2=new RGB$1(142/255,229/255,238/255),CadetBlue3=new RGB$1(122/255,197/255,205/255),CadetBlue4=new RGB$1(83/255,134/255,139/255),Chartreuse=new RGB$1(127/255,1,0),Chartreuse1=new RGB$1(127/255,1,0),Chartreuse2=new RGB$1(118/255,238/255,0),Chartreuse3=new RGB$1(.4,205/255,0),Chartreuse4=new RGB$1(69/255,139/255,0),Chocolate=new RGB$1(210/255,105/255,30/255),Chocolate1=new RGB$1(1,127/255,36/255),Chocolate2=new RGB$1(238/255,118/255,33/255),Chocolate3=new RGB$1(205/255,.4,29/255),Chocolate4=new RGB$1(139/255,69/255,19/255),Coral=new RGB$1(1,127/255,80/255),Coral1=new RGB$1(1,114/255,86/255),Coral2=new RGB$1(238/255,106/255,80/255),Coral3=new RGB$1(205/255,91/255,69/255),Coral4=new RGB$1(139/255,62/255,47/255),CornflowerBlue=new RGB$1(100/255,149/255,237/255),Cornsilk=new RGB$1(1,248/255,220/255),Cornsilk1=new RGB$1(1,248/255,220/255),Cornsilk2=new RGB$1(238/255,232/255,205/255),Cornsilk3=new RGB$1(205/255,200/255,177/255),Cornsilk4=new RGB$1(139/255,136/255,120/255),Cyan$1=new RGB$1(0,1,1),Cyan1=new RGB$1(0,1,1),Cyan2=new RGB$1(0,238/255,238/255),Cyan3=new RGB$1(0,205/255,205/255),Cyan4=new RGB$1(0,139/255,139/255),DarkBlue=new RGB$1(0,0,139/255),DarkCyan=new RGB$1(0,139/255,139/255),DarkGoldenrod=new RGB$1(184/255,134/255,11/255),DarkGoldenrod1=new RGB$1(1,185/255,15/255),DarkGoldenrod2=new RGB$1(238/255,173/255,14/255),DarkGoldenrod3=new RGB$1(205/255,149/255,12/255),DarkGoldenrod4=new RGB$1(139/255,101/255,8/255),DarkGreen=new RGB$1(0,100/255,0),DarkGrey=new RGB$1(169/255,169/255,169/255),DarkKhaki=new RGB$1(189/255,183/255,107/255),DarkMagenta=new RGB$1(139/255,0,139/255),DarkOliveGreen=new RGB$1(85/255,107/255,47/255),DarkOliveGreen1=new RGB$1(202/255,1,112/255),DarkOliveGreen2=new RGB$1(188/255,238/255,104/255),DarkOliveGreen3=new RGB$1(162/255,205/255,90/255),DarkOliveGreen4=new RGB$1(110/255,139/255,61/255),DarkOrange=new RGB$1(1,140/255,0),DarkOrange1=new RGB$1(1,127/255,0),DarkOrange2=new RGB$1(238/255,118/255,0),DarkOrange3=new RGB$1(205/255,.4,0),DarkOrange4=new RGB$1(139/255,69/255,0),DarkOrchid=new RGB$1(.6,50/255,.8),DarkOrchid1=new RGB$1(191/255,62/255,1),DarkOrchid2=new RGB$1(178/255,58/255,238/255),DarkOrchid3=new RGB$1(154/255,50/255,205/255),DarkOrchid4=new RGB$1(104/255,34/255,139/255),DarkRed=new RGB$1(139/255,0,0),DarkSalmon=new RGB$1(233/255,150/255,122/255),DarkSeaGreen=new RGB$1(143/255,188/255,143/255),DarkSeaGreen1=new RGB$1(193/255,1,193/255),DarkSeaGreen2=new RGB$1(180/255,238/255,180/255),DarkSeaGreen3=new RGB$1(155/255,205/255,155/255),DarkSeaGreen4=new RGB$1(105/255,139/255,105/255),DarkSlateBlue=new RGB$1(72/255,61/255,139/255),DarkSlateGrey=new RGB$1(47/255,79/255,79/255),DarkSlateGrey1=new RGB$1(151/255,1,1),DarkSlateGrey2=new RGB$1(141/255,238/255,238/255),DarkSlateGrey3=new RGB$1(121/255,205/255,205/255),DarkSlateGrey4=new RGB$1(82/255,139/255,139/255),DarkTurquoise=new RGB$1(0,206/255,209/255),DarkViolet=new RGB$1(148/255,0,211/255),DebianRed=new RGB$1(215/255,7/255,81/255),DeepPink=new RGB$1(1,20/255,147/255),DeepPink1=new RGB$1(1,20/255,147/255),DeepPink2=new RGB$1(238/255,18/255,137/255),DeepPink3=new RGB$1(205/255,16/255,118/255),DeepPink4=new RGB$1(139/255,10/255,80/255),DeepSkyBlue=new RGB$1(0,191/255,1),DeepSkyBlue1=new RGB$1(0,191/255,1),DeepSkyBlue2=new RGB$1(0,178/255,238/255),DeepSkyBlue3=new RGB$1(0,154/255,205/255),DeepSkyBlue4=new RGB$1(0,104/255,139/255),DimGrey=new RGB$1(105/255,105/255,105/255),DodgerBlue=new RGB$1(30/255,144/255,1),DodgerBlue1=new RGB$1(30/255,144/255,1),DodgerBlue2=new RGB$1(28/255,134/255,238/255),DodgerBlue3=new RGB$1(24/255,116/255,205/255),DodgerBlue4=new RGB$1(16/255,78/255,139/255),Firebrick=new RGB$1(178/255,34/255,34/255),Firebrick1=new RGB$1(1,48/255,48/255),Firebrick2=new RGB$1(238/255,44/255,44/255),Firebrick3=new RGB$1(205/255,38/255,38/255),Firebrick4=new RGB$1(139/255,26/255,26/255),FloralWhite=new RGB$1(1,250/255,240/255),ForestGreen=new RGB$1(34/255,139/255,34/255),Gainsboro=new RGB$1(220/255,220/255,220/255),GhostWhite=new RGB$1(248/255,248/255,1),Gold=new RGB$1(1,215/255,0),Gold1=new RGB$1(1,215/255,0),Gold2=new RGB$1(238/255,201/255,0),Gold3=new RGB$1(205/255,173/255,0),Gold4=new RGB$1(139/255,117/255,0),Goldenrod=new RGB$1(218/255,165/255,32/255),Goldenrod1=new RGB$1(1,193/255,37/255),Goldenrod2=new RGB$1(238/255,180/255,34/255),Goldenrod3=new RGB$1(205/255,155/255,29/255),Goldenrod4=new RGB$1(139/255,105/255,20/255),Green$1=new RGB$1(0,1,0),Green1=new RGB$1(0,1,0),Green2=new RGB$1(0,238/255,0),Green3=new RGB$1(0,205/255,0),Green4=new RGB$1(0,139/255,0),GreenYellow=new RGB$1(173/255,1,47/255),Grey=new RGB$1(190/255,190/255,190/255),Grey0=new RGB$1(0,0,0),Grey1=new RGB$1(3/255,3/255,3/255),Grey10=new RGB$1(26/255,26/255,26/255),Grey100=new RGB$1(1,1,1),Grey11=new RGB$1(28/255,28/255,28/255),Grey12=new RGB$1(31/255,31/255,31/255),Grey13=new RGB$1(33/255,33/255,33/255),Grey14=new RGB$1(36/255,36/255,36/255),Grey15=new RGB$1(38/255,38/255,38/255),Grey16=new RGB$1(41/255,41/255,41/255),Grey17=new RGB$1(43/255,43/255,43/255),Grey18=new RGB$1(46/255,46/255,46/255),Grey19=new RGB$1(48/255,48/255,48/255),Grey2=new RGB$1(5/255,5/255,5/255),Grey20=new RGB$1(.2,.2,.2),Grey21=new RGB$1(54/255,54/255,54/255),Grey22=new RGB$1(56/255,56/255,56/255),Grey23=new RGB$1(59/255,59/255,59/255),Grey24=new RGB$1(61/255,61/255,61/255),Grey25=new RGB$1(64/255,64/255,64/255),Grey26=new RGB$1(66/255,66/255,66/255),Grey27=new RGB$1(69/255,69/255,69/255),Grey28=new RGB$1(71/255,71/255,71/255),Grey29=new RGB$1(74/255,74/255,74/255),Grey3=new RGB$1(8/255,8/255,8/255),Grey30=new RGB$1(77/255,77/255,77/255),Grey31=new RGB$1(79/255,79/255,79/255),Grey32=new RGB$1(82/255,82/255,82/255),Grey33=new RGB$1(84/255,84/255,84/255),Grey34=new RGB$1(87/255,87/255,87/255),Grey35=new RGB$1(89/255,89/255,89/255),Grey36=new RGB$1(92/255,92/255,92/255),Grey37=new RGB$1(94/255,94/255,94/255),Grey38=new RGB$1(97/255,97/255,97/255),Grey39=new RGB$1(99/255,99/255,99/255),Grey4=new RGB$1(10/255,10/255,10/255),Grey40=new RGB$1(.4,.4,.4);Grey41=new RGB$1(105/255,105/255,105/255);Grey42=new RGB$1(107/255,107/255,107/255),Grey43=new RGB$1(110/255,110/255,110/255),Grey44=new RGB$1(112/255,112/255,112/255),Grey45=new RGB$1(115/255,115/255,115/255),Grey46=new RGB$1(117/255,117/255,117/255),Grey47=new RGB$1(120/255,120/255,120/255),Grey48=new RGB$1(122/255,122/255,122/255),Grey49=new RGB$1(125/255,125/255,125/255),Grey5=new RGB$1(13/255,13/255,13/255),Grey50=new RGB$1(127/255,127/255,127/255),Grey51=new RGB$1(130/255,130/255,130/255),Grey52=new RGB$1(133/255,133/255,133/255),Grey53=new RGB$1(135/255,135/255,135/255),Grey54=new RGB$1(138/255,138/255,138/255),Grey55=new RGB$1(140/255,140/255,140/255),Grey56=new RGB$1(143/255,143/255,143/255),Grey57=new RGB$1(145/255,145/255,145/255),Grey58=new RGB$1(148/255,148/255,148/255),Grey59=new RGB$1(150/255,150/255,150/255),Grey6=new RGB$1(15/255,15/255,15/255),Grey60=new RGB$1(.6,.6,.6),Grey61=new RGB$1(156/255,156/255,156/255),Grey62=new RGB$1(158/255,158/255,158/255),Grey63=new RGB$1(161/255,161/255,161/255),Grey64=new RGB$1(163/255,163/255,163/255),Grey65=new RGB$1(166/255,166/255,166/255),Grey66=new RGB$1(168/255,168/255,168/255),Grey67=new RGB$1(171/255,171/255,171/255),Grey68=new RGB$1(173/255,173/255,173/255),Grey69=new RGB$1(176/255,176/255,176/255),Grey7=new RGB$1(18/255,18/255,18/255),Grey70=new RGB$1(179/255,179/255,179/255),Grey71=new RGB$1(181/255,181/255,181/255),Grey72=new RGB$1(184/255,184/255,184/255),Grey73=new RGB$1(186/255,186/255,186/255),Grey74=new RGB$1(189/255,189/255,189/255),Grey75=new RGB$1(191/255,191/255,191/255),Grey76=new RGB$1(194/255,194/255,194/255),Grey77=new RGB$1(196/255,196/255,196/255),Grey78=new RGB$1(199/255,199/255,199/255),Grey79=new RGB$1(201/255,201/255,201/255),Grey8=new RGB$1(20/255,20/255,20/255),Grey80=new RGB$1(.8,.8,.8),Grey81=new RGB$1(207/255,207/255,207/255),Grey82=new RGB$1(209/255,209/255,209/255),Grey83=new RGB$1(212/255,212/255,212/255),Grey84=new RGB$1(214/255,214/255,214/255),Grey85=new RGB$1(217/255,217/255,217/255),Grey86=new RGB$1(219/255,219/255,219/255),Grey87=new RGB$1(222/255,222/255,222/255),Grey88=new RGB$1(224/255,224/255,224/255),Grey89=new RGB$1(227/255,227/255,227/255),Grey9=new RGB$1(23/255,23/255,23/255),Grey90=new RGB$1(229/255,229/255,229/255),Grey91=new RGB$1(232/255,232/255,232/255),Grey92=new RGB$1(235/255,235/255,235/255),Grey93=new RGB$1(237/255,237/255,237/255),Grey94=new RGB$1(240/255,240/255,240/255),Grey95=new RGB$1(242/255,242/255,242/255),Grey96=new RGB$1(245/255,245/255,245/255),Grey97=new RGB$1(247/255,247/255,247/255),Grey98=new RGB$1(250/255,250/255,250/255),Grey99=new RGB$1(252/255,252/255,252/255),Honeydew=new RGB$1(240/255,1,240/255),Honeydew1=new RGB$1(240/255,1,240/255),Honeydew2=new RGB$1(224/255,238/255,224/255),Honeydew3=new RGB$1(193/255,205/255,193/255),Honeydew4=new RGB$1(131/255,139/255,131/255),HotPink=new RGB$1(1,105/255,180/255),HotPink1=new RGB$1(1,110/255,180/255),HotPink2=new RGB$1(238/255,106/255,167/255),HotPink3=new RGB$1(205/255,96/255,144/255),HotPink4=new RGB$1(139/255,58/255,98/255),IndianRed=new RGB$1(205/255,92/255,92/255),IndianRed1=new RGB$1(1,106/255,106/255),IndianRed2=new RGB$1(238/255,99/255,99/255),IndianRed3=new RGB$1(205/255,85/255,85/255),IndianRed4=new RGB$1(139/255,58/255,58/255),Ivory=new RGB$1(1,1,240/255),Ivory1=new RGB$1(1,1,240/255),Ivory2=new RGB$1(238/255,238/255,224/255),Ivory3=new RGB$1(205/255,205/255,193/255),Ivory4=new RGB$1(139/255,139/255,131/255),Khaki=new RGB$1(240/255,230/255,140/255),Khaki1=new RGB$1(1,246/255,143/255),Khaki2=new RGB$1(238/255,230/255,133/255),Khaki3=new RGB$1(205/255,198/255,115/255),Khaki4=new RGB$1(139/255,134/255,78/255),Lavender=new RGB$1(230/255,230/255,250/255),LavenderBlush=new RGB$1(1,240/255,245/255),LavenderBlush1=new RGB$1(1,240/255,245/255),LavenderBlush2=new RGB$1(238/255,224/255,229/255),LavenderBlush3=new RGB$1(205/255,193/255,197/255),LavenderBlush4=new RGB$1(139/255,131/255,134/255),LawnGreen=new RGB$1(124/255,252/255,0),LemonChiffon=new RGB$1(1,250/255,205/255),LemonChiffon1=new RGB$1(1,250/255,205/255),LemonChiffon2=new RGB$1(238/255,233/255,191/255),LemonChiffon3=new RGB$1(205/255,201/255,165/255),LemonChiffon4=new RGB$1(139/255,137/255,112/255),LightBlue=new RGB$1(173/255,216/255,230/255),LightBlue1=new RGB$1(191/255,239/255,1),LightBlue2=new RGB$1(178/255,223/255,238/255),LightBlue3=new RGB$1(154/255,192/255,205/255),LightBlue4=new RGB$1(104/255,131/255,139/255),LightCoral=new RGB$1(240/255,128/255,128/255),LightCyan=new RGB$1(224/255,1,1),LightCyan1=new RGB$1(224/255,1,1),LightCyan2=new RGB$1(209/255,238/255,238/255),LightCyan3=new RGB$1(180/255,205/255,205/255),LightCyan4=new RGB$1(122/255,139/255,139/255),LightGoldenrod=new RGB$1(238/255,221/255,130/255),LightGoldenrod1=new RGB$1(1,236/255,139/255),LightGoldenrod2=new RGB$1(238/255,220/255,130/255),LightGoldenrod3=new RGB$1(205/255,190/255,112/255),LightGoldenrod4=new RGB$1(139/255,129/255,76/255),LightGoldenrodYellow=new RGB$1(250/255,250/255,210/255),LightGreen=new RGB$1(144/255,238/255,144/255),LightGrey=new RGB$1(211/255,211/255,211/255),LightPink=new RGB$1(1,182/255,193/255),LightPink1=new RGB$1(1,174/255,185/255),LightPink2=new RGB$1(238/255,162/255,173/255),LightPink3=new RGB$1(205/255,140/255,149/255),LightPink4=new RGB$1(139/255,95/255,101/255),LightSalmon=new RGB$1(1,160/255,122/255),LightSalmon1=new RGB$1(1,160/255,122/255),LightSalmon2=new RGB$1(238/255,149/255,114/255),LightSalmon3=new RGB$1(205/255,129/255,98/255),LightSalmon4=new RGB$1(139/255,87/255,66/255),LightSeaGreen=new RGB$1(32/255,178/255,170/255),LightSkyBlue=new RGB$1(135/255,206/255,250/255),LightSkyBlue1=new RGB$1(176/255,226/255,1),LightSkyBlue2=new RGB$1(164/255,211/255,238/255),LightSkyBlue3=new RGB$1(141/255,182/255,205/255),LightSkyBlue4=new RGB$1(96/255,123/255,139/255),LightSlateBlue=new RGB$1(132/255,112/255,1),LightSlateGrey=new RGB$1(119/255,136/255,.6),LightSteelBlue=new RGB$1(176/255,196/255,222/255),LightSteelBlue1=new RGB$1(202/255,225/255,1),LightSteelBlue2=new RGB$1(188/255,210/255,238/255),LightSteelBlue3=new RGB$1(162/255,181/255,205/255),LightSteelBlue4=new RGB$1(110/255,123/255,139/255),LightYellow=new RGB$1(1,1,224/255),LightYellow1=new RGB$1(1,1,224/255),LightYellow2=new RGB$1(238/255,238/255,209/255),LightYellow3=new RGB$1(205/255,205/255,180/255),LightYellow4=new RGB$1(139/255,139/255,122/255),LimeGreen=new RGB$1(50/255,205/255,50/255),Linen=new RGB$1(250/255,240/255,230/255),Magenta$1=new RGB$1(1,0,1),Magenta1=new RGB$1(1,0,1),Magenta2=new RGB$1(238/255,0,238/255),Magenta3=new RGB$1(205/255,0,205/255),Magenta4=new RGB$1(139/255,0,139/255),Maroon=new RGB$1(176/255,48/255,96/255),Maroon1=new RGB$1(1,52/255,179/255),Maroon2=new RGB$1(238/255,48/255,167/255),Maroon3=new RGB$1(205/255,41/255,144/255),Maroon4=new RGB$1(139/255,28/255,98/255),MediumAquamarine=new RGB$1(.4,205/255,170/255),MediumBlue=new RGB$1(0,0,205/255),MediumOrchid=new RGB$1(186/255,85/255,211/255),MediumOrchid1=new RGB$1(224/255,.4,1),MediumOrchid2=new RGB$1(209/255,95/255,238/255),MediumOrchid3=new RGB$1(180/255,82/255,205/255),MediumOrchid4=new RGB$1(122/255,55/255,139/255),MediumPurple=new RGB$1(147/255,112/255,219/255),MediumPurple1=new RGB$1(171/255,130/255,1),MediumPurple2=new RGB$1(159/255,121/255,238/255),MediumPurple3=new RGB$1(137/255,104/255,205/255),MediumPurple4=new RGB$1(93/255,71/255,139/255),MediumSeaGreen=new RGB$1(60/255,179/255,113/255),MediumSlateBlue=new RGB$1(123/255,104/255,238/255),MediumSpringGreen=new RGB$1(0,250/255,154/255),MediumTurquoise=new RGB$1(72/255,209/255,.8),MediumVioletRed=new RGB$1(199/255,21/255,133/255),MidnightBlue=new RGB$1(25/255,25/255,112/255),MintCream=new RGB$1(245/255,1,250/255),MistyRose=new RGB$1(1,228/255,225/255),MistyRose1=new RGB$1(1,228/255,225/255),MistyRose2=new RGB$1(238/255,213/255,210/255),MistyRose3=new RGB$1(205/255,183/255,181/255),MistyRose4=new RGB$1(139/255,125/255,123/255),Moccasin=new RGB$1(1,228/255,181/255),NavajoWhite=new RGB$1(1,222/255,173/255),NavajoWhite1=new RGB$1(1,222/255,173/255),NavajoWhite2=new RGB$1(238/255,207/255,161/255),NavajoWhite3=new RGB$1(205/255,179/255,139/255),NavajoWhite4=new RGB$1(139/255,121/255,94/255),Navy=new RGB$1(0,0,128/255),NavyBlue=new RGB$1(0,0,128/255),OldLace=new RGB$1(253/255,245/255,230/255),OliveDrab=new RGB$1(107/255,142/255,35/255),OliveDrab1=new RGB$1(192/255,1,62/255),OliveDrab2=new RGB$1(179/255,238/255,58/255),OliveDrab3=new RGB$1(154/255,205/255,50/255),OliveDrab4=new RGB$1(105/255,139/255,34/255),Orange=new RGB$1(1,165/255,0),Orange1=new RGB$1(1,165/255,0),Orange2=new RGB$1(238/255,154/255,0);Orange3=new RGB$1(205/255,133/255,0);Orange4=new RGB$1(139/255,90/255,0),OrangeRed=new RGB$1(1,69/255,0),OrangeRed1=new RGB$1(1,69/255,0),OrangeRed2=new RGB$1(238/255,64/255,0),OrangeRed3=new RGB$1(205/255,55/255,0),OrangeRed4=new RGB$1(139/255,37/255,0),Orchid=new RGB$1(218/255,112/255,214/255),Orchid1=new RGB$1(1,131/255,250/255),Orchid2=new RGB$1(238/255,122/255,233/255),Orchid3=new RGB$1(205/255,105/255,201/255),Orchid4=new RGB$1(139/255,71/255,137/255),PaleGoldenrod=new RGB$1(238/255,232/255,170/255),PaleGreen=new RGB$1(152/255,251/255,152/255),PaleGreen1=new RGB$1(154/255,1,154/255),PaleGreen2=new RGB$1(144/255,238/255,144/255),PaleGreen3=new RGB$1(124/255,205/255,124/255),PaleGreen4=new RGB$1(84/255,139/255,84/255),PaleTurquoise=new RGB$1(175/255,238/255,238/255),PaleTurquoise1=new RGB$1(187/255,1,1),PaleTurquoise2=new RGB$1(174/255,238/255,238/255),PaleTurquoise3=new RGB$1(150/255,205/255,205/255),PaleTurquoise4=new RGB$1(.4,139/255,139/255),PaleVioletRed=new RGB$1(219/255,112/255,147/255),PaleVioletRed1=new RGB$1(1,130/255,171/255),PaleVioletRed2=new RGB$1(238/255,121/255,159/255),PaleVioletRed3=new RGB$1(205/255,104/255,137/255),PaleVioletRed4=new RGB$1(139/255,71/255,93/255),PapayaWhip=new RGB$1(1,239/255,213/255),PeachPuff=new RGB$1(1,218/255,185/255),PeachPuff1=new RGB$1(1,218/255,185/255),PeachPuff2=new RGB$1(238/255,203/255,173/255),PeachPuff3=new RGB$1(205/255,175/255,149/255),PeachPuff4=new RGB$1(139/255,119/255,101/255),Peru=new RGB$1(205/255,133/255,63/255),Pink=new RGB$1(1,192/255,203/255),Pink1=new RGB$1(1,181/255,197/255),Pink2=new RGB$1(238/255,169/255,184/255),Pink3=new RGB$1(205/255,145/255,158/255),Pink4=new RGB$1(139/255,99/255,108/255),Plum=new RGB$1(221/255,160/255,221/255),Plum1=new RGB$1(1,187/255,1),Plum2=new RGB$1(238/255,174/255,238/255),Plum3=new RGB$1(205/255,150/255,205/255),Plum4=new RGB$1(139/255,.4,139/255),PowderBlue=new RGB$1(176/255,224/255,230/255),Purple=new RGB$1(160/255,32/255,240/255),Purple1=new RGB$1(155/255,48/255,1),Purple2=new RGB$1(145/255,44/255,238/255),Purple3=new RGB$1(125/255,38/255,205/255),Purple4=new RGB$1(85/255,26/255,139/255),Red$1=new RGB$1(1,0,0),Red1=new RGB$1(1,0,0),Red2=new RGB$1(238/255,0,0),Red3=new RGB$1(205/255,0,0),Red4=new RGB$1(139/255,0,0),RosyBrown=new RGB$1(188/255,143/255,143/255),RosyBrown1=new RGB$1(1,193/255,193/255),RosyBrown2=new RGB$1(238/255,180/255,180/255),RosyBrown3=new RGB$1(205/255,155/255,155/255),RosyBrown4=new RGB$1(139/255,105/255,105/255),RoyalBlue=new RGB$1(65/255,105/255,225/255),RoyalBlue1=new RGB$1(72/255,118/255,1),RoyalBlue2=new RGB$1(67/255,110/255,238/255),RoyalBlue3=new RGB$1(58/255,95/255,205/255),RoyalBlue4=new RGB$1(39/255,64/255,139/255),SaddleBrown=new RGB$1(139/255,69/255,19/255),Salmon=new RGB$1(250/255,128/255,114/255),Salmon1=new RGB$1(1,140/255,105/255),Salmon2=new RGB$1(238/255,130/255,98/255),Salmon3=new RGB$1(205/255,112/255,84/255),Salmon4=new RGB$1(139/255,76/255,57/255),SandyBrown=new RGB$1(244/255,164/255,96/255),SeaGreen=new RGB$1(46/255,139/255,87/255),SeaGreen1=new RGB$1(84/255,1,159/255),SeaGreen2=new RGB$1(78/255,238/255,148/255),SeaGreen3=new RGB$1(67/255,205/255,128/255),SeaGreen4=new RGB$1(46/255,139/255,87/255),Seashell=new RGB$1(1,245/255,238/255),Seashell1=new RGB$1(1,245/255,238/255),Seashell2=new RGB$1(238/255,229/255,222/255),Seashell3=new RGB$1(205/255,197/255,191/255),Seashell4=new RGB$1(139/255,134/255,130/255),Sienna=new RGB$1(160/255,82/255,45/255),Sienna1=new RGB$1(1,130/255,71/255),Sienna2=new RGB$1(238/255,121/255,66/255),Sienna3=new RGB$1(205/255,104/255,57/255),Sienna4=new RGB$1(139/255,71/255,38/255),SkyBlue=new RGB$1(135/255,206/255,235/255),SkyBlue1=new RGB$1(135/255,206/255,1),SkyBlue2=new RGB$1(126/255,192/255,238/255),SkyBlue3=new RGB$1(108/255,166/255,205/255),SkyBlue4=new RGB$1(74/255,112/255,139/255),SlateBlue=new RGB$1(106/255,90/255,205/255),SlateBlue1=new RGB$1(131/255,111/255,1),SlateBlue2=new RGB$1(122/255,103/255,238/255),SlateBlue3=new RGB$1(105/255,89/255,205/255),SlateBlue4=new RGB$1(71/255,60/255,139/255),SlateGrey=new RGB$1(112/255,128/255,144/255),SlateGrey1=new RGB$1(198/255,226/255,1),SlateGrey2=new RGB$1(185/255,211/255,238/255),SlateGrey3=new RGB$1(159/255,182/255,205/255),SlateGrey4=new RGB$1(108/255,123/255,139/255),Snow=new RGB$1(1,250/255,250/255),Snow1=new RGB$1(1,250/255,250/255),Snow2=new RGB$1(238/255,233/255,233/255),Snow3=new RGB$1(205/255,201/255,201/255),Snow4=new RGB$1(139/255,137/255,137/255),SpringGreen=new RGB$1(0,1,127/255),SpringGreen1=new RGB$1(0,1,127/255),SpringGreen2=new RGB$1(0,238/255,118/255),SpringGreen3=new RGB$1(0,205/255,.4),SpringGreen4=new RGB$1(0,139/255,69/255),SteelBlue=new RGB$1(70/255,130/255,180/255),SteelBlue1=new RGB$1(99/255,184/255,1),SteelBlue2=new RGB$1(92/255,172/255,238/255),SteelBlue3=new RGB$1(79/255,148/255,205/255),SteelBlue4=new RGB$1(54/255,100/255,139/255),Tan=new RGB$1(210/255,180/255,140/255),Tan1=new RGB$1(1,165/255,79/255),Tan2=new RGB$1(238/255,154/255,73/255),Tan3=new RGB$1(205/255,133/255,63/255),Tan4=new RGB$1(139/255,90/255,43/255),Thistle=new RGB$1(216/255,191/255,216/255),Thistle1=new RGB$1(1,225/255,1),Thistle2=new RGB$1(238/255,210/255,238/255),Thistle3=new RGB$1(205/255,181/255,205/255),Thistle4=new RGB$1(139/255,123/255,139/255),Tomato=new RGB$1(1,99/255,71/255),Tomato1=new RGB$1(1,99/255,71/255),Tomato2=new RGB$1(238/255,92/255,66/255),Tomato3=new RGB$1(205/255,79/255,57/255),Tomato4=new RGB$1(139/255,54/255,38/255),Turquoise=new RGB$1(64/255,224/255,208/255),Turquoise1=new RGB$1(0,245/255,1),Turquoise2=new RGB$1(0,229/255,238/255),Turquoise3=new RGB$1(0,197/255,205/255),Turquoise4=new RGB$1(0,134/255,139/255),Violet=new RGB$1(238/255,130/255,238/255),VioletRed=new RGB$1(208/255,32/255,144/255),VioletRed1=new RGB$1(1,62/255,150/255),
VioletRed2=new RGB$1(238/255,58/255,140/255),VioletRed3=new RGB$1(205/255,50/255,120/255),VioletRed4=new RGB$1(139/255,34/255,82/255),Wheat=new RGB$1(245/255,222/255,179/255),Wheat1=new RGB$1(1,231/255,186/255),Wheat2=new RGB$1(238/255,216/255,174/255),Wheat3=new RGB$1(205/255,186/255,150/255),Wheat4=new RGB$1(139/255,126/255,.4),White$1=new RGB$1(1,1,1),WhiteSmoke=new RGB$1(245/255,245/255,245/255),Yellow$1=new RGB$1(1,1,0),Yellow1=new RGB$1(1,1,0),Yellow2=new RGB$1(238/255,238/255,0),Yellow3=new RGB$1(205/255,205/255,0),Yellow4=new RGB$1(139/255,139/255,0),YellowGreen=new RGB$1(154/255,205/255,50/255),Gradient=function(){function Gradient(){_classCallCheck(this,Gradient);var nodes=1===arguments.length?arguments[0]:arguments;this.segments=[];for(var i=1;i<nodes.length;i++){var n1=nodes[i-1],n2=nodes[i],_blend=void 0!==n1[2]?n1[2]:Blend.linear,mid=void 0!==n1[3]?n1[3]:.5;this.segments.push(new Segment(n1[0],n1[1],n2[0],n2[1],_blend,mid))}}return _createClass(Gradient,[{key:"toString",value:function(){return"{Gradient}"}},{key:"segment",value:function(p){for(var i=0;i<this.segments.length;i++)if(p<=this.segments[i].p2)return this.segments[i];return null}},{key:"colour",value:function(p){return this.segment(p).colour(p)}}]),Gradient}(),Segment=function(){function Segment(p1,col1,p2,col2,blend,midpoint){_classCallCheck(this,Segment),this.p1=p1,this.col1=col1,this.p2=p2,this.col2=col2,this.blend=blend,this.midpoint=midpoint,this.plen=p2-p1}return _createClass(Segment,[{key:"toString",value:function(){return"{Gradient.Segment "+this.p1.toPrecision(3)+" "+this.col1+" → "+this.p2.toPrecision(3)+" "+this.col2+" - "+this.blend+", "+this.midpoint.toPrecision(3)+"}"}},{key:"colour",value:function(p){var sp=zero(this.plen)?.5:(p-this.p1)/this.plen;return blend(this.col1,this.col2,this.blend(sp,this.midpoint))}}]),Segment}(),Blend={linear:Object.assign(function(p,midpoint){return p<=midpoint?zero(midpoint)?0:.5*p/midpoint:(p-=midpoint,midpoint=1-midpoint,zero(midpoint)?1:.5+.5*p/midpoint)},{toString:fconst("linear")}),curved:Object.assign(function(p,midpoint){return midpoint=Math.max(midpoint,EPSILON),Math.pow(p,Math.log(.5)/Math.log(midpoint))},{toString:fconst("curved")}),sine:Object.assign(function(p,midpoint){return p=Blend.linear(p,midpoint),(Math.sin(Math.PI*(p-.5))+1)/2},{toString:fconst("sine")}),sphereIncreasing:Object.assign(function(p,midpoint){return p=Blend.linear(p,midpoint)-1,Math.sqrt(1-p*p)},{toString:fconst("sphereIncreasing")}),sphereDecreasing:Object.assign(function(p,midpoint){return p=Blend.linear(p,midpoint),1-Math.sqrt(1-p*p)},{toString:fconst("sphereDecreasing")})},BlueSkyBackground=function(_ElevationGradientBac){function BlueSkyBackground(){return _classCallCheck(this,BlueSkyBackground),_possibleConstructorReturn(this,Object.getPrototypeOf(BlueSkyBackground).call(this,regular([MidnightBlue,DeepSkyBlue,MidnightBlue],Blend.sine)))}return _inherits(BlueSkyBackground,_ElevationGradientBac),BlueSkyBackground}(ElevationGradientBackground),rainbowGradient=regular([Red$1,Yellow$1,Green$1,Cyan$1,Blue$1,Magenta$1,Red$1],Blend.linear),GroundPlane=function(_LevelPlane){function GroundPlane(){_classCallCheck(this,GroundPlane);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(GroundPlane).call(this));return _this2.setMaterial(new Checks2D(new SolidMattMaterial(Grey20),new SolidMattMaterial(Grey80))),_this2}return _inherits(GroundPlane,_LevelPlane),GroundPlane}(LevelPlane),ObjectExhibit=function(_SingleCameraParametr){function ObjectExhibit(){return _classCallCheck(this,ObjectExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(ObjectExhibit).apply(this,arguments))}return _inherits(ObjectExhibit,_SingleCameraParametr),_createClass(ObjectExhibit,[{key:"makeObject",value:function(){throw new AbstractMethodError}},{key:"defaultMaterial",value:function(){return new Checks2D(new SolidShinyMaterial(White$1),new SolidShinyMaterial(Red$1)).t2dScale(1/6)}},{key:"build",value:function(){this.world.background=new BlueSkyBackground,this.world.ambient_light_strength=.15,this.world.add(new DirectionalLight(new Vector3(1,1,(-1)))),this.object=this.makeObject(),this.object.transform(this.params.object_transform),this.world.add(this.object)}},{key:"initCamera",value:function(camera){_get(Object.getPrototypeOf(ObjectExhibit.prototype),"initCamera",this).call(this,camera),camera.translate(0,-4,0)}}],[{key:"params",value:function(){return[new Transform3D({id:"object_transform",label:"Object transformation"})].concat(_toConsumableArray(_get(Object.getPrototypeOf(ObjectExhibit),"params",this).call(this)))}}]),ObjectExhibit}(SingleCameraParametricScene),SphereExhibit=function(_ObjectExhibit){function SphereExhibit(){return _classCallCheck(this,SphereExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(SphereExhibit).apply(this,arguments))}return _inherits(SphereExhibit,_ObjectExhibit),_createClass(SphereExhibit,[{key:"makeObject",value:function(){return(new Sphere).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Sphere"}}]),SphereExhibit}(ObjectExhibit),PlaneExhibit=function(_ObjectExhibit2){function PlaneExhibit(){return _classCallCheck(this,PlaneExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(PlaneExhibit).apply(this,arguments))}return _inherits(PlaneExhibit,_ObjectExhibit2),_createClass(PlaneExhibit,[{key:"makeObject",value:function(){return new Plane(this.params.point,this.params.normal,this.params.autoT2D?null:this.params.t2dRef).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Plane"}},{key:"params",value:function(){return[new Vector({id:"point",label:"Point on plane (determines location and texture origin)",length:3,defaultValue:new Vector3(0,0,0),uiStep:.1,uiElementLabels:["x","y","z"]}),new Vector({id:"normal",label:"Normal to plane",length:3,defaultValue:new Vector3(0,1,0),uiStep:.1,uiElementLabels:["x","y","z"]}),new _Boolean({id:"autoT2D",label:"Orient 2D texture automatically",defaultValue:!0}),new Vector({id:"t2dRef",label:"Reference vector for 2D texture (if not automatic)",length:3,defaultValue:new Vector3(1,0,0),uiStep:.1,uiElementLabels:["x","y","z"]})].concat(_toConsumableArray(_get(Object.getPrototypeOf(PlaneExhibit),"params",this).call(this)))}}]),PlaneExhibit}(ObjectExhibit),LevelPlaneExhibit=function(_ObjectExhibit3){function LevelPlaneExhibit(){return _classCallCheck(this,LevelPlaneExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(LevelPlaneExhibit).apply(this,arguments))}return _inherits(LevelPlaneExhibit,_ObjectExhibit3),_createClass(LevelPlaneExhibit,[{key:"makeObject",value:function(){return(new LevelPlane).translate(new Vector3(0,0,(-2))).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Level plane"}}]),LevelPlaneExhibit}(ObjectExhibit),InfiniteCylinderExhibit=function(_ObjectExhibit4){function InfiniteCylinderExhibit(){return _classCallCheck(this,InfiniteCylinderExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(InfiniteCylinderExhibit).apply(this,arguments))}return _inherits(InfiniteCylinderExhibit,_ObjectExhibit4),_createClass(InfiniteCylinderExhibit,[{key:"makeObject",value:function(){return(new InfiniteCylinder).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Infinite cylinder"}}]),InfiniteCylinderExhibit}(ObjectExhibit),CylinderExhibit=function(_ObjectExhibit5){function CylinderExhibit(){return _classCallCheck(this,CylinderExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(CylinderExhibit).apply(this,arguments))}return _inherits(CylinderExhibit,_ObjectExhibit5),_createClass(CylinderExhibit,[{key:"makeObject",value:function(){return(new Cylinder).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Clipped cylinder"}}]),CylinderExhibit}(ObjectExhibit),InfiniteConeExhibit=function(_ObjectExhibit6){function InfiniteConeExhibit(){return _classCallCheck(this,InfiniteConeExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(InfiniteConeExhibit).apply(this,arguments))}return _inherits(InfiniteConeExhibit,_ObjectExhibit6),_createClass(InfiniteConeExhibit,[{key:"makeObject",value:function(){return(new Cone).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Infinite cone"}}]),InfiniteConeExhibit}(ObjectExhibit),ConeExhibit=function(_ObjectExhibit7){function ConeExhibit(){return _classCallCheck(this,ConeExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(ConeExhibit).apply(this,arguments))}return _inherits(ConeExhibit,_ObjectExhibit7),_createClass(ConeExhibit,[{key:"makeObject",value:function(){return new Cone((-1.5),0).translate(0,0,.75).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Cone"}}]),ConeExhibit}(ObjectExhibit),Complex=function(){function Complex(re,im){_classCallCheck(this,Complex),this.re=re||0,this.im=im||0}return _createClass(Complex,[{key:"toString",value:function(){return this.im>=0?"("+this.re.toPrecision(3)+"+"+this.im.toPrecision(3)+"i)":"("+this.re.toPrecision(3)+this.im.toPrecision(3)+"i)"}},{key:"magnitude",value:function(){return Math.sqrt(this.re*this.re+this.im*this.im)}},{key:"argument",value:function(){return Math.atan2(this.im,this.re)}},{key:"conjugate",value:function(){return new Complex(this.re,(-this.im))}},{key:"add",value:function(z){return new Complex(this.re+z.re,this.im+z.im)}},{key:"sub",value:function(z){return new Complex(this.re-z.re,this.im-z.im)}},{key:"mul",value:function(z){return new Complex(this.re*z.re-this.im*z.im,this.re*z.im+this.im*z.re)}},{key:"div",value:function(z){var d=z.re*z.re+z.im*z.im;return new Complex((this.re*z.re+this.im*z.im)/d,(this.im*z.re-this.re*z.im)/d)}},{key:"sqrt",value:function(){if(this.isReal())return new Complex.sqrtre(this.re);var rx=this.magnitude()+this.re;return new Complex(Math.sqrt(rx/2),this.im/Math.sqrt(2*rx))}},{key:"isZero",value:function(){return Math.abs(this.re)<EPSILON&&Math.abs(this.im)<EPSILON}},{key:"isReal",value:function(){return Math.abs(this.im)<EPSILON}},{key:"isImaginary",value:function(){return Math.abs(this.re)<EPSILON}},{key:"serialise",value:function(){return{re:this.re,im:this.im}}}],[{key:"sqrtre",value:function(x){return x>=0?new Complex(Math.sqrt(x),0):new Complex(0,Math.sqrt(-x))}},{key:"minReal",value:function(list){for(var min=arguments.length<=1||void 0===arguments[1]?-(1/0):arguments[1],res=1/0,i=0;i<list.length;i++){var z=list[i];z.isReal()&&z.re>=min&&z.re<res&&(res=z.re)}return res!==1/0?res:null}},{key:"unserialise",value:function(serialised){if(serialised&&"object"==typeof serialised&&"number"==typeof serialised.re&&"number"==typeof serialised.im)return new Complex(serialised.re,serialised.im);throw new TypeError("Complex.unserialise: serialised form must be an object { re, im }")}}]),Complex}(),ZERO=new Complex(0,0),ONE=new Complex(1,0),NEG_ONE=new Complex((-1),0),I=new Complex(0,1),NEG_I=new Complex(0,(-1)),ConditionalUV=function(_VisibleObject){function ConditionalUV(object,pred){_classCallCheck(this,ConditionalUV);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ConditionalUV).call(this));return _this.setObject(object),_this.pred=pred,_this}return _inherits(ConditionalUV,_VisibleObject),_createClass(ConditionalUV,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.object+"}"}},{key:"setObject",value:function(object){return this.object=object,object&&object.setParent(this),this}},{key:"updateWorldTransform",value:function(){return _get(Object.getPrototypeOf(ConditionalUV.prototype),"updateWorldTransform",this).call(),this.object&&this.object.updateWorldTransform(),this}},{key:"intersections",value:function(ray_world){for(var ints=this.object.intersections(ray_world),res=[],i=0;i<ints.length;i++){var mat=ints[i].getMaterial(),uvo=ints[i].getUVObject(),uvt=mat.t2dObjectToTexture(uvo);this.pred(uvt[0],uvt[1])&&res.push(ints[i])}return res}},{key:"getMaterial",value:function(){return this.object.getMaterial()}},{key:"uvAtPoint",value:function(point){var point_object=point.transformPos(this.object.parent_to_object);return this.object.uvAtPoint(point_object)}},{key:"normalAtPoint",value:function(point){var point_object=point.transformPos(this.object.parent_to_object);return this.object.normalAtPoint(point_object)}}]),ConditionalUV}(VisibleObject),ConditionalLevelPlane=function(_LevelPlane){function ConditionalLevelPlane(pred){_classCallCheck(this,ConditionalLevelPlane);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(ConditionalLevelPlane).call(this));return _this2.pred=pred,_this2}return _inherits(ConditionalLevelPlane,_LevelPlane),_createClass(ConditionalLevelPlane,[{key:"closestIntersection",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),t=-oray.origin[2]/oray.dir[2];if(t>Ray.NEAR){var u=oray.origin[0]+t*oray.dir[0],v=oray.origin[1]+t*oray.dir[1];return this.pred(u,v)?new Intersection(oray,this,t,null,this.material,null,LevelPlane.NORMAL):null}return null}},{key:"containsObject",value:function(pos_object){return pos_object[2]<=0&&this.pred(pos_object[0],pos_object[1])}}]),ConditionalLevelPlane}(LevelPlane),StaticLamina=function(_ConditionalLevelPlan){function StaticLamina(){_classCallCheck(this,StaticLamina);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(StaticLamina).call(this));return _this.pred=_this.constructor.predicate,_this}return _inherits(StaticLamina,_ConditionalLevelPlan),_createClass(StaticLamina,null,[{key:"predicate",value:function(u,v){throw new AbstractMethodError}}]),StaticLamina}(ConditionalLevelPlane),InstanceLamina=function(_ConditionalLevelPlan2){function InstanceLamina(){_classCallCheck(this,InstanceLamina);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(InstanceLamina).call(this));return _this2.pred=_this2.predicate.bind(_this2),_this2}return _inherits(InstanceLamina,_ConditionalLevelPlan2),_createClass(InstanceLamina,[{key:"predicate",value:function(u,v){throw new AbstractMethodError}}]),InstanceLamina}(ConditionalLevelPlane),Square=function(_StaticLamina){function Square(){return _classCallCheck(this,Square),_possibleConstructorReturn(this,Object.getPrototypeOf(Square).apply(this,arguments))}return _inherits(Square,_StaticLamina),_createClass(Square,null,[{key:"predicate",value:function(u,v){return u>=-1&&u<=1&&v>=-1&&v<=1}}]),Square}(StaticLamina),Disc=function(_StaticLamina2){function Disc(){return _classCallCheck(this,Disc),_possibleConstructorReturn(this,Object.getPrototypeOf(Disc).apply(this,arguments))}return _inherits(Disc,_StaticLamina2),_createClass(Disc,null,[{key:"predicate",value:function(u,v){return u*u+v*v<1}}]),Disc}(StaticLamina),Triangle=function(_InstanceLamina){function Triangle(v1,v2,v3){_classCallCheck(this,Triangle);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(Triangle).call(this));return _this5.setVertices(v1,v2,v3),_this5}return _inherits(Triangle,_InstanceLamina),_createClass(Triangle,[{key:"setVertices",value:function(v1,v2,v3){this.v1=v1,this.v2=v2,this.v3=v3,this.a0=v2.subtract(v1),this.a1=v3.subtract(v1),this.a0a0=this.a0.dot(this.a0),this.a1a1=this.a1.dot(this.a1),this.a0a1=this.a0.dot(this.a1)}},{key:"predicate",value:function(u,v){var a2=new Vector2(u-this.v1[0],v-this.v1[1]),a0a2=this.a0.dot(a2),a1a2=this.a1.dot(a2),den=this.a0a0*this.a1a1-this.a0a1*this.a0a1,x=(this.a1a1*a0a2-this.a0a1*a1a2)/den,y=(this.a0a0*a1a2-this.a0a1*a0a2)/den;return x>0&&y>0&&x+y<1}}]),Triangle}(InstanceLamina),RegularPolygon=function(_InstanceLamina2){function RegularPolygon(sides){_classCallCheck(this,RegularPolygon);var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(RegularPolygon).call(this));return _this6.setSides(sides),_this6}return _inherits(RegularPolygon,_InstanceLamina2),_createClass(RegularPolygon,[{key:"setSides",value:function(sides){this.sides=sides,this.phi=2*Math.PI/sides,this.hia=(1-2/sides)*Math.PI/2,this.sin_hia=Math.sin(this.hia)}},{key:"predicate",value:function(u,v){var p=Polar.fromCartesianXY(u,v),theta=(p.theta+2*Math.PI)%this.phi;return p.r<=this.sin_hia/Math.sin(Math.PI-this.hia-theta)}}]),RegularPolygon}(InstanceLamina),Mandelbrot=function(_StaticLamina3){function Mandelbrot(){return _classCallCheck(this,Mandelbrot),_possibleConstructorReturn(this,Object.getPrototypeOf(Mandelbrot).apply(this,arguments))}return _inherits(Mandelbrot,_StaticLamina3),_createClass(Mandelbrot,null,[{key:"predicate",value:function(u,v){for(var c=new Complex(u,v),z=new Complex(0,0),i=0;i<100;i++)if(z=z.mul(z).add(c),z.re*z.re+z.im*z.im>4)return!1;return!0}}]),Mandelbrot}(StaticLamina),SquareExhibit=function(_ObjectExhibit){function SquareExhibit(){return _classCallCheck(this,SquareExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(SquareExhibit).apply(this,arguments))}return _inherits(SquareExhibit,_ObjectExhibit),_createClass(SquareExhibit,[{key:"makeObject",value:function(){return(new Square).rotateXDeg(-90).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Square"}}]),SquareExhibit}(ObjectExhibit),DiscExhibit=function(_ObjectExhibit2){function DiscExhibit(){return _classCallCheck(this,DiscExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(DiscExhibit).apply(this,arguments))}return _inherits(DiscExhibit,_ObjectExhibit2),_createClass(DiscExhibit,[{key:"makeObject",value:function(){return(new Disc).rotateXDeg(-90).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Disc"}}]),DiscExhibit}(ObjectExhibit),TriangleExhibit=function(_ObjectExhibit3){function TriangleExhibit(){return _classCallCheck(this,TriangleExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(TriangleExhibit).apply(this,arguments))}return _inherits(TriangleExhibit,_ObjectExhibit3),_createClass(TriangleExhibit,[{key:"makeObject",value:function(){var vertices=this.params.vertices;return new Triangle(vertices.v1,vertices.v2,vertices.v3).rotateXDeg(-90).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Arbitrary triangle"}},{key:"params",value:function(){return[new ParamGroup({id:"vertices",label:"Triangle vertex coordinates",params:[new Vector({id:"v1",label:"Vertex 1",length:2,defaultValue:new Vector2((-1),(-1)),uiStep:.1,uiElementLabels:["u","v"]}),new Vector({id:"v2",label:"Vertex 2",length:2,defaultValue:new Vector2(1,(-1)),uiStep:.1,uiElementLabels:["u","v"]}),new Vector({id:"v3",label:"Vertex 3",length:2,defaultValue:new Vector2((-1),1),uiStep:.1,uiElementLabels:["u","v"]})]})].concat(_toConsumableArray(_get(Object.getPrototypeOf(TriangleExhibit),"params",this).call(this)))}}]),TriangleExhibit}(ObjectExhibit),RegularPolygonExhibit=function(_ObjectExhibit4){function RegularPolygonExhibit(){return _classCallCheck(this,RegularPolygonExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(RegularPolygonExhibit).apply(this,arguments))}return _inherits(RegularPolygonExhibit,_ObjectExhibit4),_createClass(RegularPolygonExhibit,[{key:"makeObject",value:function(){return new RegularPolygon(this.params.sides).rotateXDeg(-90).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Regular polygon"}},{key:"params",value:function(){return[new Integer({id:"sides",label:"Number of sides",defaultValue:5,min:3})].concat(_toConsumableArray(_get(Object.getPrototypeOf(RegularPolygonExhibit),"params",this).call(this)))}}]),RegularPolygonExhibit}(ObjectExhibit),MandelbrotExhibit=function(_ObjectExhibit5){function MandelbrotExhibit(){return _classCallCheck(this,MandelbrotExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(MandelbrotExhibit).apply(this,arguments))}return _inherits(MandelbrotExhibit,_ObjectExhibit5),_createClass(MandelbrotExhibit,[{key:"makeObject",value:function(){return(new Mandelbrot).rotateXDeg(-90).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Mandelbrot set lamina"}}]),MandelbrotExhibit}(ObjectExhibit),CSGRayIntersection=function(_Intersection){function CSGRayIntersection(ray_node,node,csg_child_intersection){_classCallCheck(this,CSGRayIntersection);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(CSGRayIntersection).call(this,ray_node,node,csg_child_intersection.t));return _this.csg_child_intersection=csg_child_intersection,_this.csg_child=csg_child_intersection.object,_this}return _inherits(CSGRayIntersection,_Intersection),_createClass(CSGRayIntersection,[{key:"getDistanceWorld",value:function(){return this.csg_child_intersection.getDistanceWorld()}},{key:"getPosWorld",value:function(){return this.csg_child_intersection.getPosWorld()}},{key:"getMaterial",value:function(){return this.csg_child_intersection.getMaterial()}},{key:"getUVObject",value:function(){return this.csg_child_intersection.getUVObject()}},{key:"getT3DAnchor",value:function(){return this.csg_child_intersection.getT3DAnchor()}},{key:"getNormalObject",value:function(){return this.csg_child_intersection.getNormalObject().transformDir(this.csg_child.normal_object_to_parent)}},{key:"getNormalWorld",value:function(){return this.csg_child_intersection.getNormalWorld()}}]),CSGRayIntersection}(Intersection),CSGNode=function(_VisibleObjectMixin){function CSGNode(){_classCallCheck(this,CSGNode);for(var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(CSGNode).call(this)),_len=arguments.length,children=Array(_len),_key=0;_key<_len;_key++)children[_key]=arguments[_key];return children.forEach(function(child){_this2.add(child)}),_this2}return _inherits(CSGNode,_VisibleObjectMixin),_createClass(CSGNode,[{key:"find",value:function(predicate){return predicate(this)?[this]:[]}},{key:"intersections",value:function(ray_world){throw new AbstractMethodError}},{key:"childContainsObject",value:function(index,pos_object){var child=this.children[index],pos_child=pos_object.transformPos(child.parent_to_object);return child.containsObject(pos_child)}}]),CSGNode}(VisibleObjectMixin(Group)),CSGUnion=function(_CSGNode){function CSGUnion(){return _classCallCheck(this,CSGUnion),_possibleConstructorReturn(this,Object.getPrototypeOf(CSGUnion).apply(this,arguments))}return _inherits(CSGUnion,_CSGNode),_createClass(CSGUnion,[{key:"containsObject",value:function(pos_object){for(var i=0;i<this.children.length;i++)if(this.childContainsObject(i,pos_object))return!0;return!1}},{key:"intersections",value:function(ray_world){for(var _this4=this,ray_node=ray_world.transform(this.world_to_object),csg_node=this,res=[],_loop=function(i){var child=_this4.children[i],child_ints=child.intersections(ray_world);if(child_ints.length>0){var csg_ints=child_ints.filter(function(intersection){for(var pos_node=intersection.getPosObject().transformPos(child.object_to_parent),j=0;j<csg_node.children.length;j++)if(i!==j&&csg_node.childContainsObject(j,pos_node))return!1;return!0}).map(function(intersection){return new CSGRayIntersection(ray_node,csg_node,intersection)});csg_ints.length>0&&(res=Intersection.listMerge(res,csg_ints))}},i=0;i<this.children.length;i++)_loop(i);return res}}]),CSGUnion}(CSGNode),CSGIntersection=function(_CSGNode2){function CSGIntersection(){return _classCallCheck(this,CSGIntersection),_possibleConstructorReturn(this,Object.getPrototypeOf(CSGIntersection).apply(this,arguments))}return _inherits(CSGIntersection,_CSGNode2),_createClass(CSGIntersection,[{key:"containsObject",value:function(pos_object){for(var i=0;i<this.children.length;i++)if(!this.childContainsObject(i,pos_object))return!1;return!0}},{key:"intersections",value:function(ray_world){for(var _this6=this,ray_node=ray_world.transform(this.world_to_object),csg_node=this,res=[],_loop2=function(i){var child=_this6.children[i],child_ints=child.intersections(ray_world);if(child_ints.length>0){var csg_ints=child_ints.filter(function(intersection){for(var pos_node=intersection.getPosObject().transformPos(child.object_to_parent),j=0;j<csg_node.children.length;j++)if(i!==j&&!csg_node.childContainsObject(j,pos_node))return!1;return!0}).map(function(intersection){return new CSGRayIntersection(ray_node,csg_node,intersection)});csg_ints.length>0&&(res=Intersection.listMerge(res,csg_ints))}},i=0;i<this.children.length;i++)_loop2(i);return res}}]),CSGIntersection}(CSGNode),CSGDifference=function(_CSGNode3){function CSGDifference(){return _classCallCheck(this,CSGDifference),_possibleConstructorReturn(this,Object.getPrototypeOf(CSGDifference).apply(this,arguments))}return _inherits(CSGDifference,_CSGNode3),_createClass(CSGDifference,[{key:"containsObject",value:function(pos_object){if(this.childContainsObject(0,pos_object)){for(var i=1;i<this.children.length;i++)if(this.childContainsObject(i,pos_object))return!1;return!0}return!1}},{key:"intersections",value:function(ray_world){for(var _this8=this,ray_node=ray_world.transform(this.world_to_object),csg_node=this,res=[],_loop3=function(i){var child=_this8.children[i],child_ints=child.intersections(ray_world);if(child_ints.length>0){var csg_ints=child_ints.filter(function(intersection){var pos_node=intersection.getPosObject().transformPos(child.object_to_parent);if(intersection.object!==csg_node.children[0]&&!csg_node.childContainsObject(0,pos_node))return!1;for(var j=1;j<csg_node.children.length;j++)if(i!==j&&csg_node.childContainsObject(j,pos_node))return!1;return!0}).map(function(intersection){return new CSGRayIntersection(ray_node,csg_node,intersection)});csg_ints.length>0&&(res=Intersection.listMerge(res,csg_ints))}},i=0;i<this.children.length;i++)_loop3(i);return res}}]),CSGDifference}(CSGNode),CSGClip=function(_CSGNode4){function CSGClip(){return _classCallCheck(this,CSGClip),_possibleConstructorReturn(this,Object.getPrototypeOf(CSGClip).apply(this,arguments))}return _inherits(CSGClip,_CSGNode4),_createClass(CSGClip,[{key:"containsObject",value:function(pos_object){for(var i=0;i<this.children.length;i++)if(!this.childContainsObject(i,pos_object))return!1;return!0}},{key:"intersections",value:function(ray_world){for(var ray_node=ray_world.transform(this.world_to_object),ints=this.children[0].intersections(ray_world),res=[],i=0;i<ints.length;i++){for(var clipped=!1,pos_world=ints[i].getPosWorld(),j=1;j<this.children.length;j++)if(!this.children[j].containsWorld(pos_world)){clipped=!0;break}clipped||res.push(new CSGRayIntersection(ray_node,this,ints[i]))}return res}}]),CSGClip}(CSGNode),CSGNAryIntersection=function(_CSGNode5){function CSGNAryIntersection(n){var _Object$getPrototypeO;_classCallCheck(this,CSGNAryIntersection);for(var _len2=arguments.length,children=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)children[_key2-1]=arguments[_key2];var _this10=_possibleConstructorReturn(this,(_Object$getPrototypeO=Object.getPrototypeOf(CSGNAryIntersection)).call.apply(_Object$getPrototypeO,[this].concat(children)));return _this10.n=n,_this10}return _inherits(CSGNAryIntersection,_CSGNode5),_createClass(CSGNAryIntersection,[{key:"containsObject",value:function(pos_object){for(var count=0,i=0;i<this.children.length;i++)if(this.childContainsObject(i,pos_object)&&++count>=this.n)return!0;return!1}},{key:"intersections",value:function(ray_world){for(var _this11=this,ray_node=ray_world.transform(this.world_to_object),csg_node=this,res=[],_loop4=function(i){var child=_this11.children[i],child_ints=child.intersections(ray_world);if(child_ints.length>0){var csg_ints=child_ints.filter(function(intersection){if(1===csg_node.n)return!0;for(var pos_node=intersection.getPosObject().transformPos(child.object_to_parent),count=1,j=0;j<csg_node.children.length;j++)i!==j&&csg_node.childContainsObject(j,pos_node)&&count++;return count===csg_node.n}).map(function(intersection){return new CSGRayIntersection(ray_node,csg_node,intersection)});csg_ints.length>0&&(res=Intersection.listMerge(res,csg_ints))}},i=0;i<this.children.length;i++)_loop4(i);return res}}]),CSGNAryIntersection}(CSGNode),Polyhedron=function(_CSGIntersection){function Polyhedron(centres){var _Object$getPrototypeO;return _classCallCheck(this,Polyhedron),_possibleConstructorReturn(this,(_Object$getPrototypeO=Object.getPrototypeOf(Polyhedron)).call.apply(_Object$getPrototypeO,[this].concat(_toConsumableArray(centres.map(function(centre){return new Plane(centre,centre)})))))}return _inherits(Polyhedron,_CSGIntersection),Polyhedron}(CSGIntersection),Tetrahedron=function(_Polyhedron){function Tetrahedron(){_classCallCheck(this,Tetrahedron);var a=Math.sqrt(.5);return _possibleConstructorReturn(this,Object.getPrototypeOf(Tetrahedron).call(this,[new Vector3(1,0,(-a)),new Vector3((-1),0,(-a)),new Vector3(0,1,a),new Vector3(0,(-1),a)].map(function(v){return v.unit()})))}return _inherits(Tetrahedron,_Polyhedron),Tetrahedron}(Polyhedron),Cube=function(_Polyhedron2){function Cube(){return _classCallCheck(this,Cube),_possibleConstructorReturn(this,Object.getPrototypeOf(Cube).call(this,[new Vector3(1,0,0),new Vector3((-1),0,0),new Vector3(0,1,0),new Vector3(0,(-1),0),new Vector3(0,0,1),new Vector3(0,0,(-1))]))}return _inherits(Cube,_Polyhedron2),Cube}(Polyhedron);Octahedron=function(_Polyhedron3){function Octahedron(){return _classCallCheck(this,Octahedron),_possibleConstructorReturn(this,Object.getPrototypeOf(Octahedron).call(this,[new Vector3(1,1,1),new Vector3(1,1,(-1)),new Vector3(1,(-1),1),new Vector3(1,(-1),(-1)),new Vector3((-1),1,1),new Vector3((-1),1,(-1)),new Vector3((-1),(-1),1),new Vector3((-1),(-1),(-1))].map(function(v){return v.unit()})))}return _inherits(Octahedron,_Polyhedron3),Octahedron}(Polyhedron);Dodecahedron=function(_Polyhedron4){function Dodecahedron(){_classCallCheck(this,Dodecahedron);var phi=(1+Math.sqrt(5))/2;return _possibleConstructorReturn(this,Object.getPrototypeOf(Dodecahedron).call(this,[new Vector3(0,1,(+phi)),new Vector3(0,1,(-phi)),new Vector3(0,(-1),(+phi)),new Vector3(0,(-1),(-phi)),new Vector3(1,(+phi),0),new Vector3(1,(-phi),0),new Vector3((-1),(+phi),0),new Vector3((-1),(-phi),0),new Vector3((+phi),0,1),new Vector3((-phi),0,1),new Vector3((+phi),0,(-1)),new Vector3((-phi),0,(-1))].map(function(v){return v.unit()})))}return _inherits(Dodecahedron,_Polyhedron4),Dodecahedron}(Polyhedron),Icosahedron=function(_Polyhedron5){function Icosahedron(){_classCallCheck(this,Icosahedron);var phi=(1+Math.sqrt(5))/2,rphi=1/phi;return _possibleConstructorReturn(this,Object.getPrototypeOf(Icosahedron).call(this,[new Vector3(1,1,1),new Vector3(1,1,(-1)),new Vector3(1,(-1),1),new Vector3(1,(-1),(-1)),new Vector3((-1),1,1),new Vector3((-1),1,(-1)),new Vector3((-1),(-1),1),new Vector3((-1),(-1),(-1)),new Vector3(0,(+rphi),(+phi)),new Vector3(0,(+rphi),(-phi)),new Vector3(0,(-rphi),(+phi)),new Vector3(0,(-rphi),(-phi)),new Vector3((+rphi),(+phi),0),new Vector3((+rphi),(-phi),0),new Vector3((-rphi),(+phi),0),new Vector3((-rphi),(-phi),0),new Vector3((+phi),0,(+rphi)),new Vector3((+phi),0,(-rphi)),new Vector3((-phi),0,(+rphi)),new Vector3((-phi),0,(-rphi))].map(function(v){return v.unit()})))}return _inherits(Icosahedron,_Polyhedron5),Icosahedron}(Polyhedron),TetrahedronExhibit=function(_ObjectExhibit){function TetrahedronExhibit(){return _classCallCheck(this,TetrahedronExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(TetrahedronExhibit).apply(this,arguments))}return _inherits(TetrahedronExhibit,_ObjectExhibit),_createClass(TetrahedronExhibit,[{key:"makeObject",value:function(){return(new Tetrahedron).scale(.5).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Tetrahedron"}}]),TetrahedronExhibit}(ObjectExhibit),CubeExhibit=function(_ObjectExhibit2){function CubeExhibit(){return _classCallCheck(this,CubeExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(CubeExhibit).apply(this,arguments))}return _inherits(CubeExhibit,_ObjectExhibit2),_createClass(CubeExhibit,[{key:"makeObject",value:function(){return(new Cube).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Cube"}}]),CubeExhibit}(ObjectExhibit),OctahedronExhibit=function(_ObjectExhibit3){function OctahedronExhibit(){return _classCallCheck(this,OctahedronExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(OctahedronExhibit).apply(this,arguments));
}return _inherits(OctahedronExhibit,_ObjectExhibit3),_createClass(OctahedronExhibit,[{key:"makeObject",value:function(){return(new Octahedron).scale(.8).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Octahedron"}}]),OctahedronExhibit}(ObjectExhibit),DodecahedronExhibit=function(_ObjectExhibit4){function DodecahedronExhibit(){return _classCallCheck(this,DodecahedronExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(DodecahedronExhibit).apply(this,arguments))}return _inherits(DodecahedronExhibit,_ObjectExhibit4),_createClass(DodecahedronExhibit,[{key:"makeObject",value:function(){return(new Dodecahedron).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Dodecahedron"}}]),DodecahedronExhibit}(ObjectExhibit),IcosahedronExhibit=function(_ObjectExhibit5){function IcosahedronExhibit(){return _classCallCheck(this,IcosahedronExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(IcosahedronExhibit).apply(this,arguments))}return _inherits(IcosahedronExhibit,_ObjectExhibit5),_createClass(IcosahedronExhibit,[{key:"makeObject",value:function(){return(new Icosahedron).setMaterial(this.defaultMaterial())}}],[{key:"label",value:function(){return"Icosahedron"}}]),IcosahedronExhibit}(ObjectExhibit),GeneralParaboloid=function(_VisibleObject){function GeneralParaboloid(d,a,b){_classCallCheck(this,GeneralParaboloid);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(GeneralParaboloid).call(this));return _this.d=d,_this.a=a,_this.b=b,_this.a2=a*a,_this.b2=b*b,_this}return _inherits(GeneralParaboloid,_VisibleObject),_createClass(GeneralParaboloid,[{key:"intersections",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),o=oray.origin,d=oray.dir,a=d[0]*d[0]/this.a2+this.d*d[1]*d[1]/this.b2,b=2*(o[0]*d[0]/this.a2+this.d*o[1]*d[1]/this.b2)-d[2],c=o[0]*o[0]/this.a2+this.d*o[1]*o[1]/this.b2-o[2],det=b*b-4*a*c,res=[];if(det>=0){var sdet=Math.sqrt(det),a2=2*a,t1=(-b-sdet)/a2,t2=(-b+sdet)/a2;t1>Ray.NEAR&&res.push(new Intersection(oray,this,t1,null,this.material)),t2>Ray.NEAR&&res.push(new Intersection(oray,this,t2,null,this.material))}return res}},{key:"containsObject",value:function(p){return p[2]>=p[0]*p[0]/this.a2+this.d*(p[1]*p[1]/this.b2)}},{key:"uvAtPoint",value:function(point){var us=Math.sqrt(this.a2*this.a2+4*point[0]*point[0]),u=this.a2*Math.log(2*point[0]+us)/4+point[0]*us/(2*this.a2)-Math.log(this.a2)/4;if(0!==this.d){var vs=Math.sqrt(this.b2*this.b2+4*point[1]*point[1]),v=this.b2*Math.log(2*point[1]+vs)/4+point[1]*vs/(2*this.b2)-Math.log(this.b2)/4;return new Vector2(u,v)}return new Vector2(u,point[1])}},{key:"normalAtPoint",value:function(point){return new Vector3(2*point[0]/this.a2,2*this.d*point[1]/this.b2,(-1)).unit()}}]),GeneralParaboloid}(VisibleObject),EllipticalParaboloid=function(_GeneralParaboloid){function EllipticalParaboloid(){var a=arguments.length<=0||void 0===arguments[0]?1:arguments[0],b=arguments.length<=1||void 0===arguments[1]?1:arguments[1];return _classCallCheck(this,EllipticalParaboloid),_possibleConstructorReturn(this,Object.getPrototypeOf(EllipticalParaboloid).call(this,1,a,b))}return _inherits(EllipticalParaboloid,_GeneralParaboloid),EllipticalParaboloid}(GeneralParaboloid),HyperbolicParaboloid=function(_GeneralParaboloid2){function HyperbolicParaboloid(){var a=arguments.length<=0||void 0===arguments[0]?1:arguments[0],b=arguments.length<=1||void 0===arguments[1]?1:arguments[1];return _classCallCheck(this,HyperbolicParaboloid),_possibleConstructorReturn(this,Object.getPrototypeOf(HyperbolicParaboloid).call(this,-1,a,b))}return _inherits(HyperbolicParaboloid,_GeneralParaboloid2),HyperbolicParaboloid}(GeneralParaboloid),ExtrudedParabola=function(_GeneralParaboloid3){function ExtrudedParabola(){var a=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return _classCallCheck(this,ExtrudedParabola),_possibleConstructorReturn(this,Object.getPrototypeOf(ExtrudedParabola).call(this,0,a,1))}return _inherits(ExtrudedParabola,_GeneralParaboloid3),ExtrudedParabola}(GeneralParaboloid),GeneralHyperboloid=function(_VisibleObject){function GeneralHyperboloid(d,a,b,c){_classCallCheck(this,GeneralHyperboloid);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(GeneralHyperboloid).call(this));return _this.d=d,_this.a=a,_this.b=b,_this.c=c,_this.a2=a*a,_this.b2=b*b,_this.c2=c*c,_this}return _inherits(GeneralHyperboloid,_VisibleObject),_createClass(GeneralHyperboloid,[{key:"intersections",value:function(ray){var oray=ray.transform(this.world_to_object).normalise(),o=oray.origin,d=oray.dir,a=d[0]*d[0]/this.a2+d[1]*d[1]/this.b2-d[2]*d[2]/this.c2,b=2*(o[0]*d[0]/this.a2+o[1]*d[1]/this.b2-o[2]*d[2]/this.c2),c=o[0]*o[0]/this.a2+o[1]*o[1]/this.b2-o[2]*o[2]/this.c2-this.d,det=b*b-4*a*c,res=[];if(det>=0){var sdet=Math.sqrt(det),a2=2*a,t1=(-b-sdet)/a2,t2=(-b+sdet)/a2;t1>Ray.NEAR&&res.push(new Intersection(oray,this,t1,null,this.material)),t2>Ray.NEAR&&res.push(new Intersection(oray,this,t2,null,this.material))}return res}},{key:"containsObject",value:function(p){return p[0]*p[0]/this.a2+p[1]*p[1]/this.b2-p[2]*p[2]/this.c2<=this.d}},{key:"uvAtPoint",value:function(point){var v=Math.asinh(point[2]/this.c),cosh_v=Math.cosh(v),u=Math.atan2(point[1]/(this.b*cosh_v),point[0]/(this.a*cosh_v));return new Vector2(u,v)}},{key:"normalAtPoint",value:function(point){return new Vector3(2*point[0]/this.a2,2*point[1]/this.b2,-2*point[2]/this.c2).unit()}}]),GeneralHyperboloid}(VisibleObject),OneSurfaceHyperboloid=function(_GeneralHyperboloid){function OneSurfaceHyperboloid(){var a=arguments.length<=0||void 0===arguments[0]?1:arguments[0],b=arguments.length<=1||void 0===arguments[1]?1:arguments[1],c=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return _classCallCheck(this,OneSurfaceHyperboloid),_possibleConstructorReturn(this,Object.getPrototypeOf(OneSurfaceHyperboloid).call(this,1,a,b,c))}return _inherits(OneSurfaceHyperboloid,_GeneralHyperboloid),OneSurfaceHyperboloid}(GeneralHyperboloid),TwoSurfaceHyperboloid=function(_GeneralHyperboloid2){function TwoSurfaceHyperboloid(){var a=arguments.length<=0||void 0===arguments[0]?1:arguments[0],b=arguments.length<=1||void 0===arguments[1]?1:arguments[1],c=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return _classCallCheck(this,TwoSurfaceHyperboloid),_possibleConstructorReturn(this,Object.getPrototypeOf(TwoSurfaceHyperboloid).call(this,-1,a,b,c))}return _inherits(TwoSurfaceHyperboloid,_GeneralHyperboloid2),_createClass(TwoSurfaceHyperboloid,[{key:"uvAtPoint",value:function(point){var v=Math.acosh(Math.abs(point[2]/this.c)),sinh_v=Math.sinh(v),u=Math.atan2(point[1]/(this.b*sinh_v),point[0]/(this.a*sinh_v));return new Vector2(u,v)}}]),TwoSurfaceHyperboloid}(GeneralHyperboloid),PARABOLOID_CLASSES={elliptical:EllipticalParaboloid,hyperbolic:HyperbolicParaboloid,extruded:ExtrudedParabola},ParaboloidExhibit=function(_ObjectExhibit){function ParaboloidExhibit(){return _classCallCheck(this,ParaboloidExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(ParaboloidExhibit).apply(this,arguments))}return _inherits(ParaboloidExhibit,_ObjectExhibit),_createClass(ParaboloidExhibit,[{key:"makeObject",value:function(){var ParaboloidClass=PARABOLOID_CLASSES[this.params.type],paraboloid=new ParaboloidClass(this.params.a,this.params.b).setMaterial(this.defaultMaterial());if(this.params.clip.clip){var clippingSphere=(new Sphere).scale(this.params.clip.radius);return new CSGClip(paraboloid,clippingSphere)}return paraboloid}}],[{key:"label",value:function(){return"Paraboloids"}},{key:"params",value:function(){return[new Choice({id:"type",label:"Paraboloid type",defaultValue:"elliptical",options:[{value:"elliptical",label:"Elliptical paraboloid"},{value:"hyperbolic",label:"Hyperbolic paraboloid"},{value:"extruded",label:"Extruded parabola"}]}),new _Number({id:"a",label:"a (divisor of x)",defaultValue:1,uiStep:.1}),new _Number({id:"b",label:"b (divisor of y)",defaultValue:1,uiStep:.1}),new ParamGroup({id:"clip",label:"Clipping",params:[new _Boolean({id:"clip",label:"Clip to sphere",defaultValue:!1}),new _Number({id:"radius",label:"Clipping sphere radius",defaultValue:1,min:0,uiStep:.1})]})].concat(_toConsumableArray(_get(Object.getPrototypeOf(ParaboloidExhibit),"params",this).call(this)))}}]),ParaboloidExhibit}(ObjectExhibit),HYPERBOLOID_CLASSES={"one-surface":OneSurfaceHyperboloid,"two-surfaces":TwoSurfaceHyperboloid},HyperboloidExhibit=function(_ObjectExhibit2){function HyperboloidExhibit(){return _classCallCheck(this,HyperboloidExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(HyperboloidExhibit).apply(this,arguments))}return _inherits(HyperboloidExhibit,_ObjectExhibit2),_createClass(HyperboloidExhibit,[{key:"makeObject",value:function(){var HyperboloidClass=HYPERBOLOID_CLASSES[this.params.type],hyperboloid=new HyperboloidClass(this.params.a,this.params.b,this.params.c).setMaterial(this.defaultMaterial());if(this.params.clip.clip){var clippingSphere=(new Sphere).scale(this.params.clip.radius);return new CSGClip(hyperboloid,clippingSphere)}return hyperboloid}}],[{key:"label",value:function(){return"Hyperboloids"}},{key:"params",value:function(){return[new Choice({id:"type",label:"Hyperboloid type",defaultValue:"one-surface",options:[{value:"one-surface",label:"Hyperboloid of one surface"},{value:"two-surfaces",label:"Hyperboloid of two surfaces"}]}),new _Number({id:"a",label:"a (divisor of x)",defaultValue:1,uiStep:.1}),new _Number({id:"b",label:"b (divisor of y)",defaultValue:1,uiStep:.1}),new _Number({id:"c",label:"c (divisor of z)",defaultValue:1,uiStep:.1}),new ParamGroup({id:"clip",label:"Clipping",params:[new _Boolean({id:"clip",label:"Clip to sphere",defaultValue:!1}),new _Number({id:"radius",label:"Clipping sphere radius",defaultValue:1.5,min:0,uiStep:.1})]})].concat(_toConsumableArray(_get(Object.getPrototypeOf(HyperboloidExhibit),"params",this).call(this)))}}]),HyperboloidExhibit}(ObjectExhibit),PhongParamsExhibit=function(_SingleCameraParametr){function PhongParamsExhibit(){return _classCallCheck(this,PhongParamsExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(PhongParamsExhibit).apply(this,arguments))}return _inherits(PhongParamsExhibit,_SingleCameraParametr),_createClass(PhongParamsExhibit,[{key:"build",value:function(){this.world.background=new BlueSkyBackground,this.world.ambient_light_strength=this.params.lighting.ambient,this.world.add(new DirectionalLight(new Vector3(1,1,(-1)),1,this.params.lighting.colour)),this.world.add((new Sphere).setMaterial(this.material()))}},{key:"material",value:function(){var pp=new PhongParams(this.params.phong.ambientAmount,this.params.phong.ambientColour,this.params.phong.diffuseAmount,this.params.phong.diffuseColour,this.params.phong.specularAmount,this.params.phong.specularColour,this.params.phong.shininess);return new SolidPhongMaterial(pp)}},{key:"initCamera",value:function(camera){_get(Object.getPrototypeOf(PhongParamsExhibit.prototype),"initCamera",this).call(this,camera),camera.translate(0,-4,0)}}],[{key:"label",value:function(){return"Phong illumination parameters"}},{key:"params",value:function(){return[new ParamGroup({id:"phong",label:"Phong illumination parameters for material",params:[new _Number({id:"ambientAmount",label:"Ambient reflection strength",defaultValue:1,min:0,max:1,uiStep:.05}),new RGB({id:"ambientColour",label:"Ambient reflection colour",defaultValue:White$1}),new _Number({id:"diffuseAmount",label:"Diffuse reflection strength",defaultValue:1,min:0,max:1,uiStep:.05}),new RGB({id:"diffuseColour",label:"Diffuse reflection colour",defaultValue:White$1}),new _Number({id:"specularAmount",label:"Specular reflection strength",defaultValue:1,min:0,max:1,uiStep:.05}),new RGB({id:"specularColour",label:"Specular reflection colour",defaultValue:White$1}),new _Number({id:"shininess",label:"Shininess (for specular reflection)",defaultValue:10,min:0,max:100,uiStep:.25})]}),new ParamGroup({id:"lighting",label:"Lighting",params:[new RGB({id:"colour",label:"Light colour",defaultValue:White$1}),new _Number({id:"ambient",label:"Ambient light level",defaultValue:.15,min:0,max:1,uiStep:.05})]})].concat(_toConsumableArray(_get(Object.getPrototypeOf(PhongParamsExhibit),"params",this).call(this)))}}]),PhongParamsExhibit}(SingleCameraParametricScene),SolidColouredMaterialExhibit=function(_SingleCameraParametr2){function SolidColouredMaterialExhibit(){return _classCallCheck(this,SolidColouredMaterialExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(SolidColouredMaterialExhibit).apply(this,arguments))}return _inherits(SolidColouredMaterialExhibit,_SingleCameraParametr2),_createClass(SolidColouredMaterialExhibit,[{key:"build",value:function(){this.world.background=new BlueSkyBackground,this.world.ambient_light_strength=this.params.ambient,this.world.add(new DirectionalLight(new Vector3(1,1,(-1)),1,this.params.lightColour)),this.world.add((new GroundPlane).translate(0,0,-1.5)),this.world.add((new Sphere).setMaterial(this.material()).scale(1.2).translate(0,0,.2))}},{key:"material",value:function(){var Material=SolidColouredMaterialExhibit.MATERIALS[this.params.material];return new Material(this.params.materialColour)}},{key:"initCamera",value:function(camera){_get(Object.getPrototypeOf(SolidColouredMaterialExhibit.prototype),"initCamera",this).call(this,camera),camera.translate(0,-4,0)}}],[{key:"label",value:function(){return"Solid coloured materials"}},{key:"params",value:function(){return[new Choice({id:"material",label:"Material type",defaultValue:"shiny",options:[{value:"solid",label:"Solid shaded (no lighting)"},{value:"matt",label:"Matt (ambient, diffuse)"},{value:"shiny",label:"Shiny (ambient, diffuse, specular)"},{value:"metallic",label:"Metallic (ambient, diffuse, specular, reflection)"},{value:"mirror",label:"Mirror (reflection only)"}]}),new RGB({id:"materialColour",label:"Material base colour",defaultValue:Yellow$1}),new RGB({id:"lightColour",label:"Light colour",defaultValue:White$1}),new _Number({id:"ambient",label:"Ambient light level",defaultValue:.15,min:0,max:1,uiStep:.05})].concat(_toConsumableArray(_get(Object.getPrototypeOf(SolidColouredMaterialExhibit),"params",this).call(this)))}}]),SolidColouredMaterialExhibit}(SingleCameraParametricScene),SolidColouredMaterialExhibit.MATERIALS={solid:SolidShadedMaterial,matt:SolidMattMaterial,shiny:SolidShinyMaterial,metallic:SolidMetallicMaterial,mirror:Mirror},TextureExhibit=function(_SingleCameraParametr){function TextureExhibit(){return _classCallCheck(this,TextureExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(TextureExhibit).apply(this,arguments))}return _inherits(TextureExhibit,_SingleCameraParametr),_createClass(TextureExhibit,[{key:"material",value:function(){throw new AbstractMethodError}},{key:"object",value:function(){return(new Cube).rotateZDeg(45).rotateXDeg(-30)}},{key:"build",value:function(){this.world.background=new BlueSkyBackground,this.world.ambient_light_strength=.15,this.world.add(new DirectionalLight(new Vector3(1,1,(-1)))),this.world.add(this.object().setMaterial(this.material()))}},{key:"initCamera",value:function(camera){_get(Object.getPrototypeOf(TextureExhibit.prototype),"initCamera",this).call(this,camera),camera.translate(0,-5,0)}}]),TextureExhibit}(SingleCameraParametricScene),Textured3DPhongMaterial=function(_PhongMaterial){function Textured3DPhongMaterial(texture){_classCallCheck(this,Textured3DPhongMaterial);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Textured3DPhongMaterial).call(this));return _this.texture=texture,_this}return _inherits(Textured3DPhongMaterial,_PhongMaterial),_createClass(Textured3DPhongMaterial,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.texture+"}"}},{key:"phongParamsAtPoint",value:function(t3d,t2d){return this.texture.get(t3d)}}]),Textured3DPhongMaterial}(PhongMaterial),Textured2DPhongMaterial=function(_PhongMaterial2){function Textured2DPhongMaterial(texture){_classCallCheck(this,Textured2DPhongMaterial);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(Textured2DPhongMaterial).call(this));return _this2.texture=texture,_this2}return _inherits(Textured2DPhongMaterial,_PhongMaterial2),_createClass(Textured2DPhongMaterial,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.texture+"}"}},{key:"phongParamsAtPoint",value:function(t3d,t2d){return this.texture.get(t2d)}}]),Textured2DPhongMaterial}(PhongMaterial),Textured3DMattMaterial=function(_Textured3DPhongMater){function Textured3DMattMaterial(texture){_classCallCheck(this,Textured3DMattMaterial);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(Textured3DMattMaterial).call(this));return _this3.texture=texture,_this3}return _inherits(Textured3DMattMaterial,_Textured3DPhongMater),_createClass(Textured3DMattMaterial,[{key:"phongParamsAtPoint",value:function(t3d,t2d){var colour=this.texture.get(t3d);return new PhongParams(1,colour,1,colour,0,White,1)}}]),Textured3DMattMaterial}(Textured3DPhongMaterial),Textured2DMattMaterial=function(_Textured2DPhongMater){function Textured2DMattMaterial(texture){_classCallCheck(this,Textured2DMattMaterial);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(Textured2DMattMaterial).call(this));return _this4.texture=texture,_this4}return _inherits(Textured2DMattMaterial,_Textured2DPhongMater),_createClass(Textured2DMattMaterial,[{key:"phongParamsAtPoint",value:function(t3d,t2d){var colour=this.texture.get(t2d);return new PhongParams(1,colour,1,colour,0,White,1)}}]),Textured2DMattMaterial}(Textured2DPhongMaterial),Textured3DShinyMaterial=function(_Textured3DPhongMater2){function Textured3DShinyMaterial(texture){var shininess=arguments.length<=1||void 0===arguments[1]?10:arguments[1];_classCallCheck(this,Textured3DShinyMaterial);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(Textured3DShinyMaterial).call(this));return _this5.texture=texture,_this5.shininess=shininess,_this5}return _inherits(Textured3DShinyMaterial,_Textured3DPhongMater2),_createClass(Textured3DShinyMaterial,[{key:"phongParamsAtPoint",value:function(t3d,t2d){var colour=this.texture.get(t3d);return new PhongParams(1,colour,1,colour,1,White,this.shininess)}}]),Textured3DShinyMaterial}(Textured3DPhongMaterial),Textured2DShinyMaterial=function(_Textured2DPhongMater2){function Textured2DShinyMaterial(texture){var shininess=arguments.length<=1||void 0===arguments[1]?10:arguments[1];_classCallCheck(this,Textured2DShinyMaterial);var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(Textured2DShinyMaterial).call(this));return _this6.texture=texture,_this6.shininess=shininess,_this6}return _inherits(Textured2DShinyMaterial,_Textured2DPhongMater2),_createClass(Textured2DShinyMaterial,[{key:"phongParamsAtPoint",value:function(t3d,t2d){var colour=this.texture.get(t2d);return new PhongParams(1,colour,1,colour,1,White,this.shininess)}}]),Textured2DShinyMaterial}(Textured2DPhongMaterial),Texture=function(){function Texture(){_classCallCheck(this,Texture)}return _createClass(Texture,[{key:"toString",value:function(){return"{"+this.constructor.name+"}"}},{key:"get",value:function(point){throw new AbstractMethodError}}]),Texture}(),Texture2D=function(_Texture){function Texture2D(){return _classCallCheck(this,Texture2D),_possibleConstructorReturn(this,Object.getPrototypeOf(Texture2D).apply(this,arguments))}return _inherits(Texture2D,_Texture),Texture2D}(Texture),Texture3D=function(_Texture2){function Texture3D(){return _classCallCheck(this,Texture3D),_possibleConstructorReturn(this,Object.getPrototypeOf(Texture3D).apply(this,arguments))}return _inherits(Texture3D,_Texture2),Texture3D}(Texture),CompositeTexture=function(_Texture3){function CompositeTexture(){_classCallCheck(this,CompositeTexture);for(var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(CompositeTexture).call(this)),_len=arguments.length,textures=Array(_len),_key=0;_key<_len;_key++)textures[_key]=arguments[_key];return _this3.components=textures,_this3}return _inherits(CompositeTexture,_Texture3),_createClass(CompositeTexture,[{key:"add",value:function(texture){return this.components.push(texture),this}}]),CompositeTexture}(Texture),SolidTexture=function(_Texture4){function SolidTexture(value){_classCallCheck(this,SolidTexture);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(SolidTexture).call(this));return _this4.value=value,_this4}return _inherits(SolidTexture,_Texture4),_createClass(SolidTexture,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.value+"}"}},{key:"get",value:function(point){return this.value}}]),SolidTexture}(Texture),FunctionTexture=function(_Texture5){function FunctionTexture(get){_classCallCheck(this,FunctionTexture);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(FunctionTexture).call(this));return _this5.get=get,_this5}return _inherits(FunctionTexture,_Texture5),FunctionTexture}(Texture),MapTexture=function(_Texture6){function MapTexture(func,texture){_classCallCheck(this,MapTexture);var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(MapTexture).call(this));return _this6.func=func,_this6.texture=texture,_this6}return _inherits(MapTexture,_Texture6),_createClass(MapTexture,[{key:"get",value:function(point){return this.func(this.texture.get(point))}}]),MapTexture}(Texture),Transformable2DTexture=function(_Texture2D){function Transformable2DTexture(texture){var transform=arguments.length<=1||void 0===arguments[1]?Identity3:arguments[1];_classCallCheck(this,Transformable2DTexture);var _this7=_possibleConstructorReturn(this,Object.getPrototypeOf(Transformable2DTexture).call(this));return _this7.texture=texture,_this7.setTransform(transform),_this7}return _inherits(Transformable2DTexture,_Texture2D),_createClass(Transformable2DTexture,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.texture+", "+this.transform+"}"}},{key:"get",value:function(point){return this.texture.get(point.transformPos(this.texture_to_parent))}},{key:"resetTransform",value:function(){this.parent_to_texture=Identity3,this.texture_to_parent=Identity3}},{key:"setTransform",value:function(parent_to_texture){this.parent_to_texture=parent_to_texture,this.texture_to_parent=parent_to_texture.inverse()}},{key:"transform",value:function(_transform){this.setTransform(_transform.multiply(this.parent_to_texture))}},{key:"translate",value:function(){return this.transform(translate2D.apply(void 0,arguments))}},{key:"scale",value:function(){return this.transform(scale2D.apply(void 0,arguments))}},{key:"rotate",value:function(){return this.transform(rotate2D.apply(void 0,arguments))}},{key:"rotateDeg",value:function(angle){return this.rotate(deg2rad(angle))}}]),Transformable2DTexture}(Texture2D),Transformable3DTexture=function(_Texture3D){function Transformable3DTexture(texture){var transform=arguments.length<=1||void 0===arguments[1]?Identity4:arguments[1];_classCallCheck(this,Transformable3DTexture);var _this8=_possibleConstructorReturn(this,Object.getPrototypeOf(Transformable3DTexture).call(this));return _this8.texture=texture,_this8.setTransform(transform),_this8}return _inherits(Transformable3DTexture,_Texture3D),_createClass(Transformable3DTexture,[{key:"toString",value:function(){return"{"+this.constructor.name+": "+this.texture+", "+this.transform+"}"}},{key:"get",value:function(point){return this.texture.get(point.transformPos(this.texture_to_parent))}},{key:"resetTransform",value:function(){return this.parent_to_texture=Identity4,this.texture_to_parent=Identity4,this}},{key:"setTransform",value:function(parent_to_texture){return this.parent_to_texture=parent_to_texture,this.texture_to_parent=parent_to_texture.inverse(),this}},{key:"transform",value:function(_transform2){return this.setTransform(_transform2.multiply(this.parent_to_texture))}},{key:"translate",value:function(){return this.transform(translate3D.apply(void 0,arguments))}},{key:"scale",value:function(){return this.transform(scale3D.apply(void 0,arguments))}},{key:"rotateX",value:function(){return this.transform(rotate3DX.apply(void 0,arguments))}},{key:"rotateY",value:function(){return this.transform(rotate3DY.apply(void 0,arguments))}},{key:"rotateZ",value:function(){return this.transform(rotate3DZ.apply(void 0,arguments))}},{key:"rotateAxis",value:function(){return this.transform(rotate3DAxis.apply(void 0,arguments))}},{key:"rotateXDeg",value:function(angle){return this.rotateX(deg2rad(angle))}},{key:"rotateYDeg",value:function(angle){return this.rotateY(deg2rad(angle))}},{key:"rotateZDeg",value:function(angle){return this.rotateZ(deg2rad(angle))}},{key:"rotateAxisDeg",value:function(axis,angle){return this.rotateAxis(axis,deg2rad(angle))}}]),Transformable3DTexture}(Texture3D),ScalarPointwiseAddTexture=function(_CompositeTexture){function ScalarPointwiseAddTexture(){return _classCallCheck(this,ScalarPointwiseAddTexture),_possibleConstructorReturn(this,Object.getPrototypeOf(ScalarPointwiseAddTexture).apply(this,arguments))}return _inherits(ScalarPointwiseAddTexture,_CompositeTexture),_createClass(ScalarPointwiseAddTexture,[{key:"get",value:function(point){for(var res=0,i=0;i<this.components.length;i++)res+=this.components[i].get(point);return res}}]),ScalarPointwiseAddTexture}(CompositeTexture),ScalarPointwiseMultiplyTexture=function(_CompositeTexture2){function ScalarPointwiseMultiplyTexture(){return _classCallCheck(this,ScalarPointwiseMultiplyTexture),_possibleConstructorReturn(this,Object.getPrototypeOf(ScalarPointwiseMultiplyTexture).apply(this,arguments))}return _inherits(ScalarPointwiseMultiplyTexture,_CompositeTexture2),_createClass(ScalarPointwiseMultiplyTexture,[{key:"get",value:function(point){for(var res=1,i=0;i<this.components.length;i++)res*=this.components[i].get(point);return res}}]),ScalarPointwiseMultiplyTexture}(CompositeTexture),ScalarMultiplyTexture=function(_Texture7){function ScalarMultiplyTexture(scalar,texture){_classCallCheck(this,ScalarMultiplyTexture);var _this11=_possibleConstructorReturn(this,Object.getPrototypeOf(ScalarMultiplyTexture).call(this));return _this11.scalar=scalar,_this11.texture=texture,_this11}return _inherits(ScalarMultiplyTexture,_Texture7),_createClass(ScalarMultiplyTexture,[{key:"get",value:function(point){return this.scalar*this.texture.get(point)}}]),ScalarMultiplyTexture}(Texture),GradientTexture=function(_Texture){function GradientTexture(scalar_field,gradient){var wave=arguments.length<=2||void 0===arguments[2]?sawtooth:arguments[2];_classCallCheck(this,GradientTexture);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(GradientTexture).call(this));return _this.scalar_field=scalar_field,_this.gradient=gradient,_this.wave=wave,_this}return _inherits(GradientTexture,_Texture),_createClass(GradientTexture,[{key:"toString",value:function(){return"{GradientTexture: "+this.scalar_field+", "+this.gradient+", "+this.wave+"}"}},{key:"get",value:function(point){return this.gradient.colour(this.wave(this.scalar_field.get(point)))}}]),GradientTexture}(Texture),Linear=function(_Texture2D){function Linear(){return _classCallCheck(this,Linear),_possibleConstructorReturn(this,Object.getPrototypeOf(Linear).apply(this,arguments))}return _inherits(Linear,_Texture2D),_createClass(Linear,[{key:"get",value:function(point){return point[0]}}]),Linear}(Texture2D),Radial=function(_Texture2D2){function Radial(){return _classCallCheck(this,Radial),_possibleConstructorReturn(this,Object.getPrototypeOf(Radial).apply(this,arguments))}return _inherits(Radial,_Texture2D2),_createClass(Radial,[{key:"get",value:function(point){return point.norm()}}]),Radial}(Texture2D),Random=function(){function Random(){var seed=arguments.length<=0||void 0===arguments[0]?null:arguments[0];_classCallCheck(this,Random),null!==seed?this.x=4294967295&seed:this.x=Math.round(4294967295*Math.random())}return _createClass(Random,[{key:"get32",value:function(){return this.x=1664525*this.x+1013904223&4294967295,this.x}},{key:"get8",value:function(){return 255&this.get32()}},{key:"getFloat",value:function(){return this.get32()/2147483648}},{key:"getFloat01",value:function(){return(this.getFloat()+1)/2}}]),Random}(),Perlin3D=function(){function Perlin3D(){var seed=arguments.length<=0||void 0===arguments[0]?null:arguments[0],roughness=arguments.length<=1||void 0===arguments[1]?.5:arguments[1],num_octaves=arguments.length<=2||void 0===arguments[2]?5:arguments[2];_classCallCheck(this,Perlin3D),this.roughness=roughness,this.num_octaves=num_octaves,this.octaves=[];for(var random=new Random(seed),amplitude=1,frequency=1,i=0;i<this.num_octaves;i++){var octave=new Octave(random);this.octaves.push([amplitude,frequency,octave]),amplitude*=this.roughness,frequency*=2}}return _createClass(Perlin3D,[{key:"get",value:function(x,y,z){for(var res=0,i=0;i<this.num_octaves;i++){var _octaves$i=_slicedToArray(this.octaves[i],3),amp=_octaves$i[0],freq=_octaves$i[1],octave=_octaves$i[2];res+=amp*octave.get(x*freq,y*freq,z*freq)}return res}}]),Perlin3D}(),Octave=function(){function Octave(){var random=arguments.length<=0||void 0===arguments[0]?new Random:arguments[0];_classCallCheck(this,Octave),this.p=new Array(512);for(var i=0;i<256;i++)this.p[i]=random.get8(),this.p[i+256]=this.p[i]}return _createClass(Octave,[{key:"get",value:function(x,y,z){var cx=255&Math.floor(x),cy=255&Math.floor(y),cz=255&Math.floor(z),rx=x-Math.floor(x),ry=y-Math.floor(y),rz=z-Math.floor(z),u=fade(rx),v=fade(ry),w=fade(rz),a=this.p[cx]+cy,aa=this.p[a]+cz,ab=this.p[a+1]+cz,b=this.p[cx+1]+cy,ba=this.p[b]+cz,bb=this.p[b+1]+cz,c1=grad(this.p[aa],rx,ry,rz),c2=grad(this.p[ba],rx-1,ry,rz),c3=grad(this.p[ab],rx,ry-1,rz),c4=grad(this.p[bb],rx-1,ry-1,rz),c5=grad(this.p[aa+1],rx,ry,rz-1),c6=grad(this.p[ba+1],rx-1,ry,rz-1),c7=grad(this.p[ab+1],rx,ry-1,rz-1),c8=grad(this.p[bb+1],rx-1,ry-1,rz-1);return lerp(lerp(lerp(c1,c2,u),lerp(c3,c4,u),v),lerp(lerp(c5,c6,u),lerp(c7,c8,u),v),w)}}]),Octave}(),Linear$1=function(_Texture3D){function Linear(){return _classCallCheck(this,Linear),_possibleConstructorReturn(this,Object.getPrototypeOf(Linear).apply(this,arguments))}return _inherits(Linear,_Texture3D),_createClass(Linear,[{key:"get",value:function(point){return point[2]}}]),Linear}(Texture3D),Spherical$1=function(_Texture3D2){function Spherical(){return _classCallCheck(this,Spherical),_possibleConstructorReturn(this,Object.getPrototypeOf(Spherical).apply(this,arguments))}return _inherits(Spherical,_Texture3D2),_createClass(Spherical,[{key:"get",value:function(point){return point.norm()}}]),Spherical}(Texture3D),Cylindrical$1=function(_Texture3D3){function Cylindrical(){return _classCallCheck(this,Cylindrical),_possibleConstructorReturn(this,Object.getPrototypeOf(Cylindrical).apply(this,arguments))}return _inherits(Cylindrical,_Texture3D3),_createClass(Cylindrical,[{key:"get",value:function(point){return Math.sqrt(point[0]*point[0]+point[1]*point[1])}}]),Cylindrical}(Texture3D),Perlin=function(_Texture3D4){function Perlin(seed,roughness,num_octaves){var sx=arguments.length<=3||void 0===arguments[3]?1:arguments[3],sy=arguments.length<=4||void 0===arguments[4]?sx:arguments[4],sz=arguments.length<=5||void 0===arguments[5]?sx:arguments[5];_classCallCheck(this,Perlin);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(Perlin).call(this));return _this4.perlin=new Perlin3D(seed,roughness,num_octaves),_this4.sx=sx,_this4.sy=sy,_this4.sz=sz,_this4}return _inherits(Perlin,_Texture3D4),_createClass(Perlin,[{key:"get",value:function(point){return this.perlin.get(point[0]/this.sx,point[1]/this.sy,point[2]/this.sz)}}]),Perlin}(Texture3D),PerlinPerturb=function(_Texture3D5){function PerlinPerturb(texture){var strength=arguments.length<=1||void 0===arguments[1]?1:arguments[1],seed=arguments[2],roughness=arguments[3],num_octaves=arguments[4],sx=arguments[5],sy=arguments[6],sz=arguments[7];_classCallCheck(this,PerlinPerturb);var _this5=_possibleConstructorReturn(this,Object.getPrototypeOf(PerlinPerturb).call(this));
return _this5.texture=texture,_this5.strength=strength,_this5.perlin=new Perlin(seed,roughness,num_octaves,sx,sy,sz),_this5}return _inherits(PerlinPerturb,_Texture3D5),_createClass(PerlinPerturb,[{key:"get",value:function(point){return this.texture.get(point)+this.strength*this.perlin.get(point)}}]),PerlinPerturb}(Texture3D),GradientTexture2DExhibit=function(_TextureExhibit){function GradientTexture2DExhibit(){return _classCallCheck(this,GradientTexture2DExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(GradientTexture2DExhibit).apply(this,arguments))}return _inherits(GradientTexture2DExhibit,_TextureExhibit),_createClass(GradientTexture2DExhibit,[{key:"material",value:function(){var Field=GradientTexture2DExhibit.FIELDS[this.params.fieldType];return new Textured2DShinyMaterial(new GradientTexture(new Field,rainbowGradient)).t2dTransform(this.params.t2dTransform)}}],[{key:"label",value:function(){return"2D gradient textures"}},{key:"params",value:function(){return[new Choice({id:"fieldType",label:"Gradient field type",defaultValue:"linear",options:[{value:"linear",label:"Linear"},{value:"radial",label:"Radial"}]}),new Transform2D({id:"t2dTransform",label:"2D texture transformation"})].concat(_toConsumableArray(_get(Object.getPrototypeOf(GradientTexture2DExhibit),"params",this).call(this)))}}]),GradientTexture2DExhibit}(TextureExhibit),GradientTexture2DExhibit.FIELDS={linear:Linear,radial:Radial},GradientTexture3DExhibit=function(_TextureExhibit2){function GradientTexture3DExhibit(){return _classCallCheck(this,GradientTexture3DExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(GradientTexture3DExhibit).apply(this,arguments))}return _inherits(GradientTexture3DExhibit,_TextureExhibit2),_createClass(GradientTexture3DExhibit,[{key:"material",value:function(){var Field=GradientTexture3DExhibit.FIELDS[this.params.fieldType];return new Textured3DShinyMaterial(new GradientTexture(new Field,rainbowGradient)).t3dTransform(this.params.t3dTransform)}}],[{key:"label",value:function(){return"3D gradient textures"}},{key:"params",value:function(){return[new Choice({id:"fieldType",label:"Gradient field type",defaultValue:"linear",options:[{value:"linear",label:"Linear"},{value:"spherical",label:"Spherical"},{value:"cylindrical",label:"Cylindrical"}]}),new Transform3D({id:"t3dTransform",label:"3D texture transformation"})].concat(_toConsumableArray(_get(Object.getPrototypeOf(GradientTexture3DExhibit),"params",this).call(this)))}}]),GradientTexture3DExhibit}(TextureExhibit),GradientTexture3DExhibit.FIELDS={linear:Linear$1,spherical:Spherical$1,cylindrical:Cylindrical$1},PerlinTextureExhibit=function(_TextureExhibit){function PerlinTextureExhibit(){return _classCallCheck(this,PerlinTextureExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(PerlinTextureExhibit).apply(this,arguments))}return _inherits(PerlinTextureExhibit,_TextureExhibit),_createClass(PerlinTextureExhibit,[{key:"material",value:function(){return new Textured3DShinyMaterial(new GradientTexture(new Perlin(this.params.perlin.seed,this.params.perlin.roughness,this.params.perlin.octaves),rainbowGradient)).t3dTransform(this.params.t3dTransform)}}],[{key:"label",value:function(){return"Perlin noise textures"}},{key:"params",value:function(){return[new ParamGroup({id:"perlin",label:"Perlin noise parameters",params:[new RandomSeed({id:"seed",label:"Random seed",defaultValue:1}),new _Number({id:"roughness",label:"Roughness",defaultValue:.5,min:0,max:1,uiStep:.05}),new Integer({id:"octaves",label:"Number of octaves",defaultValue:5,min:1,max:12})]}),new Transform3D({id:"t3dTransform",label:"3D texture transformation"})].concat(_toConsumableArray(_get(Object.getPrototypeOf(PerlinTextureExhibit),"params",this).call(this)))}}]),PerlinTextureExhibit}(TextureExhibit),PerlinPerturbTextureExhibit=function(_TextureExhibit2){function PerlinPerturbTextureExhibit(){return _classCallCheck(this,PerlinPerturbTextureExhibit),_possibleConstructorReturn(this,Object.getPrototypeOf(PerlinPerturbTextureExhibit).apply(this,arguments))}return _inherits(PerlinPerturbTextureExhibit,_TextureExhibit2),_createClass(PerlinPerturbTextureExhibit,[{key:"material",value:function(){var BaseField=PerlinPerturbTextureExhibit.BASE_FIELDS[this.params.baseFieldType];return new Textured3DShinyMaterial(new GradientTexture(new PerlinPerturb(new BaseField,this.params.perlinStrength,this.params.perlin.seed,this.params.perlin.roughness,this.params.perlin.octaves),rainbowGradient)).t3dTransform(this.params.t3dTransform)}}],[{key:"label",value:function(){return"Perlin noise perturbation textures"}},{key:"params",value:function(){return[new Choice({id:"baseFieldType",label:"Base field",defaultValue:"linear",options:[{value:"linear",label:"Linear gradient"},{value:"spherical",label:"Spherical gradient"},{value:"cylindrical",label:"Cylindrical gradient"}]}),new _Number({id:"perlinStrength",label:"Perlin noise strength",defaultValue:.5,min:0,max:1,uiStep:.05}),new ParamGroup({id:"perlin",label:"Perlin noise parameters",params:[new RandomSeed({id:"seed",label:"Random seed",defaultValue:1}),new _Number({id:"roughness",label:"Roughness",defaultValue:.5,min:0,max:1,uiStep:.05}),new Integer({id:"octaves",label:"Number of octaves",defaultValue:5,min:1,max:12})]}),new Transform3D({id:"t3dTransform",label:"3D texture transformation"})].concat(_toConsumableArray(_get(Object.getPrototypeOf(PerlinPerturbTextureExhibit),"params",this).call(this)))}}]),PerlinPerturbTextureExhibit}(TextureExhibit),PerlinPerturbTextureExhibit.BASE_FIELDS={linear:Linear$1,spherical:Spherical$1,cylindrical:Cylindrical$1},groups=[{label:"Objects",scenes:[{id:"sphere",constructor:SphereExhibit},{id:"plane",constructor:PlaneExhibit},{id:"level-plane",constructor:LevelPlaneExhibit},{id:"infinite-cylinder",constructor:InfiniteCylinderExhibit},{id:"cylinder",constructor:CylinderExhibit},{id:"infinite-cone",constructor:InfiniteConeExhibit},{id:"cone",constructor:ConeExhibit},{id:"square",constructor:SquareExhibit},{id:"disc",constructor:DiscExhibit},{id:"triangle",constructor:TriangleExhibit},{id:"regular-polygon",constructor:RegularPolygonExhibit},{id:"mandelbrot",constructor:MandelbrotExhibit},{id:"tetrahedron",constructor:TetrahedronExhibit},{id:"cube",constructor:CubeExhibit},{id:"octahedron",constructor:OctahedronExhibit},{id:"dodecahedron",constructor:DodecahedronExhibit},{id:"icosahedron",constructor:IcosahedronExhibit},{id:"paraboloids",constructor:ParaboloidExhibit},{id:"hyperboloids",constructor:HyperboloidExhibit}]},{label:"Materials and textures",scenes:[{id:"phong-params",constructor:PhongParamsExhibit},{id:"solid-coloured-materials",constructor:SolidColouredMaterialExhibit},{id:"gradient-textures-2d",constructor:GradientTexture2DExhibit},{id:"gradient-textures-3d",constructor:GradientTexture3DExhibit},{id:"perlin-texture",constructor:PerlinTextureExhibit},{id:"perlin-perturb-texture",constructor:PerlinPerturbTextureExhibit}]}],scenesById=groups.reduce(function(scenes,group){return group.scenes.reduce(function(scenes,scene){return scenes[scene.id]=scene.constructor,scenes},scenes)},{}),SceneParameters=connect(createSelector([function(state){return state.scene.id},function(state){return get(state.scene.parameters,state.scene.id)}],function(sceneId,paramValues){return{sceneId:sceneId,params:sceneId?getSceneById(sceneId).params():[],paramValues:paramValues||{}}}),function(dispatch){return{dispatch:dispatch}},function(stateProps,dispatchProps,ownProps){var dispatch=dispatchProps.dispatch;return merge(ownProps,stateProps,dispatchProps,{onParameterChange:function(path,value){return dispatch(setParameter(stateProps.sceneId,path,value))},onReset:function(){return dispatch(resetScene(stateProps.sceneId))}})})(SceneParameters$1),App$1=function(_ref){var Scene=_ref.Scene;return React.createElement("div",{className:"elrt-app"},React.createElement("header",null,React.createElement("h1",null,"Everybody Loves Ray Tracing"),Scene?React.createElement(SelectedScene,{Scene:Scene}):null),Scene?React.createElement("section",{className:"scene"},React.createElement(RenderDisplay,null),React.createElement("aside",null,React.createElement(SceneParameters,null))):React.createElement(SelectScene,{sceneGroups:groups}))},App$1.propTypes={Scene:React.PropTypes.func},App=connect(createSelector([function(state){return state.scene.id}],function(sceneId){return{Scene:sceneId?getSceneById(sceneId):null}}))(App$1),id=function(){var state=arguments.length<=0||void 0===arguments[0]?null:arguments[0],action=arguments[1];return action.type===actionTypes.selectScene.select?action.sceneId:action.type===actionTypes.selectScene.clear?null:state},_defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},_toArray=function(arr){return Array.isArray(arr)?arr:Array.from(arr)},singleSceneParameters=function(){var state=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],action=arguments[1],sceneId=arguments[2];return action.type===actionTypes.parameters.setParameter&&action.sceneId===sceneId?setParameter$1(state,action.path,action.value):action.type===actionTypes.parameters.resetScene&&action.sceneId===sceneId?{}:action.type===actionTypes.parameters.resetAllScenes?{}:state},mapReducer=objectMapReducer(singleSceneParameters),parameters=function(){var state=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],action=arguments[1];return action.type===actionTypes.selectScene.select?has(state,action.sceneId)?state:merge(state,_defineProperty({},action.sceneId,{})):mapReducer(state,action)},scene=combineReducers({id:id,parameters:parameters}),dimensions=function(){var state=arguments.length<=0||void 0===arguments[0]?null:arguments[0],action=arguments[1];return action.type===actionTypes.display.removed?null:action.type===actionTypes.display.resize?{width:action.width,height:action.height}:state},scale=function(){var state=arguments.length<=0||void 0===arguments[0]?1:arguments[0],action=arguments[1];return action.type===actionTypes.display.setScale?action.scale:state},display=combineReducers({dimensions:dimensions,scale:scale}),render$1=combineReducers({status:status}),reducer=combineReducers({scene:scene,display:display,render:render$1}),store=createStore(reducer,window.devToolsExtension&&window.devToolsExtension()),"loading"!==document.readyState?initApp():document.addEventListener("DOMContentLoaded",initApp),Object.assign(window,{store:store,Vector:Vector$1,Vector2:Vector2,Vector3:Vector3})}}})})(function(factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=factory():app=factory()});